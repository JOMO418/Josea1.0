var U6=Object.defineProperty;var W6=(e,t,r)=>t in e?U6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Mx=(e,t,r)=>W6(e,typeof t!="symbol"?t+"":t,r);function K6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Ms(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ix={exports:{}},Fc={},Dx={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hS;function q6(){if(hS)return st;hS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=h&&U[h]||U["@@iterator"],typeof U=="function"?U:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function j(U,X,me){this.props=U,this.context=X,this.refs=w,this.updater=me||v}j.prototype.isReactComponent={},j.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},j.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=j.prototype;function P(U,X,me){this.props=U,this.context=X,this.refs=w,this.updater=me||v}var k=P.prototype=new S;k.constructor=P,y(k,j.prototype),k.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,z={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function T(U,X,me){var de,ve={},ke=null,Ee=null;if(X!=null)for(de in X.ref!==void 0&&(Ee=X.ref),X.key!==void 0&&(ke=""+X.key),X)A.call(X,de)&&!O.hasOwnProperty(de)&&(ve[de]=X[de]);var G=arguments.length-2;if(G===1)ve.children=me;else if(1<G){for(var L=Array(G),$=0;$<G;$++)L[$]=arguments[$+2];ve.children=L}if(U&&U.defaultProps)for(de in G=U.defaultProps,G)ve[de]===void 0&&(ve[de]=G[de]);return{$$typeof:e,type:U,key:ke,ref:Ee,props:ve,_owner:z.current}}function R(U,X){return{$$typeof:e,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function D(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(me){return X[me]})}var _=/\/+/g;function F(U,X){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):X.toString(36)}function W(U,X,me,de,ve){var ke=typeof U;(ke==="undefined"||ke==="boolean")&&(U=null);var Ee=!1;if(U===null)Ee=!0;else switch(ke){case"string":case"number":Ee=!0;break;case"object":switch(U.$$typeof){case e:case t:Ee=!0}}if(Ee)return Ee=U,ve=ve(Ee),U=de===""?"."+F(Ee,0):de,E(ve)?(me="",U!=null&&(me=U.replace(_,"$&/")+"/"),W(ve,X,me,"",function($){return $})):ve!=null&&(I(ve)&&(ve=R(ve,me+(!ve.key||Ee&&Ee.key===ve.key?"":(""+ve.key).replace(_,"$&/")+"/")+U)),X.push(ve)),1;if(Ee=0,de=de===""?".":de+":",E(U))for(var G=0;G<U.length;G++){ke=U[G];var L=de+F(ke,G);Ee+=W(ke,X,me,L,ve)}else if(L=x(U),typeof L=="function")for(U=L.call(U),G=0;!(ke=U.next()).done;)ke=ke.value,L=de+F(ke,G++),Ee+=W(ke,X,me,L,ve);else if(ke==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ee}function ne(U,X,me){if(U==null)return U;var de=[],ve=0;return W(U,de,"","",function(ke){return X.call(me,ke,ve++)}),de}function Q(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(me){(U._status===0||U._status===-1)&&(U._status=1,U._result=me)},function(me){(U._status===0||U._status===-1)&&(U._status=2,U._result=me)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var V={current:null},q={transition:null},te={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:q,ReactCurrentOwner:z};function se(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:ne,forEach:function(U,X,me){ne(U,function(){X.apply(this,arguments)},me)},count:function(U){var X=0;return ne(U,function(){X++}),X},toArray:function(U){return ne(U,function(X){return X})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},st.Component=j,st.Fragment=r,st.Profiler=a,st.PureComponent=P,st.StrictMode=n,st.Suspense=d,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,st.act=se,st.cloneElement=function(U,X,me){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var de=y({},U.props),ve=U.key,ke=U.ref,Ee=U._owner;if(X!=null){if(X.ref!==void 0&&(ke=X.ref,Ee=z.current),X.key!==void 0&&(ve=""+X.key),U.type&&U.type.defaultProps)var G=U.type.defaultProps;for(L in X)A.call(X,L)&&!O.hasOwnProperty(L)&&(de[L]=X[L]===void 0&&G!==void 0?G[L]:X[L])}var L=arguments.length-2;if(L===1)de.children=me;else if(1<L){G=Array(L);for(var $=0;$<L;$++)G[$]=arguments[$+2];de.children=G}return{$$typeof:e,type:U.type,key:ve,ref:ke,props:de,_owner:Ee}},st.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:i,_context:U},U.Consumer=U},st.createElement=T,st.createFactory=function(U){var X=T.bind(null,U);return X.type=U,X},st.createRef=function(){return{current:null}},st.forwardRef=function(U){return{$$typeof:c,render:U}},st.isValidElement=I,st.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:Q}},st.memo=function(U,X){return{$$typeof:f,type:U,compare:X===void 0?null:X}},st.startTransition=function(U){var X=q.transition;q.transition={};try{U()}finally{q.transition=X}},st.unstable_act=se,st.useCallback=function(U,X){return V.current.useCallback(U,X)},st.useContext=function(U){return V.current.useContext(U)},st.useDebugValue=function(){},st.useDeferredValue=function(U){return V.current.useDeferredValue(U)},st.useEffect=function(U,X){return V.current.useEffect(U,X)},st.useId=function(){return V.current.useId()},st.useImperativeHandle=function(U,X,me){return V.current.useImperativeHandle(U,X,me)},st.useInsertionEffect=function(U,X){return V.current.useInsertionEffect(U,X)},st.useLayoutEffect=function(U,X){return V.current.useLayoutEffect(U,X)},st.useMemo=function(U,X){return V.current.useMemo(U,X)},st.useReducer=function(U,X,me){return V.current.useReducer(U,X,me)},st.useRef=function(U){return V.current.useRef(U)},st.useState=function(U){return V.current.useState(U)},st.useSyncExternalStore=function(U,X,me){return V.current.useSyncExternalStore(U,X,me)},st.useTransition=function(){return V.current.useTransition()},st.version="18.3.1",st}var pS;function Dl(){return pS||(pS=1,Dx.exports=q6()),Dx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS;function H6(){if(xS)return Fc;xS=1;var e=Dl(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,f){var m,h={},x=null,v=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(v=d.ref);for(m in d)n.call(d,m)&&!i.hasOwnProperty(m)&&(h[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)h[m]===void 0&&(h[m]=d[m]);return{$$typeof:t,type:c,key:x,ref:v,props:h,_owner:a.current}}return Fc.Fragment=r,Fc.jsx=l,Fc.jsxs=l,Fc}var gS;function G6(){return gS||(gS=1,Ix.exports=H6()),Ix.exports}var s=G6(),g=Dl();const Se=Ms(g),Y6=K6({__proto__:null,default:Se},[g]);var Df={},Rx={exports:{}},Sn={},_x={exports:{}},Lx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS;function X6(){return vS||(vS=1,(function(e){function t(q,te){var se=q.length;q.push(te);e:for(;0<se;){var U=se-1>>>1,X=q[U];if(0<a(X,te))q[U]=te,q[se]=X,se=U;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var te=q[0],se=q.pop();if(se!==te){q[0]=se;e:for(var U=0,X=q.length,me=X>>>1;U<me;){var de=2*(U+1)-1,ve=q[de],ke=de+1,Ee=q[ke];if(0>a(ve,se))ke<X&&0>a(Ee,ve)?(q[U]=Ee,q[ke]=se,U=ke):(q[U]=ve,q[de]=se,U=de);else if(ke<X&&0>a(Ee,se))q[U]=Ee,q[ke]=se,U=ke;else break e}}return te}function a(q,te){var se=q.sortIndex-te.sortIndex;return se!==0?se:q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],m=1,h=null,x=3,v=!1,y=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(q){for(var te=r(f);te!==null;){if(te.callback===null)n(f);else if(te.startTime<=q)n(f),te.sortIndex=te.expirationTime,t(d,te);else break;te=r(f)}}function E(q){if(w=!1,k(q),!y)if(r(d)!==null)y=!0,Q(A);else{var te=r(f);te!==null&&V(E,te.startTime-q)}}function A(q,te){y=!1,w&&(w=!1,S(T),T=-1),v=!0;var se=x;try{for(k(te),h=r(d);h!==null&&(!(h.expirationTime>te)||q&&!D());){var U=h.callback;if(typeof U=="function"){h.callback=null,x=h.priorityLevel;var X=U(h.expirationTime<=te);te=e.unstable_now(),typeof X=="function"?h.callback=X:h===r(d)&&n(d),k(te)}else n(d);h=r(d)}if(h!==null)var me=!0;else{var de=r(f);de!==null&&V(E,de.startTime-te),me=!1}return me}finally{h=null,x=se,v=!1}}var z=!1,O=null,T=-1,R=5,I=-1;function D(){return!(e.unstable_now()-I<R)}function _(){if(O!==null){var q=e.unstable_now();I=q;var te=!0;try{te=O(!0,q)}finally{te?F():(z=!1,O=null)}}else z=!1}var F;if(typeof P=="function")F=function(){P(_)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ne=W.port2;W.port1.onmessage=_,F=function(){ne.postMessage(null)}}else F=function(){j(_,0)};function Q(q){O=q,z||(z=!0,F())}function V(q,te){T=j(function(){q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,Q(A))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(q){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var se=x;x=te;try{return q()}finally{x=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,te){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=x;x=q;try{return te()}finally{x=se}},e.unstable_scheduleCallback=function(q,te,se){var U=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?U+se:U):se=U,q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=se+X,q={id:m++,callback:te,priorityLevel:q,startTime:se,expirationTime:X,sortIndex:-1},se>U?(q.sortIndex=se,t(f,q),r(d)===null&&q===r(f)&&(w?(S(T),T=-1):w=!0,V(E,se-U))):(q.sortIndex=X,t(d,q),y||v||(y=!0,Q(A))),q},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(q){var te=x;return function(){var se=x;x=te;try{return q.apply(this,arguments)}finally{x=se}}}})(Lx)),Lx}var bS;function Q6(){return bS||(bS=1,_x.exports=X6()),_x.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yS;function Z6(){if(yS)return Sn;yS=1;var e=Dl(),t=Q6();function r(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,u){l(o,u),l(o+"Capture",u)}function l(o,u){for(a[o]=u,o=0;o<u.length;o++)n.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function x(o){return d.call(h,o)?!0:d.call(m,o)?!1:f.test(o)?h[o]=!0:(m[o]=!0,!1)}function v(o,u,p,b){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return b?!1:p!==null?!p.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function y(o,u,p,b){if(u===null||typeof u>"u"||v(o,u,p,b))return!0;if(b)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function w(o,u,p,b,N,C,M){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=b,this.attributeNamespace=N,this.mustUseProperty=p,this.propertyName=o,this.type=u,this.sanitizeURL=C,this.removeEmptyString=M}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){j[o]=new w(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];j[u]=new w(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){j[o]=new w(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){j[o]=new w(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){j[o]=new w(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){j[o]=new w(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){j[o]=new w(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){j[o]=new w(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){j[o]=new w(o,5,!1,o.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(S,P);j[u]=new w(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(S,P);j[u]=new w(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(S,P);j[u]=new w(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){j[o]=new w(o,1,!1,o.toLowerCase(),null,!1,!1)}),j.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){j[o]=new w(o,1,!1,o.toLowerCase(),null,!0,!0)});function k(o,u,p,b){var N=j.hasOwnProperty(u)?j[u]:null;(N!==null?N.type!==0:b||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(y(u,p,N,b)&&(p=null),b||N===null?x(u)&&(p===null?o.removeAttribute(u):o.setAttribute(u,""+p)):N.mustUseProperty?o[N.propertyName]=p===null?N.type===3?!1:"":p:(u=N.attributeName,b=N.attributeNamespace,p===null?o.removeAttribute(u):(N=N.type,p=N===3||N===4&&p===!0?"":""+p,b?o.setAttributeNS(b,u,p):o.setAttribute(u,p))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),z=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),D=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),q=Symbol.iterator;function te(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var se=Object.assign,U;function X(o){if(U===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+o}var me=!1;function de(o,u){if(!o||me)return"";me=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(le){var b=le}Reflect.construct(o,[],u)}else{try{u.call()}catch(le){b=le}o.call(u.prototype)}else{try{throw Error()}catch(le){b=le}o()}}catch(le){if(le&&b&&typeof le.stack=="string"){for(var N=le.stack.split(`
`),C=b.stack.split(`
`),M=N.length-1,K=C.length-1;1<=M&&0<=K&&N[M]!==C[K];)K--;for(;1<=M&&0<=K;M--,K--)if(N[M]!==C[K]){if(M!==1||K!==1)do if(M--,K--,0>K||N[M]!==C[K]){var H=`
`+N[M].replace(" at new "," at ");return o.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",o.displayName)),H}while(1<=M&&0<=K);break}}}finally{me=!1,Error.prepareStackTrace=p}return(o=o?o.displayName||o.name:"")?X(o):""}function ve(o){switch(o.tag){case 5:return X(o.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return o=de(o.type,!1),o;case 11:return o=de(o.type.render,!1),o;case 1:return o=de(o.type,!0),o;default:return""}}function ke(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case O:return"Fragment";case z:return"Portal";case R:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case W:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case D:return(o.displayName||"Context")+".Consumer";case I:return(o._context.displayName||"Context")+".Provider";case _:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ne:return u=o.displayName||null,u!==null?u:ke(o.type)||"Memo";case Q:u=o._payload,o=o._init;try{return ke(o(u))}catch{}}return null}function Ee(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(u);case 8:return u===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function G(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function L(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function $(o){var u=L(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),b=""+o[u];if(!o.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var N=p.get,C=p.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return N.call(this)},set:function(M){b=""+M,C.call(this,M)}}),Object.defineProperty(o,u,{enumerable:p.enumerable}),{getValue:function(){return b},setValue:function(M){b=""+M},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function ue(o){o._valueTracker||(o._valueTracker=$(o))}function ee(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var p=u.getValue(),b="";return o&&(b=L(o)?o.checked?"true":"false":o.value),o=b,o!==p?(u.setValue(o),!0):!1}function Ce(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ye(o,u){var p=u.checked;return se({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??o._wrapperState.initialChecked})}function Xe(o,u){var p=u.defaultValue==null?"":u.defaultValue,b=u.checked!=null?u.checked:u.defaultChecked;p=G(u.value!=null?u.value:p),o._wrapperState={initialChecked:b,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ue(o,u){u=u.checked,u!=null&&k(o,"checked",u,!1)}function re(o,u){Ue(o,u);var p=G(u.value),b=u.type;if(p!=null)b==="number"?(p===0&&o.value===""||o.value!=p)&&(o.value=""+p):o.value!==""+p&&(o.value=""+p);else if(b==="submit"||b==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?Pe(o,u.type,p):u.hasOwnProperty("defaultValue")&&Pe(o,u.type,G(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function fe(o,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var b=u.type;if(!(b!=="submit"&&b!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,p||u===o.value||(o.value=u),o.defaultValue=u}p=o.name,p!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,p!==""&&(o.name=p)}function Pe(o,u,p){(u!=="number"||Ce(o.ownerDocument)!==o)&&(p==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+p&&(o.defaultValue=""+p))}var Je=Array.isArray;function B(o,u,p,b){if(o=o.options,u){u={};for(var N=0;N<p.length;N++)u["$"+p[N]]=!0;for(p=0;p<o.length;p++)N=u.hasOwnProperty("$"+o[p].value),o[p].selected!==N&&(o[p].selected=N),N&&b&&(o[p].defaultSelected=!0)}else{for(p=""+G(p),u=null,N=0;N<o.length;N++){if(o[N].value===p){o[N].selected=!0,b&&(o[N].defaultSelected=!0);return}u!==null||o[N].disabled||(u=o[N])}u!==null&&(u.selected=!0)}}function he(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Te(o,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(r(92));if(Je(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),p=u}o._wrapperState={initialValue:G(p)}}function qe(o,u){var p=G(u.value),b=G(u.defaultValue);p!=null&&(p=""+p,p!==o.value&&(o.value=p),u.defaultValue==null&&o.defaultValue!==p&&(o.defaultValue=p)),b!=null&&(o.defaultValue=""+b)}function Be(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function nt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?nt(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var bt,Vt=(function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,b,N){MSApp.execUnsafeLocalFunction(function(){return o(u,p,b,N)})}:o})(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(bt=bt||document.createElement("div"),bt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=bt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function Nt(o,u){if(u){var p=o.firstChild;if(p&&p===o.lastChild&&p.nodeType===3){p.nodeValue=u;return}}o.textContent=u}var Kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},J=["Webkit","ms","Moz","O"];Object.keys(Kr).forEach(function(o){J.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),Kr[u]=Kr[o]})});function Ae(o,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||Kr.hasOwnProperty(o)&&Kr[o]?(""+u).trim():u+"px"}function $e(o,u){o=o.style;for(var p in u)if(u.hasOwnProperty(p)){var b=p.indexOf("--")===0,N=Ae(p,u[p],b);p==="float"&&(p="cssFloat"),b?o.setProperty(p,N):o[p]=N}}var it=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function At(o,u){if(u){if(it[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function vn(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var et=null;function ft(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var sc=null,Ka=null,la=null;function ac(o){if(o=kc(o)){if(typeof sc!="function")throw Error(r(280));var u=o.stateNode;u&&(u=Yd(u),sc(o.stateNode,o.type,u))}}function Qe(o){Ka?la?la.push(o):la=[o]:Ka=o}function Qt(){if(Ka){var o=Ka,u=la;if(la=Ka=null,ac(o),u)for(o=0;o<u.length;o++)ac(u[o])}}function fr(o,u){return o(u)}function qr(){}var qa=!1;function sr(o,u,p){if(qa)return o(u,p);qa=!0;try{return fr(o,u,p)}finally{qa=!1,(Ka!==null||la!==null)&&(qr(),Qt())}}function Nr(o,u){var p=o.stateNode;if(p===null)return null;var b=Yd(p);if(b===null)return null;p=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(o=o.type,b=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!b;break e;default:o=!1}if(o)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var Ha=!1;if(c)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{Ha=!1}function Dn(o,u,p,b,N,C,M,K,H){var le=Array.prototype.slice.call(arguments,3);try{u.apply(p,le)}catch(be){this.onError(be)}}var Ga=!1,Hn=null,ic=!1,Zp=null,XR={onError:function(o){Ga=!0,Hn=o}};function QR(o,u,p,b,N,C,M,K,H){Ga=!1,Hn=null,Dn.apply(XR,arguments)}function ZR(o,u,p,b,N,C,M,K,H){if(QR.apply(this,arguments),Ga){if(Ga){var le=Hn;Ga=!1,Hn=null}else throw Error(r(198));ic||(ic=!0,Zp=le)}}function Mi(o){var u=o,p=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(p=u.return),o=u.return;while(o)}return u.tag===3?p:null}function _j(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function Lj(o){if(Mi(o)!==o)throw Error(r(188))}function JR(o){var u=o.alternate;if(!u){if(u=Mi(o),u===null)throw Error(r(188));return u!==o?null:o}for(var p=o,b=u;;){var N=p.return;if(N===null)break;var C=N.alternate;if(C===null){if(b=N.return,b!==null){p=b;continue}break}if(N.child===C.child){for(C=N.child;C;){if(C===p)return Lj(N),o;if(C===b)return Lj(N),u;C=C.sibling}throw Error(r(188))}if(p.return!==b.return)p=N,b=C;else{for(var M=!1,K=N.child;K;){if(K===p){M=!0,p=N,b=C;break}if(K===b){M=!0,b=N,p=C;break}K=K.sibling}if(!M){for(K=C.child;K;){if(K===p){M=!0,p=C,b=N;break}if(K===b){M=!0,b=C,p=N;break}K=K.sibling}if(!M)throw Error(r(189))}}if(p.alternate!==b)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?o:u}function $j(o){return o=JR(o),o!==null?Fj(o):null}function Fj(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=Fj(o);if(u!==null)return u;o=o.sibling}return null}var Bj=t.unstable_scheduleCallback,Vj=t.unstable_cancelCallback,e_=t.unstable_shouldYield,t_=t.unstable_requestPaint,Zt=t.unstable_now,r_=t.unstable_getCurrentPriorityLevel,Jp=t.unstable_ImmediatePriority,Uj=t.unstable_UserBlockingPriority,Ad=t.unstable_NormalPriority,n_=t.unstable_LowPriority,Wj=t.unstable_IdlePriority,zd=null,_s=null;function s_(o){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(zd,o,void 0,(o.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:o_,a_=Math.log,i_=Math.LN2;function o_(o){return o>>>=0,o===0?32:31-(a_(o)/i_|0)|0}var Od=64,Td=4194304;function oc(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Md(o,u){var p=o.pendingLanes;if(p===0)return 0;var b=0,N=o.suspendedLanes,C=o.pingedLanes,M=p&268435455;if(M!==0){var K=M&~N;K!==0?b=oc(K):(C&=M,C!==0&&(b=oc(C)))}else M=p&~N,M!==0?b=oc(M):C!==0&&(b=oc(C));if(b===0)return 0;if(u!==0&&u!==b&&(u&N)===0&&(N=b&-b,C=u&-u,N>=C||N===16&&(C&4194240)!==0))return u;if((b&4)!==0&&(b|=p&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=b;0<u;)p=31-xs(u),N=1<<p,b|=o[p],u&=~N;return b}function l_(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c_(o,u){for(var p=o.suspendedLanes,b=o.pingedLanes,N=o.expirationTimes,C=o.pendingLanes;0<C;){var M=31-xs(C),K=1<<M,H=N[M];H===-1?((K&p)===0||(K&b)!==0)&&(N[M]=l_(K,u)):H<=u&&(o.expiredLanes|=K),C&=~K}}function e0(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function Kj(){var o=Od;return Od<<=1,(Od&4194240)===0&&(Od=64),o}function t0(o){for(var u=[],p=0;31>p;p++)u.push(o);return u}function lc(o,u,p){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-xs(u),o[u]=p}function u_(o,u){var p=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var b=o.eventTimes;for(o=o.expirationTimes;0<p;){var N=31-xs(p),C=1<<N;u[N]=0,b[N]=-1,o[N]=-1,p&=~C}}function r0(o,u){var p=o.entangledLanes|=u;for(o=o.entanglements;p;){var b=31-xs(p),N=1<<b;N&u|o[b]&u&&(o[b]|=u),p&=~N}}var pt=0;function qj(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Hj,n0,Gj,Yj,Xj,s0=!1,Id=[],Ya=null,Xa=null,Qa=null,cc=new Map,uc=new Map,Za=[],d_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qj(o,u){switch(o){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":cc.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(u.pointerId)}}function dc(o,u,p,b,N,C){return o===null||o.nativeEvent!==C?(o={blockedOn:u,domEventName:p,eventSystemFlags:b,nativeEvent:C,targetContainers:[N]},u!==null&&(u=kc(u),u!==null&&n0(u)),o):(o.eventSystemFlags|=b,u=o.targetContainers,N!==null&&u.indexOf(N)===-1&&u.push(N),o)}function f_(o,u,p,b,N){switch(u){case"focusin":return Ya=dc(Ya,o,u,p,b,N),!0;case"dragenter":return Xa=dc(Xa,o,u,p,b,N),!0;case"mouseover":return Qa=dc(Qa,o,u,p,b,N),!0;case"pointerover":var C=N.pointerId;return cc.set(C,dc(cc.get(C)||null,o,u,p,b,N)),!0;case"gotpointercapture":return C=N.pointerId,uc.set(C,dc(uc.get(C)||null,o,u,p,b,N)),!0}return!1}function Zj(o){var u=Ii(o.target);if(u!==null){var p=Mi(u);if(p!==null){if(u=p.tag,u===13){if(u=_j(p),u!==null){o.blockedOn=u,Xj(o.priority,function(){Gj(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){o.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Dd(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var p=i0(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(p===null){p=o.nativeEvent;var b=new p.constructor(p.type,p);et=b,p.target.dispatchEvent(b),et=null}else return u=kc(p),u!==null&&n0(u),o.blockedOn=p,!1;u.shift()}return!0}function Jj(o,u,p){Dd(o)&&p.delete(u)}function m_(){s0=!1,Ya!==null&&Dd(Ya)&&(Ya=null),Xa!==null&&Dd(Xa)&&(Xa=null),Qa!==null&&Dd(Qa)&&(Qa=null),cc.forEach(Jj),uc.forEach(Jj)}function fc(o,u){o.blockedOn===u&&(o.blockedOn=null,s0||(s0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,m_)))}function mc(o){function u(N){return fc(N,o)}if(0<Id.length){fc(Id[0],o);for(var p=1;p<Id.length;p++){var b=Id[p];b.blockedOn===o&&(b.blockedOn=null)}}for(Ya!==null&&fc(Ya,o),Xa!==null&&fc(Xa,o),Qa!==null&&fc(Qa,o),cc.forEach(u),uc.forEach(u),p=0;p<Za.length;p++)b=Za[p],b.blockedOn===o&&(b.blockedOn=null);for(;0<Za.length&&(p=Za[0],p.blockedOn===null);)Zj(p),p.blockedOn===null&&Za.shift()}var Ro=E.ReactCurrentBatchConfig,Rd=!0;function h_(o,u,p,b){var N=pt,C=Ro.transition;Ro.transition=null;try{pt=1,a0(o,u,p,b)}finally{pt=N,Ro.transition=C}}function p_(o,u,p,b){var N=pt,C=Ro.transition;Ro.transition=null;try{pt=4,a0(o,u,p,b)}finally{pt=N,Ro.transition=C}}function a0(o,u,p,b){if(Rd){var N=i0(o,u,p,b);if(N===null)N0(o,u,b,_d,p),Qj(o,b);else if(f_(N,o,u,p,b))b.stopPropagation();else if(Qj(o,b),u&4&&-1<d_.indexOf(o)){for(;N!==null;){var C=kc(N);if(C!==null&&Hj(C),C=i0(o,u,p,b),C===null&&N0(o,u,b,_d,p),C===N)break;N=C}N!==null&&b.stopPropagation()}else N0(o,u,b,null,p)}}var _d=null;function i0(o,u,p,b){if(_d=null,o=ft(b),o=Ii(o),o!==null)if(u=Mi(o),u===null)o=null;else if(p=u.tag,p===13){if(o=_j(u),o!==null)return o;o=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return _d=o,null}function eN(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r_()){case Jp:return 1;case Uj:return 4;case Ad:case n_:return 16;case Wj:return 536870912;default:return 16}default:return 16}}var Ja=null,o0=null,Ld=null;function tN(){if(Ld)return Ld;var o,u=o0,p=u.length,b,N="value"in Ja?Ja.value:Ja.textContent,C=N.length;for(o=0;o<p&&u[o]===N[o];o++);var M=p-o;for(b=1;b<=M&&u[p-b]===N[C-b];b++);return Ld=N.slice(o,1<b?1-b:void 0)}function $d(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Fd(){return!0}function rN(){return!1}function Rn(o){function u(p,b,N,C,M){this._reactName=p,this._targetInst=N,this.type=b,this.nativeEvent=C,this.target=M,this.currentTarget=null;for(var K in o)o.hasOwnProperty(K)&&(p=o[K],this[K]=p?p(C):C[K]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Fd:rN,this.isPropagationStopped=rN,this}return se(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Fd)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Fd)},persist:function(){},isPersistent:Fd}),u}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l0=Rn(_o),hc=se({},_o,{view:0,detail:0}),x_=Rn(hc),c0,u0,pc,Bd=se({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f0,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==pc&&(pc&&o.type==="mousemove"?(c0=o.screenX-pc.screenX,u0=o.screenY-pc.screenY):u0=c0=0,pc=o),c0)},movementY:function(o){return"movementY"in o?o.movementY:u0}}),nN=Rn(Bd),g_=se({},Bd,{dataTransfer:0}),v_=Rn(g_),b_=se({},hc,{relatedTarget:0}),d0=Rn(b_),y_=se({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),w_=Rn(y_),j_=se({},_o,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),N_=Rn(j_),S_=se({},_o,{data:0}),sN=Rn(S_),k_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E_(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=C_[o])?!!u[o]:!1}function f0(){return E_}var A_=se({},hc,{key:function(o){if(o.key){var u=k_[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=$d(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?P_[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f0,charCode:function(o){return o.type==="keypress"?$d(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?$d(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),z_=Rn(A_),O_=se({},Bd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aN=Rn(O_),T_=se({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f0}),M_=Rn(T_),I_=se({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),D_=Rn(I_),R_=se({},Bd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),__=Rn(R_),L_=[9,13,27,32],m0=c&&"CompositionEvent"in window,xc=null;c&&"documentMode"in document&&(xc=document.documentMode);var $_=c&&"TextEvent"in window&&!xc,iN=c&&(!m0||xc&&8<xc&&11>=xc),oN=" ",lN=!1;function cN(o,u){switch(o){case"keyup":return L_.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uN(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Lo=!1;function F_(o,u){switch(o){case"compositionend":return uN(u);case"keypress":return u.which!==32?null:(lN=!0,oN);case"textInput":return o=u.data,o===oN&&lN?null:o;default:return null}}function B_(o,u){if(Lo)return o==="compositionend"||!m0&&cN(o,u)?(o=tN(),Ld=o0=Ja=null,Lo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return iN&&u.locale!=="ko"?null:u.data;default:return null}}var V_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dN(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!V_[o.type]:u==="textarea"}function fN(o,u,p,b){Qe(b),u=qd(u,"onChange"),0<u.length&&(p=new l0("onChange","change",null,p,b),o.push({event:p,listeners:u}))}var gc=null,vc=null;function U_(o){zN(o,0)}function Vd(o){var u=Uo(o);if(ee(u))return o}function W_(o,u){if(o==="change")return u}var mN=!1;if(c){var h0;if(c){var p0="oninput"in document;if(!p0){var hN=document.createElement("div");hN.setAttribute("oninput","return;"),p0=typeof hN.oninput=="function"}h0=p0}else h0=!1;mN=h0&&(!document.documentMode||9<document.documentMode)}function pN(){gc&&(gc.detachEvent("onpropertychange",xN),vc=gc=null)}function xN(o){if(o.propertyName==="value"&&Vd(vc)){var u=[];fN(u,vc,o,ft(o)),sr(U_,u)}}function K_(o,u,p){o==="focusin"?(pN(),gc=u,vc=p,gc.attachEvent("onpropertychange",xN)):o==="focusout"&&pN()}function q_(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Vd(vc)}function H_(o,u){if(o==="click")return Vd(u)}function G_(o,u){if(o==="input"||o==="change")return Vd(u)}function Y_(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var gs=typeof Object.is=="function"?Object.is:Y_;function bc(o,u){if(gs(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var p=Object.keys(o),b=Object.keys(u);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var N=p[b];if(!d.call(u,N)||!gs(o[N],u[N]))return!1}return!0}function gN(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function vN(o,u){var p=gN(o);o=0;for(var b;p;){if(p.nodeType===3){if(b=o+p.textContent.length,o<=u&&b>=u)return{node:p,offset:u-o};o=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=gN(p)}}function bN(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?bN(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function yN(){for(var o=window,u=Ce();u instanceof o.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)o=u.contentWindow;else break;u=Ce(o.document)}return u}function x0(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function X_(o){var u=yN(),p=o.focusedElem,b=o.selectionRange;if(u!==p&&p&&p.ownerDocument&&bN(p.ownerDocument.documentElement,p)){if(b!==null&&x0(p)){if(u=b.start,o=b.end,o===void 0&&(o=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(o,p.value.length);else if(o=(u=p.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var N=p.textContent.length,C=Math.min(b.start,N);b=b.end===void 0?C:Math.min(b.end,N),!o.extend&&C>b&&(N=b,b=C,C=N),N=vN(p,C);var M=vN(p,b);N&&M&&(o.rangeCount!==1||o.anchorNode!==N.node||o.anchorOffset!==N.offset||o.focusNode!==M.node||o.focusOffset!==M.offset)&&(u=u.createRange(),u.setStart(N.node,N.offset),o.removeAllRanges(),C>b?(o.addRange(u),o.extend(M.node,M.offset)):(u.setEnd(M.node,M.offset),o.addRange(u)))}}for(u=[],o=p;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)o=u[p],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Q_=c&&"documentMode"in document&&11>=document.documentMode,$o=null,g0=null,yc=null,v0=!1;function wN(o,u,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;v0||$o==null||$o!==Ce(b)||(b=$o,"selectionStart"in b&&x0(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),yc&&bc(yc,b)||(yc=b,b=qd(g0,"onSelect"),0<b.length&&(u=new l0("onSelect","select",null,u,p),o.push({event:u,listeners:b}),u.target=$o)))}function Ud(o,u){var p={};return p[o.toLowerCase()]=u.toLowerCase(),p["Webkit"+o]="webkit"+u,p["Moz"+o]="moz"+u,p}var Fo={animationend:Ud("Animation","AnimationEnd"),animationiteration:Ud("Animation","AnimationIteration"),animationstart:Ud("Animation","AnimationStart"),transitionend:Ud("Transition","TransitionEnd")},b0={},jN={};c&&(jN=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Wd(o){if(b0[o])return b0[o];if(!Fo[o])return o;var u=Fo[o],p;for(p in u)if(u.hasOwnProperty(p)&&p in jN)return b0[o]=u[p];return o}var NN=Wd("animationend"),SN=Wd("animationiteration"),kN=Wd("animationstart"),PN=Wd("transitionend"),CN=new Map,EN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(o,u){CN.set(o,u),i(u,[o])}for(var y0=0;y0<EN.length;y0++){var w0=EN[y0],Z_=w0.toLowerCase(),J_=w0[0].toUpperCase()+w0.slice(1);ei(Z_,"on"+J_)}ei(NN,"onAnimationEnd"),ei(SN,"onAnimationIteration"),ei(kN,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(PN,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e6=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function AN(o,u,p){var b=o.type||"unknown-event";o.currentTarget=p,ZR(b,u,void 0,o),o.currentTarget=null}function zN(o,u){u=(u&4)!==0;for(var p=0;p<o.length;p++){var b=o[p],N=b.event;b=b.listeners;e:{var C=void 0;if(u)for(var M=b.length-1;0<=M;M--){var K=b[M],H=K.instance,le=K.currentTarget;if(K=K.listener,H!==C&&N.isPropagationStopped())break e;AN(N,K,le),C=H}else for(M=0;M<b.length;M++){if(K=b[M],H=K.instance,le=K.currentTarget,K=K.listener,H!==C&&N.isPropagationStopped())break e;AN(N,K,le),C=H}}}if(ic)throw o=Zp,ic=!1,Zp=null,o}function zt(o,u){var p=u[A0];p===void 0&&(p=u[A0]=new Set);var b=o+"__bubble";p.has(b)||(ON(u,o,2,!1),p.add(b))}function j0(o,u,p){var b=0;u&&(b|=4),ON(p,o,b,u)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function jc(o){if(!o[Kd]){o[Kd]=!0,n.forEach(function(p){p!=="selectionchange"&&(e6.has(p)||j0(p,!1,o),j0(p,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Kd]||(u[Kd]=!0,j0("selectionchange",!1,u))}}function ON(o,u,p,b){switch(eN(u)){case 1:var N=h_;break;case 4:N=p_;break;default:N=a0}p=N.bind(null,u,p,o),N=void 0,!Ha||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(N=!0),b?N!==void 0?o.addEventListener(u,p,{capture:!0,passive:N}):o.addEventListener(u,p,!0):N!==void 0?o.addEventListener(u,p,{passive:N}):o.addEventListener(u,p,!1)}function N0(o,u,p,b,N){var C=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var M=b.tag;if(M===3||M===4){var K=b.stateNode.containerInfo;if(K===N||K.nodeType===8&&K.parentNode===N)break;if(M===4)for(M=b.return;M!==null;){var H=M.tag;if((H===3||H===4)&&(H=M.stateNode.containerInfo,H===N||H.nodeType===8&&H.parentNode===N))return;M=M.return}for(;K!==null;){if(M=Ii(K),M===null)return;if(H=M.tag,H===5||H===6){b=C=M;continue e}K=K.parentNode}}b=b.return}sr(function(){var le=C,be=ft(p),je=[];e:{var ge=CN.get(o);if(ge!==void 0){var ze=l0,De=o;switch(o){case"keypress":if($d(p)===0)break e;case"keydown":case"keyup":ze=z_;break;case"focusin":De="focus",ze=d0;break;case"focusout":De="blur",ze=d0;break;case"beforeblur":case"afterblur":ze=d0;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=nN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=v_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=M_;break;case NN:case SN:case kN:ze=w_;break;case PN:ze=D_;break;case"scroll":ze=x_;break;case"wheel":ze=__;break;case"copy":case"cut":case"paste":ze=N_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=aN}var Le=(u&4)!==0,Jt=!Le&&o==="scroll",ae=Le?ge!==null?ge+"Capture":null:ge;Le=[];for(var Y=le,oe;Y!==null;){oe=Y;var Ne=oe.stateNode;if(oe.tag===5&&Ne!==null&&(oe=Ne,ae!==null&&(Ne=Nr(Y,ae),Ne!=null&&Le.push(Nc(Y,Ne,oe)))),Jt)break;Y=Y.return}0<Le.length&&(ge=new ze(ge,De,null,p,be),je.push({event:ge,listeners:Le}))}}if((u&7)===0){e:{if(ge=o==="mouseover"||o==="pointerover",ze=o==="mouseout"||o==="pointerout",ge&&p!==et&&(De=p.relatedTarget||p.fromElement)&&(Ii(De)||De[ca]))break e;if((ze||ge)&&(ge=be.window===be?be:(ge=be.ownerDocument)?ge.defaultView||ge.parentWindow:window,ze?(De=p.relatedTarget||p.toElement,ze=le,De=De?Ii(De):null,De!==null&&(Jt=Mi(De),De!==Jt||De.tag!==5&&De.tag!==6)&&(De=null)):(ze=null,De=le),ze!==De)){if(Le=nN,Ne="onMouseLeave",ae="onMouseEnter",Y="mouse",(o==="pointerout"||o==="pointerover")&&(Le=aN,Ne="onPointerLeave",ae="onPointerEnter",Y="pointer"),Jt=ze==null?ge:Uo(ze),oe=De==null?ge:Uo(De),ge=new Le(Ne,Y+"leave",ze,p,be),ge.target=Jt,ge.relatedTarget=oe,Ne=null,Ii(be)===le&&(Le=new Le(ae,Y+"enter",De,p,be),Le.target=oe,Le.relatedTarget=Jt,Ne=Le),Jt=Ne,ze&&De)t:{for(Le=ze,ae=De,Y=0,oe=Le;oe;oe=Bo(oe))Y++;for(oe=0,Ne=ae;Ne;Ne=Bo(Ne))oe++;for(;0<Y-oe;)Le=Bo(Le),Y--;for(;0<oe-Y;)ae=Bo(ae),oe--;for(;Y--;){if(Le===ae||ae!==null&&Le===ae.alternate)break t;Le=Bo(Le),ae=Bo(ae)}Le=null}else Le=null;ze!==null&&TN(je,ge,ze,Le,!1),De!==null&&Jt!==null&&TN(je,Jt,De,Le,!0)}}e:{if(ge=le?Uo(le):window,ze=ge.nodeName&&ge.nodeName.toLowerCase(),ze==="select"||ze==="input"&&ge.type==="file")var Fe=W_;else if(dN(ge))if(mN)Fe=G_;else{Fe=q_;var We=K_}else(ze=ge.nodeName)&&ze.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Fe=H_);if(Fe&&(Fe=Fe(o,le))){fN(je,Fe,p,be);break e}We&&We(o,ge,le),o==="focusout"&&(We=ge._wrapperState)&&We.controlled&&ge.type==="number"&&Pe(ge,"number",ge.value)}switch(We=le?Uo(le):window,o){case"focusin":(dN(We)||We.contentEditable==="true")&&($o=We,g0=le,yc=null);break;case"focusout":yc=g0=$o=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,wN(je,p,be);break;case"selectionchange":if(Q_)break;case"keydown":case"keyup":wN(je,p,be)}var Ke;if(m0)e:{switch(o){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Lo?cN(o,p)&&(Ye="onCompositionEnd"):o==="keydown"&&p.keyCode===229&&(Ye="onCompositionStart");Ye&&(iN&&p.locale!=="ko"&&(Lo||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Lo&&(Ke=tN()):(Ja=be,o0="value"in Ja?Ja.value:Ja.textContent,Lo=!0)),We=qd(le,Ye),0<We.length&&(Ye=new sN(Ye,o,null,p,be),je.push({event:Ye,listeners:We}),Ke?Ye.data=Ke:(Ke=uN(p),Ke!==null&&(Ye.data=Ke)))),(Ke=$_?F_(o,p):B_(o,p))&&(le=qd(le,"onBeforeInput"),0<le.length&&(be=new sN("onBeforeInput","beforeinput",null,p,be),je.push({event:be,listeners:le}),be.data=Ke))}zN(je,u)})}function Nc(o,u,p){return{instance:o,listener:u,currentTarget:p}}function qd(o,u){for(var p=u+"Capture",b=[];o!==null;){var N=o,C=N.stateNode;N.tag===5&&C!==null&&(N=C,C=Nr(o,p),C!=null&&b.unshift(Nc(o,C,N)),C=Nr(o,u),C!=null&&b.push(Nc(o,C,N))),o=o.return}return b}function Bo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function TN(o,u,p,b,N){for(var C=u._reactName,M=[];p!==null&&p!==b;){var K=p,H=K.alternate,le=K.stateNode;if(H!==null&&H===b)break;K.tag===5&&le!==null&&(K=le,N?(H=Nr(p,C),H!=null&&M.unshift(Nc(p,H,K))):N||(H=Nr(p,C),H!=null&&M.push(Nc(p,H,K)))),p=p.return}M.length!==0&&o.push({event:u,listeners:M})}var t6=/\r\n?/g,r6=/\u0000|\uFFFD/g;function MN(o){return(typeof o=="string"?o:""+o).replace(t6,`
`).replace(r6,"")}function Hd(o,u,p){if(u=MN(u),MN(o)!==u&&p)throw Error(r(425))}function Gd(){}var S0=null,k0=null;function P0(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var C0=typeof setTimeout=="function"?setTimeout:void 0,n6=typeof clearTimeout=="function"?clearTimeout:void 0,IN=typeof Promise=="function"?Promise:void 0,s6=typeof queueMicrotask=="function"?queueMicrotask:typeof IN<"u"?function(o){return IN.resolve(null).then(o).catch(a6)}:C0;function a6(o){setTimeout(function(){throw o})}function E0(o,u){var p=u,b=0;do{var N=p.nextSibling;if(o.removeChild(p),N&&N.nodeType===8)if(p=N.data,p==="/$"){if(b===0){o.removeChild(N),mc(u);return}b--}else p!=="$"&&p!=="$?"&&p!=="$!"||b++;p=N}while(p);mc(u)}function ti(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function DN(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return o;u--}else p==="/$"&&u++}o=o.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),Ls="__reactFiber$"+Vo,Sc="__reactProps$"+Vo,ca="__reactContainer$"+Vo,A0="__reactEvents$"+Vo,i6="__reactListeners$"+Vo,o6="__reactHandles$"+Vo;function Ii(o){var u=o[Ls];if(u)return u;for(var p=o.parentNode;p;){if(u=p[ca]||p[Ls]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(o=DN(o);o!==null;){if(p=o[Ls])return p;o=DN(o)}return u}o=p,p=o.parentNode}return null}function kc(o){return o=o[Ls]||o[ca],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Uo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Yd(o){return o[Sc]||null}var z0=[],Wo=-1;function ri(o){return{current:o}}function Ot(o){0>Wo||(o.current=z0[Wo],z0[Wo]=null,Wo--)}function Ct(o,u){Wo++,z0[Wo]=o.current,o.current=u}var ni={},Hr=ri(ni),bn=ri(!1),Di=ni;function Ko(o,u){var p=o.type.contextTypes;if(!p)return ni;var b=o.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===u)return b.__reactInternalMemoizedMaskedChildContext;var N={},C;for(C in p)N[C]=u[C];return b&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=N),N}function yn(o){return o=o.childContextTypes,o!=null}function Xd(){Ot(bn),Ot(Hr)}function RN(o,u,p){if(Hr.current!==ni)throw Error(r(168));Ct(Hr,u),Ct(bn,p)}function _N(o,u,p){var b=o.stateNode;if(u=u.childContextTypes,typeof b.getChildContext!="function")return p;b=b.getChildContext();for(var N in b)if(!(N in u))throw Error(r(108,Ee(o)||"Unknown",N));return se({},p,b)}function Qd(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ni,Di=Hr.current,Ct(Hr,o),Ct(bn,bn.current),!0}function LN(o,u,p){var b=o.stateNode;if(!b)throw Error(r(169));p?(o=_N(o,u,Di),b.__reactInternalMemoizedMergedChildContext=o,Ot(bn),Ot(Hr),Ct(Hr,o)):Ot(bn),Ct(bn,p)}var ua=null,Zd=!1,O0=!1;function $N(o){ua===null?ua=[o]:ua.push(o)}function l6(o){Zd=!0,$N(o)}function si(){if(!O0&&ua!==null){O0=!0;var o=0,u=pt;try{var p=ua;for(pt=1;o<p.length;o++){var b=p[o];do b=b(!0);while(b!==null)}ua=null,Zd=!1}catch(N){throw ua!==null&&(ua=ua.slice(o+1)),Bj(Jp,si),N}finally{pt=u,O0=!1}}return null}var qo=[],Ho=0,Jd=null,ef=0,Gn=[],Yn=0,Ri=null,da=1,fa="";function _i(o,u){qo[Ho++]=ef,qo[Ho++]=Jd,Jd=o,ef=u}function FN(o,u,p){Gn[Yn++]=da,Gn[Yn++]=fa,Gn[Yn++]=Ri,Ri=o;var b=da;o=fa;var N=32-xs(b)-1;b&=~(1<<N),p+=1;var C=32-xs(u)+N;if(30<C){var M=N-N%5;C=(b&(1<<M)-1).toString(32),b>>=M,N-=M,da=1<<32-xs(u)+N|p<<N|b,fa=C+o}else da=1<<C|p<<N|b,fa=o}function T0(o){o.return!==null&&(_i(o,1),FN(o,1,0))}function M0(o){for(;o===Jd;)Jd=qo[--Ho],qo[Ho]=null,ef=qo[--Ho],qo[Ho]=null;for(;o===Ri;)Ri=Gn[--Yn],Gn[Yn]=null,fa=Gn[--Yn],Gn[Yn]=null,da=Gn[--Yn],Gn[Yn]=null}var _n=null,Ln=null,Dt=!1,vs=null;function BN(o,u){var p=Jn(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=o,u=o.deletions,u===null?(o.deletions=[p],o.flags|=16):u.push(p)}function VN(o,u){switch(o.tag){case 5:var p=o.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,_n=o,Ln=ti(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,_n=o,Ln=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=Ri!==null?{id:da,overflow:fa}:null,o.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Jn(18,null,null,0),p.stateNode=u,p.return=o,o.child=p,_n=o,Ln=null,!0):!1;default:return!1}}function I0(o){return(o.mode&1)!==0&&(o.flags&128)===0}function D0(o){if(Dt){var u=Ln;if(u){var p=u;if(!VN(o,u)){if(I0(o))throw Error(r(418));u=ti(p.nextSibling);var b=_n;u&&VN(o,u)?BN(b,p):(o.flags=o.flags&-4097|2,Dt=!1,_n=o)}}else{if(I0(o))throw Error(r(418));o.flags=o.flags&-4097|2,Dt=!1,_n=o}}}function UN(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;_n=o}function tf(o){if(o!==_n)return!1;if(!Dt)return UN(o),Dt=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!P0(o.type,o.memoizedProps)),u&&(u=Ln)){if(I0(o))throw WN(),Error(r(418));for(;u;)BN(o,u),u=ti(u.nextSibling)}if(UN(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var p=o.data;if(p==="/$"){if(u===0){Ln=ti(o.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}o=o.nextSibling}Ln=null}}else Ln=_n?ti(o.stateNode.nextSibling):null;return!0}function WN(){for(var o=Ln;o;)o=ti(o.nextSibling)}function Go(){Ln=_n=null,Dt=!1}function R0(o){vs===null?vs=[o]:vs.push(o)}var c6=E.ReactCurrentBatchConfig;function Pc(o,u,p){if(o=p.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var b=p.stateNode}if(!b)throw Error(r(147,o));var N=b,C=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===C?u.ref:(u=function(M){var K=N.refs;M===null?delete K[C]:K[C]=M},u._stringRef=C,u)}if(typeof o!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,o))}return o}function rf(o,u){throw o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function KN(o){var u=o._init;return u(o._payload)}function qN(o){function u(ae,Y){if(o){var oe=ae.deletions;oe===null?(ae.deletions=[Y],ae.flags|=16):oe.push(Y)}}function p(ae,Y){if(!o)return null;for(;Y!==null;)u(ae,Y),Y=Y.sibling;return null}function b(ae,Y){for(ae=new Map;Y!==null;)Y.key!==null?ae.set(Y.key,Y):ae.set(Y.index,Y),Y=Y.sibling;return ae}function N(ae,Y){return ae=fi(ae,Y),ae.index=0,ae.sibling=null,ae}function C(ae,Y,oe){return ae.index=oe,o?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<Y?(ae.flags|=2,Y):oe):(ae.flags|=2,Y)):(ae.flags|=1048576,Y)}function M(ae){return o&&ae.alternate===null&&(ae.flags|=2),ae}function K(ae,Y,oe,Ne){return Y===null||Y.tag!==6?(Y=Cx(oe,ae.mode,Ne),Y.return=ae,Y):(Y=N(Y,oe),Y.return=ae,Y)}function H(ae,Y,oe,Ne){var Fe=oe.type;return Fe===O?be(ae,Y,oe.props.children,Ne,oe.key):Y!==null&&(Y.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===Q&&KN(Fe)===Y.type)?(Ne=N(Y,oe.props),Ne.ref=Pc(ae,Y,oe),Ne.return=ae,Ne):(Ne=Cf(oe.type,oe.key,oe.props,null,ae.mode,Ne),Ne.ref=Pc(ae,Y,oe),Ne.return=ae,Ne)}function le(ae,Y,oe,Ne){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==oe.containerInfo||Y.stateNode.implementation!==oe.implementation?(Y=Ex(oe,ae.mode,Ne),Y.return=ae,Y):(Y=N(Y,oe.children||[]),Y.return=ae,Y)}function be(ae,Y,oe,Ne,Fe){return Y===null||Y.tag!==7?(Y=Ki(oe,ae.mode,Ne,Fe),Y.return=ae,Y):(Y=N(Y,oe),Y.return=ae,Y)}function je(ae,Y,oe){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=Cx(""+Y,ae.mode,oe),Y.return=ae,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case A:return oe=Cf(Y.type,Y.key,Y.props,null,ae.mode,oe),oe.ref=Pc(ae,null,Y),oe.return=ae,oe;case z:return Y=Ex(Y,ae.mode,oe),Y.return=ae,Y;case Q:var Ne=Y._init;return je(ae,Ne(Y._payload),oe)}if(Je(Y)||te(Y))return Y=Ki(Y,ae.mode,oe,null),Y.return=ae,Y;rf(ae,Y)}return null}function ge(ae,Y,oe,Ne){var Fe=Y!==null?Y.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Fe!==null?null:K(ae,Y,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return oe.key===Fe?H(ae,Y,oe,Ne):null;case z:return oe.key===Fe?le(ae,Y,oe,Ne):null;case Q:return Fe=oe._init,ge(ae,Y,Fe(oe._payload),Ne)}if(Je(oe)||te(oe))return Fe!==null?null:be(ae,Y,oe,Ne,null);rf(ae,oe)}return null}function ze(ae,Y,oe,Ne,Fe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return ae=ae.get(oe)||null,K(Y,ae,""+Ne,Fe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case A:return ae=ae.get(Ne.key===null?oe:Ne.key)||null,H(Y,ae,Ne,Fe);case z:return ae=ae.get(Ne.key===null?oe:Ne.key)||null,le(Y,ae,Ne,Fe);case Q:var We=Ne._init;return ze(ae,Y,oe,We(Ne._payload),Fe)}if(Je(Ne)||te(Ne))return ae=ae.get(oe)||null,be(Y,ae,Ne,Fe,null);rf(Y,Ne)}return null}function De(ae,Y,oe,Ne){for(var Fe=null,We=null,Ke=Y,Ye=Y=0,Pr=null;Ke!==null&&Ye<oe.length;Ye++){Ke.index>Ye?(Pr=Ke,Ke=null):Pr=Ke.sibling;var lt=ge(ae,Ke,oe[Ye],Ne);if(lt===null){Ke===null&&(Ke=Pr);break}o&&Ke&&lt.alternate===null&&u(ae,Ke),Y=C(lt,Y,Ye),We===null?Fe=lt:We.sibling=lt,We=lt,Ke=Pr}if(Ye===oe.length)return p(ae,Ke),Dt&&_i(ae,Ye),Fe;if(Ke===null){for(;Ye<oe.length;Ye++)Ke=je(ae,oe[Ye],Ne),Ke!==null&&(Y=C(Ke,Y,Ye),We===null?Fe=Ke:We.sibling=Ke,We=Ke);return Dt&&_i(ae,Ye),Fe}for(Ke=b(ae,Ke);Ye<oe.length;Ye++)Pr=ze(Ke,ae,Ye,oe[Ye],Ne),Pr!==null&&(o&&Pr.alternate!==null&&Ke.delete(Pr.key===null?Ye:Pr.key),Y=C(Pr,Y,Ye),We===null?Fe=Pr:We.sibling=Pr,We=Pr);return o&&Ke.forEach(function(mi){return u(ae,mi)}),Dt&&_i(ae,Ye),Fe}function Le(ae,Y,oe,Ne){var Fe=te(oe);if(typeof Fe!="function")throw Error(r(150));if(oe=Fe.call(oe),oe==null)throw Error(r(151));for(var We=Fe=null,Ke=Y,Ye=Y=0,Pr=null,lt=oe.next();Ke!==null&&!lt.done;Ye++,lt=oe.next()){Ke.index>Ye?(Pr=Ke,Ke=null):Pr=Ke.sibling;var mi=ge(ae,Ke,lt.value,Ne);if(mi===null){Ke===null&&(Ke=Pr);break}o&&Ke&&mi.alternate===null&&u(ae,Ke),Y=C(mi,Y,Ye),We===null?Fe=mi:We.sibling=mi,We=mi,Ke=Pr}if(lt.done)return p(ae,Ke),Dt&&_i(ae,Ye),Fe;if(Ke===null){for(;!lt.done;Ye++,lt=oe.next())lt=je(ae,lt.value,Ne),lt!==null&&(Y=C(lt,Y,Ye),We===null?Fe=lt:We.sibling=lt,We=lt);return Dt&&_i(ae,Ye),Fe}for(Ke=b(ae,Ke);!lt.done;Ye++,lt=oe.next())lt=ze(Ke,ae,Ye,lt.value,Ne),lt!==null&&(o&&lt.alternate!==null&&Ke.delete(lt.key===null?Ye:lt.key),Y=C(lt,Y,Ye),We===null?Fe=lt:We.sibling=lt,We=lt);return o&&Ke.forEach(function(V6){return u(ae,V6)}),Dt&&_i(ae,Ye),Fe}function Jt(ae,Y,oe,Ne){if(typeof oe=="object"&&oe!==null&&oe.type===O&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:e:{for(var Fe=oe.key,We=Y;We!==null;){if(We.key===Fe){if(Fe=oe.type,Fe===O){if(We.tag===7){p(ae,We.sibling),Y=N(We,oe.props.children),Y.return=ae,ae=Y;break e}}else if(We.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===Q&&KN(Fe)===We.type){p(ae,We.sibling),Y=N(We,oe.props),Y.ref=Pc(ae,We,oe),Y.return=ae,ae=Y;break e}p(ae,We);break}else u(ae,We);We=We.sibling}oe.type===O?(Y=Ki(oe.props.children,ae.mode,Ne,oe.key),Y.return=ae,ae=Y):(Ne=Cf(oe.type,oe.key,oe.props,null,ae.mode,Ne),Ne.ref=Pc(ae,Y,oe),Ne.return=ae,ae=Ne)}return M(ae);case z:e:{for(We=oe.key;Y!==null;){if(Y.key===We)if(Y.tag===4&&Y.stateNode.containerInfo===oe.containerInfo&&Y.stateNode.implementation===oe.implementation){p(ae,Y.sibling),Y=N(Y,oe.children||[]),Y.return=ae,ae=Y;break e}else{p(ae,Y);break}else u(ae,Y);Y=Y.sibling}Y=Ex(oe,ae.mode,Ne),Y.return=ae,ae=Y}return M(ae);case Q:return We=oe._init,Jt(ae,Y,We(oe._payload),Ne)}if(Je(oe))return De(ae,Y,oe,Ne);if(te(oe))return Le(ae,Y,oe,Ne);rf(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Y!==null&&Y.tag===6?(p(ae,Y.sibling),Y=N(Y,oe),Y.return=ae,ae=Y):(p(ae,Y),Y=Cx(oe,ae.mode,Ne),Y.return=ae,ae=Y),M(ae)):p(ae,Y)}return Jt}var Yo=qN(!0),HN=qN(!1),nf=ri(null),sf=null,Xo=null,_0=null;function L0(){_0=Xo=sf=null}function $0(o){var u=nf.current;Ot(nf),o._currentValue=u}function F0(o,u,p){for(;o!==null;){var b=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),o===p)break;o=o.return}}function Qo(o,u){sf=o,_0=Xo=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&u)!==0&&(wn=!0),o.firstContext=null)}function Xn(o){var u=o._currentValue;if(_0!==o)if(o={context:o,memoizedValue:u,next:null},Xo===null){if(sf===null)throw Error(r(308));Xo=o,sf.dependencies={lanes:0,firstContext:o}}else Xo=Xo.next=o;return u}var Li=null;function B0(o){Li===null?Li=[o]:Li.push(o)}function GN(o,u,p,b){var N=u.interleaved;return N===null?(p.next=p,B0(u)):(p.next=N.next,N.next=p),u.interleaved=p,ma(o,b)}function ma(o,u){o.lanes|=u;var p=o.alternate;for(p!==null&&(p.lanes|=u),p=o,o=o.return;o!==null;)o.childLanes|=u,p=o.alternate,p!==null&&(p.childLanes|=u),p=o,o=o.return;return p.tag===3?p.stateNode:null}var ai=!1;function V0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YN(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ha(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function ii(o,u,p){var b=o.updateQueue;if(b===null)return null;if(b=b.shared,(ot&2)!==0){var N=b.pending;return N===null?u.next=u:(u.next=N.next,N.next=u),b.pending=u,ma(o,p)}return N=b.interleaved,N===null?(u.next=u,B0(b)):(u.next=N.next,N.next=u),b.interleaved=u,ma(o,p)}function af(o,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var b=u.lanes;b&=o.pendingLanes,p|=b,u.lanes=p,r0(o,p)}}function XN(o,u){var p=o.updateQueue,b=o.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var N=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var M={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};C===null?N=C=M:C=C.next=M,p=p.next}while(p!==null);C===null?N=C=u:C=C.next=u}else N=C=u;p={baseState:b.baseState,firstBaseUpdate:N,lastBaseUpdate:C,shared:b.shared,effects:b.effects},o.updateQueue=p;return}o=p.lastBaseUpdate,o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=u}function of(o,u,p,b){var N=o.updateQueue;ai=!1;var C=N.firstBaseUpdate,M=N.lastBaseUpdate,K=N.shared.pending;if(K!==null){N.shared.pending=null;var H=K,le=H.next;H.next=null,M===null?C=le:M.next=le,M=H;var be=o.alternate;be!==null&&(be=be.updateQueue,K=be.lastBaseUpdate,K!==M&&(K===null?be.firstBaseUpdate=le:K.next=le,be.lastBaseUpdate=H))}if(C!==null){var je=N.baseState;M=0,be=le=H=null,K=C;do{var ge=K.lane,ze=K.eventTime;if((b&ge)===ge){be!==null&&(be=be.next={eventTime:ze,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var De=o,Le=K;switch(ge=u,ze=p,Le.tag){case 1:if(De=Le.payload,typeof De=="function"){je=De.call(ze,je,ge);break e}je=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Le.payload,ge=typeof De=="function"?De.call(ze,je,ge):De,ge==null)break e;je=se({},je,ge);break e;case 2:ai=!0}}K.callback!==null&&K.lane!==0&&(o.flags|=64,ge=N.effects,ge===null?N.effects=[K]:ge.push(K))}else ze={eventTime:ze,lane:ge,tag:K.tag,payload:K.payload,callback:K.callback,next:null},be===null?(le=be=ze,H=je):be=be.next=ze,M|=ge;if(K=K.next,K===null){if(K=N.shared.pending,K===null)break;ge=K,K=ge.next,ge.next=null,N.lastBaseUpdate=ge,N.shared.pending=null}}while(!0);if(be===null&&(H=je),N.baseState=H,N.firstBaseUpdate=le,N.lastBaseUpdate=be,u=N.shared.interleaved,u!==null){N=u;do M|=N.lane,N=N.next;while(N!==u)}else C===null&&(N.shared.lanes=0);Bi|=M,o.lanes=M,o.memoizedState=je}}function QN(o,u,p){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var b=o[u],N=b.callback;if(N!==null){if(b.callback=null,b=p,typeof N!="function")throw Error(r(191,N));N.call(b)}}}var Cc={},$s=ri(Cc),Ec=ri(Cc),Ac=ri(Cc);function $i(o){if(o===Cc)throw Error(r(174));return o}function U0(o,u){switch(Ct(Ac,u),Ct(Ec,o),Ct($s,Cc),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:He(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=He(u,o)}Ot($s),Ct($s,u)}function Zo(){Ot($s),Ot(Ec),Ot(Ac)}function ZN(o){$i(Ac.current);var u=$i($s.current),p=He(u,o.type);u!==p&&(Ct(Ec,o),Ct($s,p))}function W0(o){Ec.current===o&&(Ot($s),Ot(Ec))}var Ut=ri(0);function lf(o){for(var u=o;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var K0=[];function q0(){for(var o=0;o<K0.length;o++)K0[o]._workInProgressVersionPrimary=null;K0.length=0}var cf=E.ReactCurrentDispatcher,H0=E.ReactCurrentBatchConfig,Fi=0,Wt=null,mr=null,Sr=null,uf=!1,zc=!1,Oc=0,u6=0;function Gr(){throw Error(r(321))}function G0(o,u){if(u===null)return!1;for(var p=0;p<u.length&&p<o.length;p++)if(!gs(o[p],u[p]))return!1;return!0}function Y0(o,u,p,b,N,C){if(Fi=C,Wt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,cf.current=o===null||o.memoizedState===null?h6:p6,o=p(b,N),zc){C=0;do{if(zc=!1,Oc=0,25<=C)throw Error(r(301));C+=1,Sr=mr=null,u.updateQueue=null,cf.current=x6,o=p(b,N)}while(zc)}if(cf.current=mf,u=mr!==null&&mr.next!==null,Fi=0,Sr=mr=Wt=null,uf=!1,u)throw Error(r(300));return o}function X0(){var o=Oc!==0;return Oc=0,o}function Fs(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sr===null?Wt.memoizedState=Sr=o:Sr=Sr.next=o,Sr}function Qn(){if(mr===null){var o=Wt.alternate;o=o!==null?o.memoizedState:null}else o=mr.next;var u=Sr===null?Wt.memoizedState:Sr.next;if(u!==null)Sr=u,mr=o;else{if(o===null)throw Error(r(310));mr=o,o={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},Sr===null?Wt.memoizedState=Sr=o:Sr=Sr.next=o}return Sr}function Tc(o,u){return typeof u=="function"?u(o):u}function Q0(o){var u=Qn(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var b=mr,N=b.baseQueue,C=p.pending;if(C!==null){if(N!==null){var M=N.next;N.next=C.next,C.next=M}b.baseQueue=N=C,p.pending=null}if(N!==null){C=N.next,b=b.baseState;var K=M=null,H=null,le=C;do{var be=le.lane;if((Fi&be)===be)H!==null&&(H=H.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),b=le.hasEagerState?le.eagerState:o(b,le.action);else{var je={lane:be,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};H===null?(K=H=je,M=b):H=H.next=je,Wt.lanes|=be,Bi|=be}le=le.next}while(le!==null&&le!==C);H===null?M=b:H.next=K,gs(b,u.memoizedState)||(wn=!0),u.memoizedState=b,u.baseState=M,u.baseQueue=H,p.lastRenderedState=b}if(o=p.interleaved,o!==null){N=o;do C=N.lane,Wt.lanes|=C,Bi|=C,N=N.next;while(N!==o)}else N===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Z0(o){var u=Qn(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=o;var b=p.dispatch,N=p.pending,C=u.memoizedState;if(N!==null){p.pending=null;var M=N=N.next;do C=o(C,M.action),M=M.next;while(M!==N);gs(C,u.memoizedState)||(wn=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),p.lastRenderedState=C}return[C,b]}function JN(){}function e2(o,u){var p=Wt,b=Qn(),N=u(),C=!gs(b.memoizedState,N);if(C&&(b.memoizedState=N,wn=!0),b=b.queue,J0(n2.bind(null,p,b,o),[o]),b.getSnapshot!==u||C||Sr!==null&&Sr.memoizedState.tag&1){if(p.flags|=2048,Mc(9,r2.bind(null,p,b,N,u),void 0,null),kr===null)throw Error(r(349));(Fi&30)!==0||t2(p,u,N)}return N}function t2(o,u,p){o.flags|=16384,o={getSnapshot:u,value:p},u=Wt.updateQueue,u===null?(u={lastEffect:null,stores:null},Wt.updateQueue=u,u.stores=[o]):(p=u.stores,p===null?u.stores=[o]:p.push(o))}function r2(o,u,p,b){u.value=p,u.getSnapshot=b,s2(u)&&a2(o)}function n2(o,u,p){return p(function(){s2(u)&&a2(o)})}function s2(o){var u=o.getSnapshot;o=o.value;try{var p=u();return!gs(o,p)}catch{return!0}}function a2(o){var u=ma(o,1);u!==null&&js(u,o,1,-1)}function i2(o){var u=Fs();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tc,lastRenderedState:o},u.queue=o,o=o.dispatch=m6.bind(null,Wt,o),[u.memoizedState,o]}function Mc(o,u,p,b){return o={tag:o,create:u,destroy:p,deps:b,next:null},u=Wt.updateQueue,u===null?(u={lastEffect:null,stores:null},Wt.updateQueue=u,u.lastEffect=o.next=o):(p=u.lastEffect,p===null?u.lastEffect=o.next=o:(b=p.next,p.next=o,o.next=b,u.lastEffect=o)),o}function o2(){return Qn().memoizedState}function df(o,u,p,b){var N=Fs();Wt.flags|=o,N.memoizedState=Mc(1|u,p,void 0,b===void 0?null:b)}function ff(o,u,p,b){var N=Qn();b=b===void 0?null:b;var C=void 0;if(mr!==null){var M=mr.memoizedState;if(C=M.destroy,b!==null&&G0(b,M.deps)){N.memoizedState=Mc(u,p,C,b);return}}Wt.flags|=o,N.memoizedState=Mc(1|u,p,C,b)}function l2(o,u){return df(8390656,8,o,u)}function J0(o,u){return ff(2048,8,o,u)}function c2(o,u){return ff(4,2,o,u)}function u2(o,u){return ff(4,4,o,u)}function d2(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function f2(o,u,p){return p=p!=null?p.concat([o]):null,ff(4,4,d2.bind(null,u,o),p)}function ex(){}function m2(o,u){var p=Qn();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&G0(u,b[1])?b[0]:(p.memoizedState=[o,u],o)}function h2(o,u){var p=Qn();u=u===void 0?null:u;var b=p.memoizedState;return b!==null&&u!==null&&G0(u,b[1])?b[0]:(o=o(),p.memoizedState=[o,u],o)}function p2(o,u,p){return(Fi&21)===0?(o.baseState&&(o.baseState=!1,wn=!0),o.memoizedState=p):(gs(p,u)||(p=Kj(),Wt.lanes|=p,Bi|=p,o.baseState=!0),u)}function d6(o,u){var p=pt;pt=p!==0&&4>p?p:4,o(!0);var b=H0.transition;H0.transition={};try{o(!1),u()}finally{pt=p,H0.transition=b}}function x2(){return Qn().memoizedState}function f6(o,u,p){var b=ui(o);if(p={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null},g2(o))v2(u,p);else if(p=GN(o,u,p,b),p!==null){var N=on();js(p,o,b,N),b2(p,u,b)}}function m6(o,u,p){var b=ui(o),N={lane:b,action:p,hasEagerState:!1,eagerState:null,next:null};if(g2(o))v2(u,N);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var M=u.lastRenderedState,K=C(M,p);if(N.hasEagerState=!0,N.eagerState=K,gs(K,M)){var H=u.interleaved;H===null?(N.next=N,B0(u)):(N.next=H.next,H.next=N),u.interleaved=N;return}}catch{}finally{}p=GN(o,u,N,b),p!==null&&(N=on(),js(p,o,b,N),b2(p,u,b))}}function g2(o){var u=o.alternate;return o===Wt||u!==null&&u===Wt}function v2(o,u){zc=uf=!0;var p=o.pending;p===null?u.next=u:(u.next=p.next,p.next=u),o.pending=u}function b2(o,u,p){if((p&4194240)!==0){var b=u.lanes;b&=o.pendingLanes,p|=b,u.lanes=p,r0(o,p)}}var mf={readContext:Xn,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},h6={readContext:Xn,useCallback:function(o,u){return Fs().memoizedState=[o,u===void 0?null:u],o},useContext:Xn,useEffect:l2,useImperativeHandle:function(o,u,p){return p=p!=null?p.concat([o]):null,df(4194308,4,d2.bind(null,u,o),p)},useLayoutEffect:function(o,u){return df(4194308,4,o,u)},useInsertionEffect:function(o,u){return df(4,2,o,u)},useMemo:function(o,u){var p=Fs();return u=u===void 0?null:u,o=o(),p.memoizedState=[o,u],o},useReducer:function(o,u,p){var b=Fs();return u=p!==void 0?p(u):u,b.memoizedState=b.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},b.queue=o,o=o.dispatch=f6.bind(null,Wt,o),[b.memoizedState,o]},useRef:function(o){var u=Fs();return o={current:o},u.memoizedState=o},useState:i2,useDebugValue:ex,useDeferredValue:function(o){return Fs().memoizedState=o},useTransition:function(){var o=i2(!1),u=o[0];return o=d6.bind(null,o[1]),Fs().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,p){var b=Wt,N=Fs();if(Dt){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),kr===null)throw Error(r(349));(Fi&30)!==0||t2(b,u,p)}N.memoizedState=p;var C={value:p,getSnapshot:u};return N.queue=C,l2(n2.bind(null,b,C,o),[o]),b.flags|=2048,Mc(9,r2.bind(null,b,C,p,u),void 0,null),p},useId:function(){var o=Fs(),u=kr.identifierPrefix;if(Dt){var p=fa,b=da;p=(b&~(1<<32-xs(b)-1)).toString(32)+p,u=":"+u+"R"+p,p=Oc++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=u6++,u=":"+u+"r"+p.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},p6={readContext:Xn,useCallback:m2,useContext:Xn,useEffect:J0,useImperativeHandle:f2,useInsertionEffect:c2,useLayoutEffect:u2,useMemo:h2,useReducer:Q0,useRef:o2,useState:function(){return Q0(Tc)},useDebugValue:ex,useDeferredValue:function(o){var u=Qn();return p2(u,mr.memoizedState,o)},useTransition:function(){var o=Q0(Tc)[0],u=Qn().memoizedState;return[o,u]},useMutableSource:JN,useSyncExternalStore:e2,useId:x2,unstable_isNewReconciler:!1},x6={readContext:Xn,useCallback:m2,useContext:Xn,useEffect:J0,useImperativeHandle:f2,useInsertionEffect:c2,useLayoutEffect:u2,useMemo:h2,useReducer:Z0,useRef:o2,useState:function(){return Z0(Tc)},useDebugValue:ex,useDeferredValue:function(o){var u=Qn();return mr===null?u.memoizedState=o:p2(u,mr.memoizedState,o)},useTransition:function(){var o=Z0(Tc)[0],u=Qn().memoizedState;return[o,u]},useMutableSource:JN,useSyncExternalStore:e2,useId:x2,unstable_isNewReconciler:!1};function bs(o,u){if(o&&o.defaultProps){u=se({},u),o=o.defaultProps;for(var p in o)u[p]===void 0&&(u[p]=o[p]);return u}return u}function tx(o,u,p,b){u=o.memoizedState,p=p(b,u),p=p==null?u:se({},u,p),o.memoizedState=p,o.lanes===0&&(o.updateQueue.baseState=p)}var hf={isMounted:function(o){return(o=o._reactInternals)?Mi(o)===o:!1},enqueueSetState:function(o,u,p){o=o._reactInternals;var b=on(),N=ui(o),C=ha(b,N);C.payload=u,p!=null&&(C.callback=p),u=ii(o,C,N),u!==null&&(js(u,o,N,b),af(u,o,N))},enqueueReplaceState:function(o,u,p){o=o._reactInternals;var b=on(),N=ui(o),C=ha(b,N);C.tag=1,C.payload=u,p!=null&&(C.callback=p),u=ii(o,C,N),u!==null&&(js(u,o,N,b),af(u,o,N))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var p=on(),b=ui(o),N=ha(p,b);N.tag=2,u!=null&&(N.callback=u),u=ii(o,N,b),u!==null&&(js(u,o,b,p),af(u,o,b))}};function y2(o,u,p,b,N,C,M){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(b,C,M):u.prototype&&u.prototype.isPureReactComponent?!bc(p,b)||!bc(N,C):!0}function w2(o,u,p){var b=!1,N=ni,C=u.contextType;return typeof C=="object"&&C!==null?C=Xn(C):(N=yn(u)?Di:Hr.current,b=u.contextTypes,C=(b=b!=null)?Ko(o,N):ni),u=new u(p,C),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=hf,o.stateNode=u,u._reactInternals=o,b&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=N,o.__reactInternalMemoizedMaskedChildContext=C),u}function j2(o,u,p,b){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,b),u.state!==o&&hf.enqueueReplaceState(u,u.state,null)}function rx(o,u,p,b){var N=o.stateNode;N.props=p,N.state=o.memoizedState,N.refs={},V0(o);var C=u.contextType;typeof C=="object"&&C!==null?N.context=Xn(C):(C=yn(u)?Di:Hr.current,N.context=Ko(o,C)),N.state=o.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(tx(o,u,C,p),N.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(u=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),u!==N.state&&hf.enqueueReplaceState(N,N.state,null),of(o,p,N,b),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308)}function Jo(o,u){try{var p="",b=u;do p+=ve(b),b=b.return;while(b);var N=p}catch(C){N=`
Error generating stack: `+C.message+`
`+C.stack}return{value:o,source:u,stack:N,digest:null}}function nx(o,u,p){return{value:o,source:null,stack:p??null,digest:u??null}}function sx(o,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var g6=typeof WeakMap=="function"?WeakMap:Map;function N2(o,u,p){p=ha(-1,p),p.tag=3,p.payload={element:null};var b=u.value;return p.callback=function(){wf||(wf=!0,bx=b),sx(o,u)},p}function S2(o,u,p){p=ha(-1,p),p.tag=3;var b=o.type.getDerivedStateFromError;if(typeof b=="function"){var N=u.value;p.payload=function(){return b(N)},p.callback=function(){sx(o,u)}}var C=o.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(p.callback=function(){sx(o,u),typeof b!="function"&&(li===null?li=new Set([this]):li.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})}),p}function k2(o,u,p){var b=o.pingCache;if(b===null){b=o.pingCache=new g6;var N=new Set;b.set(u,N)}else N=b.get(u),N===void 0&&(N=new Set,b.set(u,N));N.has(p)||(N.add(p),o=O6.bind(null,o,u,p),u.then(o,o))}function P2(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function C2(o,u,p,b,N){return(o.mode&1)===0?(o===u?o.flags|=65536:(o.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=ha(-1,1),u.tag=2,ii(p,u,1))),p.lanes|=1),o):(o.flags|=65536,o.lanes=N,o)}var v6=E.ReactCurrentOwner,wn=!1;function an(o,u,p,b){u.child=o===null?HN(u,null,p,b):Yo(u,o.child,p,b)}function E2(o,u,p,b,N){p=p.render;var C=u.ref;return Qo(u,N),b=Y0(o,u,p,b,C,N),p=X0(),o!==null&&!wn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~N,pa(o,u,N)):(Dt&&p&&T0(u),u.flags|=1,an(o,u,b,N),u.child)}function A2(o,u,p,b,N){if(o===null){var C=p.type;return typeof C=="function"&&!Px(C)&&C.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=C,z2(o,u,C,b,N)):(o=Cf(p.type,null,b,u,u.mode,N),o.ref=u.ref,o.return=u,u.child=o)}if(C=o.child,(o.lanes&N)===0){var M=C.memoizedProps;if(p=p.compare,p=p!==null?p:bc,p(M,b)&&o.ref===u.ref)return pa(o,u,N)}return u.flags|=1,o=fi(C,b),o.ref=u.ref,o.return=u,u.child=o}function z2(o,u,p,b,N){if(o!==null){var C=o.memoizedProps;if(bc(C,b)&&o.ref===u.ref)if(wn=!1,u.pendingProps=b=C,(o.lanes&N)!==0)(o.flags&131072)!==0&&(wn=!0);else return u.lanes=o.lanes,pa(o,u,N)}return ax(o,u,p,b,N)}function O2(o,u,p){var b=u.pendingProps,N=b.children,C=o!==null?o.memoizedState:null;if(b.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ct(tl,$n),$n|=p;else{if((p&1073741824)===0)return o=C!==null?C.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,Ct(tl,$n),$n|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=C!==null?C.baseLanes:p,Ct(tl,$n),$n|=b}else C!==null?(b=C.baseLanes|p,u.memoizedState=null):b=p,Ct(tl,$n),$n|=b;return an(o,u,N,p),u.child}function T2(o,u){var p=u.ref;(o===null&&p!==null||o!==null&&o.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function ax(o,u,p,b,N){var C=yn(p)?Di:Hr.current;return C=Ko(u,C),Qo(u,N),p=Y0(o,u,p,b,C,N),b=X0(),o!==null&&!wn?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~N,pa(o,u,N)):(Dt&&b&&T0(u),u.flags|=1,an(o,u,p,N),u.child)}function M2(o,u,p,b,N){if(yn(p)){var C=!0;Qd(u)}else C=!1;if(Qo(u,N),u.stateNode===null)xf(o,u),w2(u,p,b),rx(u,p,b,N),b=!0;else if(o===null){var M=u.stateNode,K=u.memoizedProps;M.props=K;var H=M.context,le=p.contextType;typeof le=="object"&&le!==null?le=Xn(le):(le=yn(p)?Di:Hr.current,le=Ko(u,le));var be=p.getDerivedStateFromProps,je=typeof be=="function"||typeof M.getSnapshotBeforeUpdate=="function";je||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K!==b||H!==le)&&j2(u,M,b,le),ai=!1;var ge=u.memoizedState;M.state=ge,of(u,b,M,N),H=u.memoizedState,K!==b||ge!==H||bn.current||ai?(typeof be=="function"&&(tx(u,p,be,b),H=u.memoizedState),(K=ai||y2(u,p,K,b,ge,H,le))?(je||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(u.flags|=4194308)):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=H),M.props=b,M.state=H,M.context=le,b=K):(typeof M.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{M=u.stateNode,YN(o,u),K=u.memoizedProps,le=u.type===u.elementType?K:bs(u.type,K),M.props=le,je=u.pendingProps,ge=M.context,H=p.contextType,typeof H=="object"&&H!==null?H=Xn(H):(H=yn(p)?Di:Hr.current,H=Ko(u,H));var ze=p.getDerivedStateFromProps;(be=typeof ze=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(K!==je||ge!==H)&&j2(u,M,b,H),ai=!1,ge=u.memoizedState,M.state=ge,of(u,b,M,N);var De=u.memoizedState;K!==je||ge!==De||bn.current||ai?(typeof ze=="function"&&(tx(u,p,ze,b),De=u.memoizedState),(le=ai||y2(u,p,le,b,ge,De,H)||!1)?(be||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(b,De,H),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(b,De,H)),typeof M.componentDidUpdate=="function"&&(u.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof M.componentDidUpdate!="function"||K===o.memoizedProps&&ge===o.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ge===o.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=De),M.props=b,M.state=De,M.context=H,b=le):(typeof M.componentDidUpdate!="function"||K===o.memoizedProps&&ge===o.memoizedState||(u.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&ge===o.memoizedState||(u.flags|=1024),b=!1)}return ix(o,u,p,b,C,N)}function ix(o,u,p,b,N,C){T2(o,u);var M=(u.flags&128)!==0;if(!b&&!M)return N&&LN(u,p,!1),pa(o,u,C);b=u.stateNode,v6.current=u;var K=M&&typeof p.getDerivedStateFromError!="function"?null:b.render();return u.flags|=1,o!==null&&M?(u.child=Yo(u,o.child,null,C),u.child=Yo(u,null,K,C)):an(o,u,K,C),u.memoizedState=b.state,N&&LN(u,p,!0),u.child}function I2(o){var u=o.stateNode;u.pendingContext?RN(o,u.pendingContext,u.pendingContext!==u.context):u.context&&RN(o,u.context,!1),U0(o,u.containerInfo)}function D2(o,u,p,b,N){return Go(),R0(N),u.flags|=256,an(o,u,p,b),u.child}var ox={dehydrated:null,treeContext:null,retryLane:0};function lx(o){return{baseLanes:o,cachePool:null,transitions:null}}function R2(o,u,p){var b=u.pendingProps,N=Ut.current,C=!1,M=(u.flags&128)!==0,K;if((K=M)||(K=o!==null&&o.memoizedState===null?!1:(N&2)!==0),K?(C=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(N|=1),Ct(Ut,N&1),o===null)return D0(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((u.mode&1)===0?u.lanes=1:o.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(M=b.children,o=b.fallback,C?(b=u.mode,C=u.child,M={mode:"hidden",children:M},(b&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=M):C=Ef(M,b,0,null),o=Ki(o,b,p,null),C.return=u,o.return=u,C.sibling=o,u.child=C,u.child.memoizedState=lx(p),u.memoizedState=ox,o):cx(u,M));if(N=o.memoizedState,N!==null&&(K=N.dehydrated,K!==null))return b6(o,u,M,b,K,N,p);if(C){C=b.fallback,M=u.mode,N=o.child,K=N.sibling;var H={mode:"hidden",children:b.children};return(M&1)===0&&u.child!==N?(b=u.child,b.childLanes=0,b.pendingProps=H,u.deletions=null):(b=fi(N,H),b.subtreeFlags=N.subtreeFlags&14680064),K!==null?C=fi(K,C):(C=Ki(C,M,p,null),C.flags|=2),C.return=u,b.return=u,b.sibling=C,u.child=b,b=C,C=u.child,M=o.child.memoizedState,M=M===null?lx(p):{baseLanes:M.baseLanes|p,cachePool:null,transitions:M.transitions},C.memoizedState=M,C.childLanes=o.childLanes&~p,u.memoizedState=ox,b}return C=o.child,o=C.sibling,b=fi(C,{mode:"visible",children:b.children}),(u.mode&1)===0&&(b.lanes=p),b.return=u,b.sibling=null,o!==null&&(p=u.deletions,p===null?(u.deletions=[o],u.flags|=16):p.push(o)),u.child=b,u.memoizedState=null,b}function cx(o,u){return u=Ef({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function pf(o,u,p,b){return b!==null&&R0(b),Yo(u,o.child,null,p),o=cx(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function b6(o,u,p,b,N,C,M){if(p)return u.flags&256?(u.flags&=-257,b=nx(Error(r(422))),pf(o,u,M,b)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(C=b.fallback,N=u.mode,b=Ef({mode:"visible",children:b.children},N,0,null),C=Ki(C,N,M,null),C.flags|=2,b.return=u,C.return=u,b.sibling=C,u.child=b,(u.mode&1)!==0&&Yo(u,o.child,null,M),u.child.memoizedState=lx(M),u.memoizedState=ox,C);if((u.mode&1)===0)return pf(o,u,M,null);if(N.data==="$!"){if(b=N.nextSibling&&N.nextSibling.dataset,b)var K=b.dgst;return b=K,C=Error(r(419)),b=nx(C,b,void 0),pf(o,u,M,b)}if(K=(M&o.childLanes)!==0,wn||K){if(b=kr,b!==null){switch(M&-M){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(b.suspendedLanes|M))!==0?0:N,N!==0&&N!==C.retryLane&&(C.retryLane=N,ma(o,N),js(b,o,N,-1))}return kx(),b=nx(Error(r(421))),pf(o,u,M,b)}return N.data==="$?"?(u.flags|=128,u.child=o.child,u=T6.bind(null,o),N._reactRetry=u,null):(o=C.treeContext,Ln=ti(N.nextSibling),_n=u,Dt=!0,vs=null,o!==null&&(Gn[Yn++]=da,Gn[Yn++]=fa,Gn[Yn++]=Ri,da=o.id,fa=o.overflow,Ri=u),u=cx(u,b.children),u.flags|=4096,u)}function _2(o,u,p){o.lanes|=u;var b=o.alternate;b!==null&&(b.lanes|=u),F0(o.return,u,p)}function ux(o,u,p,b,N){var C=o.memoizedState;C===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:N}:(C.isBackwards=u,C.rendering=null,C.renderingStartTime=0,C.last=b,C.tail=p,C.tailMode=N)}function L2(o,u,p){var b=u.pendingProps,N=b.revealOrder,C=b.tail;if(an(o,u,b.children,p),b=Ut.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&_2(o,p,u);else if(o.tag===19)_2(o,p,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}b&=1}if(Ct(Ut,b),(u.mode&1)===0)u.memoizedState=null;else switch(N){case"forwards":for(p=u.child,N=null;p!==null;)o=p.alternate,o!==null&&lf(o)===null&&(N=p),p=p.sibling;p=N,p===null?(N=u.child,u.child=null):(N=p.sibling,p.sibling=null),ux(u,!1,N,p,C);break;case"backwards":for(p=null,N=u.child,u.child=null;N!==null;){if(o=N.alternate,o!==null&&lf(o)===null){u.child=N;break}o=N.sibling,N.sibling=p,p=N,N=o}ux(u,!0,p,null,C);break;case"together":ux(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function xf(o,u){(u.mode&1)===0&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function pa(o,u,p){if(o!==null&&(u.dependencies=o.dependencies),Bi|=u.lanes,(p&u.childLanes)===0)return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,p=fi(o,o.pendingProps),u.child=p,p.return=u;o.sibling!==null;)o=o.sibling,p=p.sibling=fi(o,o.pendingProps),p.return=u;p.sibling=null}return u.child}function y6(o,u,p){switch(u.tag){case 3:I2(u),Go();break;case 5:ZN(u);break;case 1:yn(u.type)&&Qd(u);break;case 4:U0(u,u.stateNode.containerInfo);break;case 10:var b=u.type._context,N=u.memoizedProps.value;Ct(nf,b._currentValue),b._currentValue=N;break;case 13:if(b=u.memoizedState,b!==null)return b.dehydrated!==null?(Ct(Ut,Ut.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?R2(o,u,p):(Ct(Ut,Ut.current&1),o=pa(o,u,p),o!==null?o.sibling:null);Ct(Ut,Ut.current&1);break;case 19:if(b=(p&u.childLanes)!==0,(o.flags&128)!==0){if(b)return L2(o,u,p);u.flags|=128}if(N=u.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Ct(Ut,Ut.current),b)break;return null;case 22:case 23:return u.lanes=0,O2(o,u,p)}return pa(o,u,p)}var $2,dx,F2,B2;$2=function(o,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)o.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},dx=function(){},F2=function(o,u,p,b){var N=o.memoizedProps;if(N!==b){o=u.stateNode,$i($s.current);var C=null;switch(p){case"input":N=ye(o,N),b=ye(o,b),C=[];break;case"select":N=se({},N,{value:void 0}),b=se({},b,{value:void 0}),C=[];break;case"textarea":N=he(o,N),b=he(o,b),C=[];break;default:typeof N.onClick!="function"&&typeof b.onClick=="function"&&(o.onclick=Gd)}At(p,b);var M;p=null;for(le in N)if(!b.hasOwnProperty(le)&&N.hasOwnProperty(le)&&N[le]!=null)if(le==="style"){var K=N[le];for(M in K)K.hasOwnProperty(M)&&(p||(p={}),p[M]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(a.hasOwnProperty(le)?C||(C=[]):(C=C||[]).push(le,null));for(le in b){var H=b[le];if(K=N!=null?N[le]:void 0,b.hasOwnProperty(le)&&H!==K&&(H!=null||K!=null))if(le==="style")if(K){for(M in K)!K.hasOwnProperty(M)||H&&H.hasOwnProperty(M)||(p||(p={}),p[M]="");for(M in H)H.hasOwnProperty(M)&&K[M]!==H[M]&&(p||(p={}),p[M]=H[M])}else p||(C||(C=[]),C.push(le,p)),p=H;else le==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,K=K?K.__html:void 0,H!=null&&K!==H&&(C=C||[]).push(le,H)):le==="children"?typeof H!="string"&&typeof H!="number"||(C=C||[]).push(le,""+H):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(a.hasOwnProperty(le)?(H!=null&&le==="onScroll"&&zt("scroll",o),C||K===H||(C=[])):(C=C||[]).push(le,H))}p&&(C=C||[]).push("style",p);var le=C;(u.updateQueue=le)&&(u.flags|=4)}},B2=function(o,u,p,b){p!==b&&(u.flags|=4)};function Ic(o,u){if(!Dt)switch(o.tailMode){case"hidden":u=o.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o.tail=null:p.sibling=null;break;case"collapsed":p=o.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:b.sibling=null}}function Yr(o){var u=o.alternate!==null&&o.alternate.child===o.child,p=0,b=0;if(u)for(var N=o.child;N!==null;)p|=N.lanes|N.childLanes,b|=N.subtreeFlags&14680064,b|=N.flags&14680064,N.return=o,N=N.sibling;else for(N=o.child;N!==null;)p|=N.lanes|N.childLanes,b|=N.subtreeFlags,b|=N.flags,N.return=o,N=N.sibling;return o.subtreeFlags|=b,o.childLanes=p,u}function w6(o,u,p){var b=u.pendingProps;switch(M0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(u),null;case 1:return yn(u.type)&&Xd(),Yr(u),null;case 3:return b=u.stateNode,Zo(),Ot(bn),Ot(Hr),q0(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(o===null||o.child===null)&&(tf(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,vs!==null&&(jx(vs),vs=null))),dx(o,u),Yr(u),null;case 5:W0(u);var N=$i(Ac.current);if(p=u.type,o!==null&&u.stateNode!=null)F2(o,u,p,b,N),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!b){if(u.stateNode===null)throw Error(r(166));return Yr(u),null}if(o=$i($s.current),tf(u)){b=u.stateNode,p=u.type;var C=u.memoizedProps;switch(b[Ls]=u,b[Sc]=C,o=(u.mode&1)!==0,p){case"dialog":zt("cancel",b),zt("close",b);break;case"iframe":case"object":case"embed":zt("load",b);break;case"video":case"audio":for(N=0;N<wc.length;N++)zt(wc[N],b);break;case"source":zt("error",b);break;case"img":case"image":case"link":zt("error",b),zt("load",b);break;case"details":zt("toggle",b);break;case"input":Xe(b,C),zt("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!C.multiple},zt("invalid",b);break;case"textarea":Te(b,C),zt("invalid",b)}At(p,C),N=null;for(var M in C)if(C.hasOwnProperty(M)){var K=C[M];M==="children"?typeof K=="string"?b.textContent!==K&&(C.suppressHydrationWarning!==!0&&Hd(b.textContent,K,o),N=["children",K]):typeof K=="number"&&b.textContent!==""+K&&(C.suppressHydrationWarning!==!0&&Hd(b.textContent,K,o),N=["children",""+K]):a.hasOwnProperty(M)&&K!=null&&M==="onScroll"&&zt("scroll",b)}switch(p){case"input":ue(b),fe(b,C,!0);break;case"textarea":ue(b),Be(b);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(b.onclick=Gd)}b=N,u.updateQueue=b,b!==null&&(u.flags|=4)}else{M=N.nodeType===9?N:N.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=nt(p)),o==="http://www.w3.org/1999/xhtml"?p==="script"?(o=M.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof b.is=="string"?o=M.createElement(p,{is:b.is}):(o=M.createElement(p),p==="select"&&(M=o,b.multiple?M.multiple=!0:b.size&&(M.size=b.size))):o=M.createElementNS(o,p),o[Ls]=u,o[Sc]=b,$2(o,u,!1,!1),u.stateNode=o;e:{switch(M=vn(p,b),p){case"dialog":zt("cancel",o),zt("close",o),N=b;break;case"iframe":case"object":case"embed":zt("load",o),N=b;break;case"video":case"audio":for(N=0;N<wc.length;N++)zt(wc[N],o);N=b;break;case"source":zt("error",o),N=b;break;case"img":case"image":case"link":zt("error",o),zt("load",o),N=b;break;case"details":zt("toggle",o),N=b;break;case"input":Xe(o,b),N=ye(o,b),zt("invalid",o);break;case"option":N=b;break;case"select":o._wrapperState={wasMultiple:!!b.multiple},N=se({},b,{value:void 0}),zt("invalid",o);break;case"textarea":Te(o,b),N=he(o,b),zt("invalid",o);break;default:N=b}At(p,N),K=N;for(C in K)if(K.hasOwnProperty(C)){var H=K[C];C==="style"?$e(o,H):C==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Vt(o,H)):C==="children"?typeof H=="string"?(p!=="textarea"||H!=="")&&Nt(o,H):typeof H=="number"&&Nt(o,""+H):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(a.hasOwnProperty(C)?H!=null&&C==="onScroll"&&zt("scroll",o):H!=null&&k(o,C,H,M))}switch(p){case"input":ue(o),fe(o,b,!1);break;case"textarea":ue(o),Be(o);break;case"option":b.value!=null&&o.setAttribute("value",""+G(b.value));break;case"select":o.multiple=!!b.multiple,C=b.value,C!=null?B(o,!!b.multiple,C,!1):b.defaultValue!=null&&B(o,!!b.multiple,b.defaultValue,!0);break;default:typeof N.onClick=="function"&&(o.onclick=Gd)}switch(p){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Yr(u),null;case 6:if(o&&u.stateNode!=null)B2(o,u,o.memoizedProps,b);else{if(typeof b!="string"&&u.stateNode===null)throw Error(r(166));if(p=$i(Ac.current),$i($s.current),tf(u)){if(b=u.stateNode,p=u.memoizedProps,b[Ls]=u,(C=b.nodeValue!==p)&&(o=_n,o!==null))switch(o.tag){case 3:Hd(b.nodeValue,p,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Hd(b.nodeValue,p,(o.mode&1)!==0)}C&&(u.flags|=4)}else b=(p.nodeType===9?p:p.ownerDocument).createTextNode(b),b[Ls]=u,u.stateNode=b}return Yr(u),null;case 13:if(Ot(Ut),b=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Dt&&Ln!==null&&(u.mode&1)!==0&&(u.flags&128)===0)WN(),Go(),u.flags|=98560,C=!1;else if(C=tf(u),b!==null&&b.dehydrated!==null){if(o===null){if(!C)throw Error(r(318));if(C=u.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(r(317));C[Ls]=u}else Go(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Yr(u),C=!1}else vs!==null&&(jx(vs),vs=null),C=!0;if(!C)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(b=b!==null,b!==(o!==null&&o.memoizedState!==null)&&b&&(u.child.flags|=8192,(u.mode&1)!==0&&(o===null||(Ut.current&1)!==0?hr===0&&(hr=3):kx())),u.updateQueue!==null&&(u.flags|=4),Yr(u),null);case 4:return Zo(),dx(o,u),o===null&&jc(u.stateNode.containerInfo),Yr(u),null;case 10:return $0(u.type._context),Yr(u),null;case 17:return yn(u.type)&&Xd(),Yr(u),null;case 19:if(Ot(Ut),C=u.memoizedState,C===null)return Yr(u),null;if(b=(u.flags&128)!==0,M=C.rendering,M===null)if(b)Ic(C,!1);else{if(hr!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(M=lf(o),M!==null){for(u.flags|=128,Ic(C,!1),b=M.updateQueue,b!==null&&(u.updateQueue=b,u.flags|=4),u.subtreeFlags=0,b=p,p=u.child;p!==null;)C=p,o=b,C.flags&=14680066,M=C.alternate,M===null?(C.childLanes=0,C.lanes=o,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=M.childLanes,C.lanes=M.lanes,C.child=M.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=M.memoizedProps,C.memoizedState=M.memoizedState,C.updateQueue=M.updateQueue,C.type=M.type,o=M.dependencies,C.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),p=p.sibling;return Ct(Ut,Ut.current&1|2),u.child}o=o.sibling}C.tail!==null&&Zt()>rl&&(u.flags|=128,b=!0,Ic(C,!1),u.lanes=4194304)}else{if(!b)if(o=lf(M),o!==null){if(u.flags|=128,b=!0,p=o.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Ic(C,!0),C.tail===null&&C.tailMode==="hidden"&&!M.alternate&&!Dt)return Yr(u),null}else 2*Zt()-C.renderingStartTime>rl&&p!==1073741824&&(u.flags|=128,b=!0,Ic(C,!1),u.lanes=4194304);C.isBackwards?(M.sibling=u.child,u.child=M):(p=C.last,p!==null?p.sibling=M:u.child=M,C.last=M)}return C.tail!==null?(u=C.tail,C.rendering=u,C.tail=u.sibling,C.renderingStartTime=Zt(),u.sibling=null,p=Ut.current,Ct(Ut,b?p&1|2:p&1),u):(Yr(u),null);case 22:case 23:return Sx(),b=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==b&&(u.flags|=8192),b&&(u.mode&1)!==0?($n&1073741824)!==0&&(Yr(u),u.subtreeFlags&6&&(u.flags|=8192)):Yr(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function j6(o,u){switch(M0(u),u.tag){case 1:return yn(u.type)&&Xd(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Zo(),Ot(bn),Ot(Hr),q0(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 5:return W0(u),null;case 13:if(Ot(Ut),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Go()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Ot(Ut),null;case 4:return Zo(),null;case 10:return $0(u.type._context),null;case 22:case 23:return Sx(),null;case 24:return null;default:return null}}var gf=!1,Xr=!1,N6=typeof WeakSet=="function"?WeakSet:Set,Me=null;function el(o,u){var p=o.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(b){qt(o,u,b)}else p.current=null}function fx(o,u,p){try{p()}catch(b){qt(o,u,b)}}var V2=!1;function S6(o,u){if(S0=Rd,o=yN(),x0(o)){if("selectionStart"in o)var p={start:o.selectionStart,end:o.selectionEnd};else e:{p=(p=o.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var N=b.anchorOffset,C=b.focusNode;b=b.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var M=0,K=-1,H=-1,le=0,be=0,je=o,ge=null;t:for(;;){for(var ze;je!==p||N!==0&&je.nodeType!==3||(K=M+N),je!==C||b!==0&&je.nodeType!==3||(H=M+b),je.nodeType===3&&(M+=je.nodeValue.length),(ze=je.firstChild)!==null;)ge=je,je=ze;for(;;){if(je===o)break t;if(ge===p&&++le===N&&(K=M),ge===C&&++be===b&&(H=M),(ze=je.nextSibling)!==null)break;je=ge,ge=je.parentNode}je=ze}p=K===-1||H===-1?null:{start:K,end:H}}else p=null}p=p||{start:0,end:0}}else p=null;for(k0={focusedElem:o,selectionRange:p},Rd=!1,Me=u;Me!==null;)if(u=Me,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Me=o;else for(;Me!==null;){u=Me;try{var De=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Le=De.memoizedProps,Jt=De.memoizedState,ae=u.stateNode,Y=ae.getSnapshotBeforeUpdate(u.elementType===u.type?Le:bs(u.type,Le),Jt);ae.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var oe=u.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ne){qt(u,u.return,Ne)}if(o=u.sibling,o!==null){o.return=u.return,Me=o;break}Me=u.return}return De=V2,V2=!1,De}function Dc(o,u,p){var b=u.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var N=b=b.next;do{if((N.tag&o)===o){var C=N.destroy;N.destroy=void 0,C!==void 0&&fx(u,p,C)}N=N.next}while(N!==b)}}function vf(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&o)===o){var b=p.create;p.destroy=b()}p=p.next}while(p!==u)}}function mx(o){var u=o.ref;if(u!==null){var p=o.stateNode;switch(o.tag){case 5:o=p;break;default:o=p}typeof u=="function"?u(o):u.current=o}}function U2(o){var u=o.alternate;u!==null&&(o.alternate=null,U2(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[Ls],delete u[Sc],delete u[A0],delete u[i6],delete u[o6])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function W2(o){return o.tag===5||o.tag===3||o.tag===4}function K2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||W2(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function hx(o,u,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(o,u):p.insertBefore(o,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(o,p)):(u=p,u.appendChild(o)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Gd));else if(b!==4&&(o=o.child,o!==null))for(hx(o,u,p),o=o.sibling;o!==null;)hx(o,u,p),o=o.sibling}function px(o,u,p){var b=o.tag;if(b===5||b===6)o=o.stateNode,u?p.insertBefore(o,u):p.appendChild(o);else if(b!==4&&(o=o.child,o!==null))for(px(o,u,p),o=o.sibling;o!==null;)px(o,u,p),o=o.sibling}var $r=null,ys=!1;function oi(o,u,p){for(p=p.child;p!==null;)q2(o,u,p),p=p.sibling}function q2(o,u,p){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(zd,p)}catch{}switch(p.tag){case 5:Xr||el(p,u);case 6:var b=$r,N=ys;$r=null,oi(o,u,p),$r=b,ys=N,$r!==null&&(ys?(o=$r,p=p.stateNode,o.nodeType===8?o.parentNode.removeChild(p):o.removeChild(p)):$r.removeChild(p.stateNode));break;case 18:$r!==null&&(ys?(o=$r,p=p.stateNode,o.nodeType===8?E0(o.parentNode,p):o.nodeType===1&&E0(o,p),mc(o)):E0($r,p.stateNode));break;case 4:b=$r,N=ys,$r=p.stateNode.containerInfo,ys=!0,oi(o,u,p),$r=b,ys=N;break;case 0:case 11:case 14:case 15:if(!Xr&&(b=p.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){N=b=b.next;do{var C=N,M=C.destroy;C=C.tag,M!==void 0&&((C&2)!==0||(C&4)!==0)&&fx(p,u,M),N=N.next}while(N!==b)}oi(o,u,p);break;case 1:if(!Xr&&(el(p,u),b=p.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=p.memoizedProps,b.state=p.memoizedState,b.componentWillUnmount()}catch(K){qt(p,u,K)}oi(o,u,p);break;case 21:oi(o,u,p);break;case 22:p.mode&1?(Xr=(b=Xr)||p.memoizedState!==null,oi(o,u,p),Xr=b):oi(o,u,p);break;default:oi(o,u,p)}}function H2(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var p=o.stateNode;p===null&&(p=o.stateNode=new N6),u.forEach(function(b){var N=M6.bind(null,o,b);p.has(b)||(p.add(b),b.then(N,N))})}}function ws(o,u){var p=u.deletions;if(p!==null)for(var b=0;b<p.length;b++){var N=p[b];try{var C=o,M=u,K=M;e:for(;K!==null;){switch(K.tag){case 5:$r=K.stateNode,ys=!1;break e;case 3:$r=K.stateNode.containerInfo,ys=!0;break e;case 4:$r=K.stateNode.containerInfo,ys=!0;break e}K=K.return}if($r===null)throw Error(r(160));q2(C,M,N),$r=null,ys=!1;var H=N.alternate;H!==null&&(H.return=null),N.return=null}catch(le){qt(N,u,le)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)G2(u,o),u=u.sibling}function G2(o,u){var p=o.alternate,b=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ws(u,o),Bs(o),b&4){try{Dc(3,o,o.return),vf(3,o)}catch(Le){qt(o,o.return,Le)}try{Dc(5,o,o.return)}catch(Le){qt(o,o.return,Le)}}break;case 1:ws(u,o),Bs(o),b&512&&p!==null&&el(p,p.return);break;case 5:if(ws(u,o),Bs(o),b&512&&p!==null&&el(p,p.return),o.flags&32){var N=o.stateNode;try{Nt(N,"")}catch(Le){qt(o,o.return,Le)}}if(b&4&&(N=o.stateNode,N!=null)){var C=o.memoizedProps,M=p!==null?p.memoizedProps:C,K=o.type,H=o.updateQueue;if(o.updateQueue=null,H!==null)try{K==="input"&&C.type==="radio"&&C.name!=null&&Ue(N,C),vn(K,M);var le=vn(K,C);for(M=0;M<H.length;M+=2){var be=H[M],je=H[M+1];be==="style"?$e(N,je):be==="dangerouslySetInnerHTML"?Vt(N,je):be==="children"?Nt(N,je):k(N,be,je,le)}switch(K){case"input":re(N,C);break;case"textarea":qe(N,C);break;case"select":var ge=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!C.multiple;var ze=C.value;ze!=null?B(N,!!C.multiple,ze,!1):ge!==!!C.multiple&&(C.defaultValue!=null?B(N,!!C.multiple,C.defaultValue,!0):B(N,!!C.multiple,C.multiple?[]:"",!1))}N[Sc]=C}catch(Le){qt(o,o.return,Le)}}break;case 6:if(ws(u,o),Bs(o),b&4){if(o.stateNode===null)throw Error(r(162));N=o.stateNode,C=o.memoizedProps;try{N.nodeValue=C}catch(Le){qt(o,o.return,Le)}}break;case 3:if(ws(u,o),Bs(o),b&4&&p!==null&&p.memoizedState.isDehydrated)try{mc(u.containerInfo)}catch(Le){qt(o,o.return,Le)}break;case 4:ws(u,o),Bs(o);break;case 13:ws(u,o),Bs(o),N=o.child,N.flags&8192&&(C=N.memoizedState!==null,N.stateNode.isHidden=C,!C||N.alternate!==null&&N.alternate.memoizedState!==null||(vx=Zt())),b&4&&H2(o);break;case 22:if(be=p!==null&&p.memoizedState!==null,o.mode&1?(Xr=(le=Xr)||be,ws(u,o),Xr=le):ws(u,o),Bs(o),b&8192){if(le=o.memoizedState!==null,(o.stateNode.isHidden=le)&&!be&&(o.mode&1)!==0)for(Me=o,be=o.child;be!==null;){for(je=Me=be;Me!==null;){switch(ge=Me,ze=ge.child,ge.tag){case 0:case 11:case 14:case 15:Dc(4,ge,ge.return);break;case 1:el(ge,ge.return);var De=ge.stateNode;if(typeof De.componentWillUnmount=="function"){b=ge,p=ge.return;try{u=b,De.props=u.memoizedProps,De.state=u.memoizedState,De.componentWillUnmount()}catch(Le){qt(b,p,Le)}}break;case 5:el(ge,ge.return);break;case 22:if(ge.memoizedState!==null){Q2(je);continue}}ze!==null?(ze.return=ge,Me=ze):Q2(je)}be=be.sibling}e:for(be=null,je=o;;){if(je.tag===5){if(be===null){be=je;try{N=je.stateNode,le?(C=N.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(K=je.stateNode,H=je.memoizedProps.style,M=H!=null&&H.hasOwnProperty("display")?H.display:null,K.style.display=Ae("display",M))}catch(Le){qt(o,o.return,Le)}}}else if(je.tag===6){if(be===null)try{je.stateNode.nodeValue=le?"":je.memoizedProps}catch(Le){qt(o,o.return,Le)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===o)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===o)break e;for(;je.sibling===null;){if(je.return===null||je.return===o)break e;be===je&&(be=null),je=je.return}be===je&&(be=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:ws(u,o),Bs(o),b&4&&H2(o);break;case 21:break;default:ws(u,o),Bs(o)}}function Bs(o){var u=o.flags;if(u&2){try{e:{for(var p=o.return;p!==null;){if(W2(p)){var b=p;break e}p=p.return}throw Error(r(160))}switch(b.tag){case 5:var N=b.stateNode;b.flags&32&&(Nt(N,""),b.flags&=-33);var C=K2(o);px(o,C,N);break;case 3:case 4:var M=b.stateNode.containerInfo,K=K2(o);hx(o,K,M);break;default:throw Error(r(161))}}catch(H){qt(o,o.return,H)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function k6(o,u,p){Me=o,Y2(o)}function Y2(o,u,p){for(var b=(o.mode&1)!==0;Me!==null;){var N=Me,C=N.child;if(N.tag===22&&b){var M=N.memoizedState!==null||gf;if(!M){var K=N.alternate,H=K!==null&&K.memoizedState!==null||Xr;K=gf;var le=Xr;if(gf=M,(Xr=H)&&!le)for(Me=N;Me!==null;)M=Me,H=M.child,M.tag===22&&M.memoizedState!==null?Z2(N):H!==null?(H.return=M,Me=H):Z2(N);for(;C!==null;)Me=C,Y2(C),C=C.sibling;Me=N,gf=K,Xr=le}X2(o)}else(N.subtreeFlags&8772)!==0&&C!==null?(C.return=N,Me=C):X2(o)}}function X2(o){for(;Me!==null;){var u=Me;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:Xr||vf(5,u);break;case 1:var b=u.stateNode;if(u.flags&4&&!Xr)if(p===null)b.componentDidMount();else{var N=u.elementType===u.type?p.memoizedProps:bs(u.type,p.memoizedProps);b.componentDidUpdate(N,p.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var C=u.updateQueue;C!==null&&QN(u,C,b);break;case 3:var M=u.updateQueue;if(M!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}QN(u,M,p)}break;case 5:var K=u.stateNode;if(p===null&&u.flags&4){p=K;var H=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&p.focus();break;case"img":H.src&&(p.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var le=u.alternate;if(le!==null){var be=le.memoizedState;if(be!==null){var je=be.dehydrated;je!==null&&mc(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xr||u.flags&512&&mx(u)}catch(ge){qt(u,u.return,ge)}}if(u===o){Me=null;break}if(p=u.sibling,p!==null){p.return=u.return,Me=p;break}Me=u.return}}function Q2(o){for(;Me!==null;){var u=Me;if(u===o){Me=null;break}var p=u.sibling;if(p!==null){p.return=u.return,Me=p;break}Me=u.return}}function Z2(o){for(;Me!==null;){var u=Me;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{vf(4,u)}catch(H){qt(u,p,H)}break;case 1:var b=u.stateNode;if(typeof b.componentDidMount=="function"){var N=u.return;try{b.componentDidMount()}catch(H){qt(u,N,H)}}var C=u.return;try{mx(u)}catch(H){qt(u,C,H)}break;case 5:var M=u.return;try{mx(u)}catch(H){qt(u,M,H)}}}catch(H){qt(u,u.return,H)}if(u===o){Me=null;break}var K=u.sibling;if(K!==null){K.return=u.return,Me=K;break}Me=u.return}}var P6=Math.ceil,bf=E.ReactCurrentDispatcher,xx=E.ReactCurrentOwner,Zn=E.ReactCurrentBatchConfig,ot=0,kr=null,ar=null,Fr=0,$n=0,tl=ri(0),hr=0,Rc=null,Bi=0,yf=0,gx=0,_c=null,jn=null,vx=0,rl=1/0,xa=null,wf=!1,bx=null,li=null,jf=!1,ci=null,Nf=0,Lc=0,yx=null,Sf=-1,kf=0;function on(){return(ot&6)!==0?Zt():Sf!==-1?Sf:Sf=Zt()}function ui(o){return(o.mode&1)===0?1:(ot&2)!==0&&Fr!==0?Fr&-Fr:c6.transition!==null?(kf===0&&(kf=Kj()),kf):(o=pt,o!==0||(o=window.event,o=o===void 0?16:eN(o.type)),o)}function js(o,u,p,b){if(50<Lc)throw Lc=0,yx=null,Error(r(185));lc(o,p,b),((ot&2)===0||o!==kr)&&(o===kr&&((ot&2)===0&&(yf|=p),hr===4&&di(o,Fr)),Nn(o,b),p===1&&ot===0&&(u.mode&1)===0&&(rl=Zt()+500,Zd&&si()))}function Nn(o,u){var p=o.callbackNode;c_(o,u);var b=Md(o,o===kr?Fr:0);if(b===0)p!==null&&Vj(p),o.callbackNode=null,o.callbackPriority=0;else if(u=b&-b,o.callbackPriority!==u){if(p!=null&&Vj(p),u===1)o.tag===0?l6(eS.bind(null,o)):$N(eS.bind(null,o)),s6(function(){(ot&6)===0&&si()}),p=null;else{switch(qj(b)){case 1:p=Jp;break;case 4:p=Uj;break;case 16:p=Ad;break;case 536870912:p=Wj;break;default:p=Ad}p=lS(p,J2.bind(null,o))}o.callbackPriority=u,o.callbackNode=p}}function J2(o,u){if(Sf=-1,kf=0,(ot&6)!==0)throw Error(r(327));var p=o.callbackNode;if(nl()&&o.callbackNode!==p)return null;var b=Md(o,o===kr?Fr:0);if(b===0)return null;if((b&30)!==0||(b&o.expiredLanes)!==0||u)u=Pf(o,b);else{u=b;var N=ot;ot|=2;var C=rS();(kr!==o||Fr!==u)&&(xa=null,rl=Zt()+500,Ui(o,u));do try{A6();break}catch(K){tS(o,K)}while(!0);L0(),bf.current=C,ot=N,ar!==null?u=0:(kr=null,Fr=0,u=hr)}if(u!==0){if(u===2&&(N=e0(o),N!==0&&(b=N,u=wx(o,N))),u===1)throw p=Rc,Ui(o,0),di(o,b),Nn(o,Zt()),p;if(u===6)di(o,b);else{if(N=o.current.alternate,(b&30)===0&&!C6(N)&&(u=Pf(o,b),u===2&&(C=e0(o),C!==0&&(b=C,u=wx(o,C))),u===1))throw p=Rc,Ui(o,0),di(o,b),Nn(o,Zt()),p;switch(o.finishedWork=N,o.finishedLanes=b,u){case 0:case 1:throw Error(r(345));case 2:Wi(o,jn,xa);break;case 3:if(di(o,b),(b&130023424)===b&&(u=vx+500-Zt(),10<u)){if(Md(o,0)!==0)break;if(N=o.suspendedLanes,(N&b)!==b){on(),o.pingedLanes|=o.suspendedLanes&N;break}o.timeoutHandle=C0(Wi.bind(null,o,jn,xa),u);break}Wi(o,jn,xa);break;case 4:if(di(o,b),(b&4194240)===b)break;for(u=o.eventTimes,N=-1;0<b;){var M=31-xs(b);C=1<<M,M=u[M],M>N&&(N=M),b&=~C}if(b=N,b=Zt()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*P6(b/1960))-b,10<b){o.timeoutHandle=C0(Wi.bind(null,o,jn,xa),b);break}Wi(o,jn,xa);break;case 5:Wi(o,jn,xa);break;default:throw Error(r(329))}}}return Nn(o,Zt()),o.callbackNode===p?J2.bind(null,o):null}function wx(o,u){var p=_c;return o.current.memoizedState.isDehydrated&&(Ui(o,u).flags|=256),o=Pf(o,u),o!==2&&(u=jn,jn=p,u!==null&&jx(u)),o}function jx(o){jn===null?jn=o:jn.push.apply(jn,o)}function C6(o){for(var u=o;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var b=0;b<p.length;b++){var N=p[b],C=N.getSnapshot;N=N.value;try{if(!gs(C(),N))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function di(o,u){for(u&=~gx,u&=~yf,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var p=31-xs(u),b=1<<p;o[p]=-1,u&=~b}}function eS(o){if((ot&6)!==0)throw Error(r(327));nl();var u=Md(o,0);if((u&1)===0)return Nn(o,Zt()),null;var p=Pf(o,u);if(o.tag!==0&&p===2){var b=e0(o);b!==0&&(u=b,p=wx(o,b))}if(p===1)throw p=Rc,Ui(o,0),di(o,u),Nn(o,Zt()),p;if(p===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,Wi(o,jn,xa),Nn(o,Zt()),null}function Nx(o,u){var p=ot;ot|=1;try{return o(u)}finally{ot=p,ot===0&&(rl=Zt()+500,Zd&&si())}}function Vi(o){ci!==null&&ci.tag===0&&(ot&6)===0&&nl();var u=ot;ot|=1;var p=Zn.transition,b=pt;try{if(Zn.transition=null,pt=1,o)return o()}finally{pt=b,Zn.transition=p,ot=u,(ot&6)===0&&si()}}function Sx(){$n=tl.current,Ot(tl)}function Ui(o,u){o.finishedWork=null,o.finishedLanes=0;var p=o.timeoutHandle;if(p!==-1&&(o.timeoutHandle=-1,n6(p)),ar!==null)for(p=ar.return;p!==null;){var b=p;switch(M0(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Xd();break;case 3:Zo(),Ot(bn),Ot(Hr),q0();break;case 5:W0(b);break;case 4:Zo();break;case 13:Ot(Ut);break;case 19:Ot(Ut);break;case 10:$0(b.type._context);break;case 22:case 23:Sx()}p=p.return}if(kr=o,ar=o=fi(o.current,null),Fr=$n=u,hr=0,Rc=null,gx=yf=Bi=0,jn=_c=null,Li!==null){for(u=0;u<Li.length;u++)if(p=Li[u],b=p.interleaved,b!==null){p.interleaved=null;var N=b.next,C=p.pending;if(C!==null){var M=C.next;C.next=N,b.next=M}p.pending=b}Li=null}return o}function tS(o,u){do{var p=ar;try{if(L0(),cf.current=mf,uf){for(var b=Wt.memoizedState;b!==null;){var N=b.queue;N!==null&&(N.pending=null),b=b.next}uf=!1}if(Fi=0,Sr=mr=Wt=null,zc=!1,Oc=0,xx.current=null,p===null||p.return===null){hr=1,Rc=u,ar=null;break}e:{var C=o,M=p.return,K=p,H=u;if(u=Fr,K.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var le=H,be=K,je=be.tag;if((be.mode&1)===0&&(je===0||je===11||je===15)){var ge=be.alternate;ge?(be.updateQueue=ge.updateQueue,be.memoizedState=ge.memoizedState,be.lanes=ge.lanes):(be.updateQueue=null,be.memoizedState=null)}var ze=P2(M);if(ze!==null){ze.flags&=-257,C2(ze,M,K,C,u),ze.mode&1&&k2(C,le,u),u=ze,H=le;var De=u.updateQueue;if(De===null){var Le=new Set;Le.add(H),u.updateQueue=Le}else De.add(H);break e}else{if((u&1)===0){k2(C,le,u),kx();break e}H=Error(r(426))}}else if(Dt&&K.mode&1){var Jt=P2(M);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),C2(Jt,M,K,C,u),R0(Jo(H,K));break e}}C=H=Jo(H,K),hr!==4&&(hr=2),_c===null?_c=[C]:_c.push(C),C=M;do{switch(C.tag){case 3:C.flags|=65536,u&=-u,C.lanes|=u;var ae=N2(C,H,u);XN(C,ae);break e;case 1:K=H;var Y=C.type,oe=C.stateNode;if((C.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(li===null||!li.has(oe)))){C.flags|=65536,u&=-u,C.lanes|=u;var Ne=S2(C,K,u);XN(C,Ne);break e}}C=C.return}while(C!==null)}sS(p)}catch(Fe){u=Fe,ar===p&&p!==null&&(ar=p=p.return);continue}break}while(!0)}function rS(){var o=bf.current;return bf.current=mf,o===null?mf:o}function kx(){(hr===0||hr===3||hr===2)&&(hr=4),kr===null||(Bi&268435455)===0&&(yf&268435455)===0||di(kr,Fr)}function Pf(o,u){var p=ot;ot|=2;var b=rS();(kr!==o||Fr!==u)&&(xa=null,Ui(o,u));do try{E6();break}catch(N){tS(o,N)}while(!0);if(L0(),ot=p,bf.current=b,ar!==null)throw Error(r(261));return kr=null,Fr=0,hr}function E6(){for(;ar!==null;)nS(ar)}function A6(){for(;ar!==null&&!e_();)nS(ar)}function nS(o){var u=oS(o.alternate,o,$n);o.memoizedProps=o.pendingProps,u===null?sS(o):ar=u,xx.current=null}function sS(o){var u=o;do{var p=u.alternate;if(o=u.return,(u.flags&32768)===0){if(p=w6(p,u,$n),p!==null){ar=p;return}}else{if(p=j6(p,u),p!==null){p.flags&=32767,ar=p;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{hr=6,ar=null;return}}if(u=u.sibling,u!==null){ar=u;return}ar=u=o}while(u!==null);hr===0&&(hr=5)}function Wi(o,u,p){var b=pt,N=Zn.transition;try{Zn.transition=null,pt=1,z6(o,u,p,b)}finally{Zn.transition=N,pt=b}return null}function z6(o,u,p,b){do nl();while(ci!==null);if((ot&6)!==0)throw Error(r(327));p=o.finishedWork;var N=o.finishedLanes;if(p===null)return null;if(o.finishedWork=null,o.finishedLanes=0,p===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var C=p.lanes|p.childLanes;if(u_(o,C),o===kr&&(ar=kr=null,Fr=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||jf||(jf=!0,lS(Ad,function(){return nl(),null})),C=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||C){C=Zn.transition,Zn.transition=null;var M=pt;pt=1;var K=ot;ot|=4,xx.current=null,S6(o,p),G2(p,o),X_(k0),Rd=!!S0,k0=S0=null,o.current=p,k6(p),t_(),ot=K,pt=M,Zn.transition=C}else o.current=p;if(jf&&(jf=!1,ci=o,Nf=N),C=o.pendingLanes,C===0&&(li=null),s_(p.stateNode),Nn(o,Zt()),u!==null)for(b=o.onRecoverableError,p=0;p<u.length;p++)N=u[p],b(N.value,{componentStack:N.stack,digest:N.digest});if(wf)throw wf=!1,o=bx,bx=null,o;return(Nf&1)!==0&&o.tag!==0&&nl(),C=o.pendingLanes,(C&1)!==0?o===yx?Lc++:(Lc=0,yx=o):Lc=0,si(),null}function nl(){if(ci!==null){var o=qj(Nf),u=Zn.transition,p=pt;try{if(Zn.transition=null,pt=16>o?16:o,ci===null)var b=!1;else{if(o=ci,ci=null,Nf=0,(ot&6)!==0)throw Error(r(331));var N=ot;for(ot|=4,Me=o.current;Me!==null;){var C=Me,M=C.child;if((Me.flags&16)!==0){var K=C.deletions;if(K!==null){for(var H=0;H<K.length;H++){var le=K[H];for(Me=le;Me!==null;){var be=Me;switch(be.tag){case 0:case 11:case 15:Dc(8,be,C)}var je=be.child;if(je!==null)je.return=be,Me=je;else for(;Me!==null;){be=Me;var ge=be.sibling,ze=be.return;if(U2(be),be===le){Me=null;break}if(ge!==null){ge.return=ze,Me=ge;break}Me=ze}}}var De=C.alternate;if(De!==null){var Le=De.child;if(Le!==null){De.child=null;do{var Jt=Le.sibling;Le.sibling=null,Le=Jt}while(Le!==null)}}Me=C}}if((C.subtreeFlags&2064)!==0&&M!==null)M.return=C,Me=M;else e:for(;Me!==null;){if(C=Me,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:Dc(9,C,C.return)}var ae=C.sibling;if(ae!==null){ae.return=C.return,Me=ae;break e}Me=C.return}}var Y=o.current;for(Me=Y;Me!==null;){M=Me;var oe=M.child;if((M.subtreeFlags&2064)!==0&&oe!==null)oe.return=M,Me=oe;else e:for(M=Y;Me!==null;){if(K=Me,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:vf(9,K)}}catch(Fe){qt(K,K.return,Fe)}if(K===M){Me=null;break e}var Ne=K.sibling;if(Ne!==null){Ne.return=K.return,Me=Ne;break e}Me=K.return}}if(ot=N,si(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(zd,o)}catch{}b=!0}return b}finally{pt=p,Zn.transition=u}}return!1}function aS(o,u,p){u=Jo(p,u),u=N2(o,u,1),o=ii(o,u,1),u=on(),o!==null&&(lc(o,1,u),Nn(o,u))}function qt(o,u,p){if(o.tag===3)aS(o,o,p);else for(;u!==null;){if(u.tag===3){aS(u,o,p);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(li===null||!li.has(b))){o=Jo(p,o),o=S2(u,o,1),u=ii(u,o,1),o=on(),u!==null&&(lc(u,1,o),Nn(u,o));break}}u=u.return}}function O6(o,u,p){var b=o.pingCache;b!==null&&b.delete(u),u=on(),o.pingedLanes|=o.suspendedLanes&p,kr===o&&(Fr&p)===p&&(hr===4||hr===3&&(Fr&130023424)===Fr&&500>Zt()-vx?Ui(o,0):gx|=p),Nn(o,u)}function iS(o,u){u===0&&((o.mode&1)===0?u=1:(u=Td,Td<<=1,(Td&130023424)===0&&(Td=4194304)));var p=on();o=ma(o,u),o!==null&&(lc(o,u,p),Nn(o,p))}function T6(o){var u=o.memoizedState,p=0;u!==null&&(p=u.retryLane),iS(o,p)}function M6(o,u){var p=0;switch(o.tag){case 13:var b=o.stateNode,N=o.memoizedState;N!==null&&(p=N.retryLane);break;case 19:b=o.stateNode;break;default:throw Error(r(314))}b!==null&&b.delete(u),iS(o,p)}var oS;oS=function(o,u,p){if(o!==null)if(o.memoizedProps!==u.pendingProps||bn.current)wn=!0;else{if((o.lanes&p)===0&&(u.flags&128)===0)return wn=!1,y6(o,u,p);wn=(o.flags&131072)!==0}else wn=!1,Dt&&(u.flags&1048576)!==0&&FN(u,ef,u.index);switch(u.lanes=0,u.tag){case 2:var b=u.type;xf(o,u),o=u.pendingProps;var N=Ko(u,Hr.current);Qo(u,p),N=Y0(null,u,b,o,N,p);var C=X0();return u.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,yn(b)?(C=!0,Qd(u)):C=!1,u.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,V0(u),N.updater=hf,u.stateNode=N,N._reactInternals=u,rx(u,b,o,p),u=ix(null,u,b,!0,C,p)):(u.tag=0,Dt&&C&&T0(u),an(null,u,N,p),u=u.child),u;case 16:b=u.elementType;e:{switch(xf(o,u),o=u.pendingProps,N=b._init,b=N(b._payload),u.type=b,N=u.tag=D6(b),o=bs(b,o),N){case 0:u=ax(null,u,b,o,p);break e;case 1:u=M2(null,u,b,o,p);break e;case 11:u=E2(null,u,b,o,p);break e;case 14:u=A2(null,u,b,bs(b.type,o),p);break e}throw Error(r(306,b,""))}return u;case 0:return b=u.type,N=u.pendingProps,N=u.elementType===b?N:bs(b,N),ax(o,u,b,N,p);case 1:return b=u.type,N=u.pendingProps,N=u.elementType===b?N:bs(b,N),M2(o,u,b,N,p);case 3:e:{if(I2(u),o===null)throw Error(r(387));b=u.pendingProps,C=u.memoizedState,N=C.element,YN(o,u),of(u,b,null,p);var M=u.memoizedState;if(b=M.element,C.isDehydrated)if(C={element:b,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){N=Jo(Error(r(423)),u),u=D2(o,u,b,p,N);break e}else if(b!==N){N=Jo(Error(r(424)),u),u=D2(o,u,b,p,N);break e}else for(Ln=ti(u.stateNode.containerInfo.firstChild),_n=u,Dt=!0,vs=null,p=HN(u,null,b,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(Go(),b===N){u=pa(o,u,p);break e}an(o,u,b,p)}u=u.child}return u;case 5:return ZN(u),o===null&&D0(u),b=u.type,N=u.pendingProps,C=o!==null?o.memoizedProps:null,M=N.children,P0(b,N)?M=null:C!==null&&P0(b,C)&&(u.flags|=32),T2(o,u),an(o,u,M,p),u.child;case 6:return o===null&&D0(u),null;case 13:return R2(o,u,p);case 4:return U0(u,u.stateNode.containerInfo),b=u.pendingProps,o===null?u.child=Yo(u,null,b,p):an(o,u,b,p),u.child;case 11:return b=u.type,N=u.pendingProps,N=u.elementType===b?N:bs(b,N),E2(o,u,b,N,p);case 7:return an(o,u,u.pendingProps,p),u.child;case 8:return an(o,u,u.pendingProps.children,p),u.child;case 12:return an(o,u,u.pendingProps.children,p),u.child;case 10:e:{if(b=u.type._context,N=u.pendingProps,C=u.memoizedProps,M=N.value,Ct(nf,b._currentValue),b._currentValue=M,C!==null)if(gs(C.value,M)){if(C.children===N.children&&!bn.current){u=pa(o,u,p);break e}}else for(C=u.child,C!==null&&(C.return=u);C!==null;){var K=C.dependencies;if(K!==null){M=C.child;for(var H=K.firstContext;H!==null;){if(H.context===b){if(C.tag===1){H=ha(-1,p&-p),H.tag=2;var le=C.updateQueue;if(le!==null){le=le.shared;var be=le.pending;be===null?H.next=H:(H.next=be.next,be.next=H),le.pending=H}}C.lanes|=p,H=C.alternate,H!==null&&(H.lanes|=p),F0(C.return,p,u),K.lanes|=p;break}H=H.next}}else if(C.tag===10)M=C.type===u.type?null:C.child;else if(C.tag===18){if(M=C.return,M===null)throw Error(r(341));M.lanes|=p,K=M.alternate,K!==null&&(K.lanes|=p),F0(M,p,u),M=C.sibling}else M=C.child;if(M!==null)M.return=C;else for(M=C;M!==null;){if(M===u){M=null;break}if(C=M.sibling,C!==null){C.return=M.return,M=C;break}M=M.return}C=M}an(o,u,N.children,p),u=u.child}return u;case 9:return N=u.type,b=u.pendingProps.children,Qo(u,p),N=Xn(N),b=b(N),u.flags|=1,an(o,u,b,p),u.child;case 14:return b=u.type,N=bs(b,u.pendingProps),N=bs(b.type,N),A2(o,u,b,N,p);case 15:return z2(o,u,u.type,u.pendingProps,p);case 17:return b=u.type,N=u.pendingProps,N=u.elementType===b?N:bs(b,N),xf(o,u),u.tag=1,yn(b)?(o=!0,Qd(u)):o=!1,Qo(u,p),w2(u,b,N),rx(u,b,N,p),ix(null,u,b,!0,o,p);case 19:return L2(o,u,p);case 22:return O2(o,u,p)}throw Error(r(156,u.tag))};function lS(o,u){return Bj(o,u)}function I6(o,u,p,b){this.tag=o,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(o,u,p,b){return new I6(o,u,p,b)}function Px(o){return o=o.prototype,!(!o||!o.isReactComponent)}function D6(o){if(typeof o=="function")return Px(o)?1:0;if(o!=null){if(o=o.$$typeof,o===_)return 11;if(o===ne)return 14}return 2}function fi(o,u){var p=o.alternate;return p===null?(p=Jn(o.tag,u,o.key,o.mode),p.elementType=o.elementType,p.type=o.type,p.stateNode=o.stateNode,p.alternate=o,o.alternate=p):(p.pendingProps=u,p.type=o.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=o.flags&14680064,p.childLanes=o.childLanes,p.lanes=o.lanes,p.child=o.child,p.memoizedProps=o.memoizedProps,p.memoizedState=o.memoizedState,p.updateQueue=o.updateQueue,u=o.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=o.sibling,p.index=o.index,p.ref=o.ref,p}function Cf(o,u,p,b,N,C){var M=2;if(b=o,typeof o=="function")Px(o)&&(M=1);else if(typeof o=="string")M=5;else e:switch(o){case O:return Ki(p.children,N,C,u);case T:M=8,N|=8;break;case R:return o=Jn(12,p,u,N|2),o.elementType=R,o.lanes=C,o;case F:return o=Jn(13,p,u,N),o.elementType=F,o.lanes=C,o;case W:return o=Jn(19,p,u,N),o.elementType=W,o.lanes=C,o;case V:return Ef(p,N,C,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:M=10;break e;case D:M=9;break e;case _:M=11;break e;case ne:M=14;break e;case Q:M=16,b=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return u=Jn(M,p,u,N),u.elementType=o,u.type=b,u.lanes=C,u}function Ki(o,u,p,b){return o=Jn(7,o,b,u),o.lanes=p,o}function Ef(o,u,p,b){return o=Jn(22,o,b,u),o.elementType=V,o.lanes=p,o.stateNode={isHidden:!1},o}function Cx(o,u,p){return o=Jn(6,o,null,u),o.lanes=p,o}function Ex(o,u,p){return u=Jn(4,o.children!==null?o.children:[],o.key,u),u.lanes=p,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function R6(o,u,p,b,N){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t0(0),this.expirationTimes=t0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t0(0),this.identifierPrefix=b,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Ax(o,u,p,b,N,C,M,K,H){return o=new R6(o,u,p,K,H),u===1?(u=1,C===!0&&(u|=8)):u=0,C=Jn(3,null,null,u),o.current=C,C.stateNode=o,C.memoizedState={element:b,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},V0(C),o}function _6(o,u,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:b==null?null:""+b,children:o,containerInfo:u,implementation:p}}function cS(o){if(!o)return ni;o=o._reactInternals;e:{if(Mi(o)!==o||o.tag!==1)throw Error(r(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(yn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(o.tag===1){var p=o.type;if(yn(p))return _N(o,p,u)}return u}function uS(o,u,p,b,N,C,M,K,H){return o=Ax(p,b,!0,o,N,C,M,K,H),o.context=cS(null),p=o.current,b=on(),N=ui(p),C=ha(b,N),C.callback=u??null,ii(p,C,N),o.current.lanes=N,lc(o,N,b),Nn(o,b),o}function Af(o,u,p,b){var N=u.current,C=on(),M=ui(N);return p=cS(p),u.context===null?u.context=p:u.pendingContext=p,u=ha(C,M),u.payload={element:o},b=b===void 0?null:b,b!==null&&(u.callback=b),o=ii(N,u,M),o!==null&&(js(o,N,M,C),af(o,N,M)),M}function zf(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function dS(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var p=o.retryLane;o.retryLane=p!==0&&p<u?p:u}}function zx(o,u){dS(o,u),(o=o.alternate)&&dS(o,u)}function L6(){return null}var fS=typeof reportError=="function"?reportError:function(o){console.error(o)};function Ox(o){this._internalRoot=o}Of.prototype.render=Ox.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));Af(o,u,null,null)},Of.prototype.unmount=Ox.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;Vi(function(){Af(null,o,null,null)}),u[ca]=null}};function Of(o){this._internalRoot=o}Of.prototype.unstable_scheduleHydration=function(o){if(o){var u=Yj();o={blockedOn:null,target:o,priority:u};for(var p=0;p<Za.length&&u!==0&&u<Za[p].priority;p++);Za.splice(p,0,o),p===0&&Zj(o)}};function Tx(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Tf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function mS(){}function $6(o,u,p,b,N){if(N){if(typeof b=="function"){var C=b;b=function(){var le=zf(M);C.call(le)}}var M=uS(u,b,o,0,null,!1,!1,"",mS);return o._reactRootContainer=M,o[ca]=M.current,jc(o.nodeType===8?o.parentNode:o),Vi(),M}for(;N=o.lastChild;)o.removeChild(N);if(typeof b=="function"){var K=b;b=function(){var le=zf(H);K.call(le)}}var H=Ax(o,0,!1,null,null,!1,!1,"",mS);return o._reactRootContainer=H,o[ca]=H.current,jc(o.nodeType===8?o.parentNode:o),Vi(function(){Af(u,H,p,b)}),H}function Mf(o,u,p,b,N){var C=p._reactRootContainer;if(C){var M=C;if(typeof N=="function"){var K=N;N=function(){var H=zf(M);K.call(H)}}Af(u,M,o,N)}else M=$6(p,u,o,N,b);return zf(M)}Hj=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var p=oc(u.pendingLanes);p!==0&&(r0(u,p|1),Nn(u,Zt()),(ot&6)===0&&(rl=Zt()+500,si()))}break;case 13:Vi(function(){var b=ma(o,1);if(b!==null){var N=on();js(b,o,1,N)}}),zx(o,1)}},n0=function(o){if(o.tag===13){var u=ma(o,134217728);if(u!==null){var p=on();js(u,o,134217728,p)}zx(o,134217728)}},Gj=function(o){if(o.tag===13){var u=ui(o),p=ma(o,u);if(p!==null){var b=on();js(p,o,u,b)}zx(o,u)}},Yj=function(){return pt},Xj=function(o,u){var p=pt;try{return pt=o,u()}finally{pt=p}},sc=function(o,u,p){switch(u){case"input":if(re(o,p),u=p.name,p.type==="radio"&&u!=null){for(p=o;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var b=p[u];if(b!==o&&b.form===o.form){var N=Yd(b);if(!N)throw Error(r(90));ee(b),re(b,N)}}}break;case"textarea":qe(o,p);break;case"select":u=p.value,u!=null&&B(o,!!p.multiple,u,!1)}},fr=Nx,qr=Vi;var F6={usingClientEntryPoint:!1,Events:[kc,Uo,Yd,Qe,Qt,Nx]},$c={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B6={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=$j(o),o===null?null:o.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||L6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{zd=If.inject(B6),_s=If}catch{}}return Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F6,Sn.createPortal=function(o,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tx(u))throw Error(r(200));return _6(o,u,null,p)},Sn.createRoot=function(o,u){if(!Tx(o))throw Error(r(299));var p=!1,b="",N=fS;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onRecoverableError!==void 0&&(N=u.onRecoverableError)),u=Ax(o,1,!1,null,null,p,!1,b,N),o[ca]=u.current,jc(o.nodeType===8?o.parentNode:o),new Ox(u)},Sn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=$j(u),o=o===null?null:o.stateNode,o},Sn.flushSync=function(o){return Vi(o)},Sn.hydrate=function(o,u,p){if(!Tf(u))throw Error(r(200));return Mf(null,o,u,!0,p)},Sn.hydrateRoot=function(o,u,p){if(!Tx(o))throw Error(r(405));var b=p!=null&&p.hydratedSources||null,N=!1,C="",M=fS;if(p!=null&&(p.unstable_strictMode===!0&&(N=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onRecoverableError!==void 0&&(M=p.onRecoverableError)),u=uS(u,null,o,1,p??null,N,!1,C,M),o[ca]=u.current,jc(o),b)for(o=0;o<b.length;o++)p=b[o],N=p._getVersion,N=N(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,N]:u.mutableSourceEagerHydrationData.push(p,N);return new Of(u)},Sn.render=function(o,u,p){if(!Tf(u))throw Error(r(200));return Mf(null,o,u,!1,p)},Sn.unmountComponentAtNode=function(o){if(!Tf(o))throw Error(r(40));return o._reactRootContainer?(Vi(function(){Mf(null,null,o,!1,function(){o._reactRootContainer=null,o[ca]=null})}),!0):!1},Sn.unstable_batchedUpdates=Nx,Sn.unstable_renderSubtreeIntoContainer=function(o,u,p,b){if(!Tf(p))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Mf(o,u,p,!1,b)},Sn.version="18.3.1-next-f1338f8080-20240426",Sn}var wS;function NA(){if(wS)return Rx.exports;wS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Rx.exports=Z6(),Rx.exports}var jS;function J6(){if(jS)return Df;jS=1;var e=NA();return Df.createRoot=e.createRoot,Df.hydrateRoot=e.hydrateRoot,Df}var eL=J6();const tL=Ms(eL);var Iy=NA();const rL=Ms(Iy);function nL(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const sL=e=>{switch(e){case"success":return oL;case"info":return cL;case"warning":return lL;case"error":return uL;default:return null}},aL=Array(12).fill(0),iL=({visible:e,className:t})=>Se.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Se.createElement("div",{className:"sonner-spinner"},aL.map((r,n)=>Se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),oL=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lL=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cL=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uL=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dL=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fL=()=>{const[e,t]=Se.useState(document.hidden);return Se.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Qv=1;class mL{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Qv++,l=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,l;const c=a.then(async f=>{if(l=["resolve",f],Se.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(pL(f)&&!f.ok){i=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,x=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,y=typeof h=="object"&&!Se.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:x,...y})}else if(f instanceof Error){i=!1;const h=typeof r.error=="function"?await r.error(f):r.error,x=typeof r.description=="function"?await r.description(f):r.description,y=typeof h=="object"&&!Se.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:x,...y})}else if(r.success!==void 0){i=!1;const h=typeof r.success=="function"?await r.success(f):r.success,x=typeof r.description=="function"?await r.description(f):r.description,y=typeof h=="object"&&!Se.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:x,...y})}}).catch(async f=>{if(l=["reject",f],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,v=typeof m=="object"&&!Se.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:h,...v})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,m)=>c.then(()=>l[0]==="reject"?m(l[1]):f(l[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Qv++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const kn=new mL,hL=(e,t)=>{const r=(t==null?void 0:t.id)||Qv++;return kn.addToast({title:e,...t,id:r}),r},pL=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",xL=hL,gL=()=>kn.toasts,vL=()=>kn.getActiveToasts(),xe=Object.assign(xL,{success:kn.success,info:kn.info,warning:kn.warning,error:kn.error,custom:kn.custom,message:kn.message,promise:kn.promise,dismiss:kn.dismiss,loading:kn.loading},{getHistory:gL,getToasts:vL});nL("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rf(e){return e.label!==void 0}const bL=3,yL="24px",wL="16px",NS=4e3,jL=356,NL=14,SL=45,kL=200;function Vs(...e){return e.filter(Boolean).join(" ")}function PL(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const CL=e=>{var t,r,n,a,i,l,c,d,f;const{invert:m,toast:h,unstyled:x,interacting:v,setHeights:y,visibleToasts:w,heights:j,index:S,toasts:P,expanded:k,removeToast:E,defaultRichColors:A,closeButton:z,style:O,cancelButtonStyle:T,actionButtonStyle:R,className:I="",descriptionClassName:D="",duration:_,position:F,gap:W,expandByDefault:ne,classNames:Q,icons:V,closeButtonAriaLabel:q="Close toast"}=e,[te,se]=Se.useState(null),[U,X]=Se.useState(null),[me,de]=Se.useState(!1),[ve,ke]=Se.useState(!1),[Ee,G]=Se.useState(!1),[L,$]=Se.useState(!1),[ue,ee]=Se.useState(!1),[Ce,ye]=Se.useState(0),[Xe,Ue]=Se.useState(0),re=Se.useRef(h.duration||_||NS),fe=Se.useRef(null),Pe=Se.useRef(null),Je=S===0,B=S+1<=w,he=h.type,Te=h.dismissible!==!1,qe=h.className||"",Be=h.descriptionClassName||"",nt=Se.useMemo(()=>j.findIndex(Qe=>Qe.toastId===h.id)||0,[j,h.id]),He=Se.useMemo(()=>{var Qe;return(Qe=h.closeButton)!=null?Qe:z},[h.closeButton,z]),bt=Se.useMemo(()=>h.duration||_||NS,[h.duration,_]),Vt=Se.useRef(0),Nt=Se.useRef(0),Kr=Se.useRef(0),J=Se.useRef(null),[Ae,$e]=F.split("-"),it=Se.useMemo(()=>j.reduce((Qe,Qt,fr)=>fr>=nt?Qe:Qe+Qt.height,0),[j,nt]),At=fL(),vn=h.invert||m,et=he==="loading";Nt.current=Se.useMemo(()=>nt*W+it,[nt,it]),Se.useEffect(()=>{re.current=bt},[bt]),Se.useEffect(()=>{de(!0)},[]),Se.useEffect(()=>{const Qe=Pe.current;if(Qe){const Qt=Qe.getBoundingClientRect().height;return Ue(Qt),y(fr=>[{toastId:h.id,height:Qt,position:h.position},...fr]),()=>y(fr=>fr.filter(qr=>qr.toastId!==h.id))}},[y,h.id]),Se.useLayoutEffect(()=>{if(!me)return;const Qe=Pe.current,Qt=Qe.style.height;Qe.style.height="auto";const fr=Qe.getBoundingClientRect().height;Qe.style.height=Qt,Ue(fr),y(qr=>qr.find(sr=>sr.toastId===h.id)?qr.map(sr=>sr.toastId===h.id?{...sr,height:fr}:sr):[{toastId:h.id,height:fr,position:h.position},...qr])},[me,h.title,h.description,y,h.id,h.jsx,h.action,h.cancel]);const ft=Se.useCallback(()=>{ke(!0),ye(Nt.current),y(Qe=>Qe.filter(Qt=>Qt.toastId!==h.id)),setTimeout(()=>{E(h)},kL)},[h,E,y,Nt]);Se.useEffect(()=>{if(h.promise&&he==="loading"||h.duration===1/0||h.type==="loading")return;let Qe;return k||v||At?(()=>{if(Kr.current<Vt.current){const qr=new Date().getTime()-Vt.current;re.current=re.current-qr}Kr.current=new Date().getTime()})():(()=>{re.current!==1/0&&(Vt.current=new Date().getTime(),Qe=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),ft()},re.current))})(),()=>clearTimeout(Qe)},[k,v,h,he,At,ft]),Se.useEffect(()=>{h.delete&&(ft(),h.onDismiss==null||h.onDismiss.call(h,h))},[ft,h.delete]);function sc(){var Qe;if(V!=null&&V.loading){var Qt;return Se.createElement("div",{className:Vs(Q==null?void 0:Q.loader,h==null||(Qt=h.classNames)==null?void 0:Qt.loader,"sonner-loader"),"data-visible":he==="loading"},V.loading)}return Se.createElement(iL,{className:Vs(Q==null?void 0:Q.loader,h==null||(Qe=h.classNames)==null?void 0:Qe.loader),visible:he==="loading"})}const Ka=h.icon||(V==null?void 0:V[he])||sL(he);var la,ac;return Se.createElement("li",{tabIndex:0,ref:Pe,className:Vs(I,qe,Q==null?void 0:Q.toast,h==null||(t=h.classNames)==null?void 0:t.toast,Q==null?void 0:Q.default,Q==null?void 0:Q[he],h==null||(r=h.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":(la=h.richColors)!=null?la:A,"data-styled":!(h.jsx||h.unstyled||x),"data-mounted":me,"data-promise":!!h.promise,"data-swiped":ue,"data-removed":ve,"data-visible":B,"data-y-position":Ae,"data-x-position":$e,"data-index":S,"data-front":Je,"data-swiping":Ee,"data-dismissible":Te,"data-type":he,"data-invert":vn,"data-swipe-out":L,"data-swipe-direction":U,"data-expanded":!!(k||ne&&me),"data-testid":h.testId,style:{"--index":S,"--toasts-before":S,"--z-index":P.length-S,"--offset":`${ve?Ce:Nt.current}px`,"--initial-height":ne?"auto":`${Xe}px`,...O,...h.style},onDragEnd:()=>{G(!1),se(null),J.current=null},onPointerDown:Qe=>{Qe.button!==2&&(et||!Te||(fe.current=new Date,ye(Nt.current),Qe.target.setPointerCapture(Qe.pointerId),Qe.target.tagName!=="BUTTON"&&(G(!0),J.current={x:Qe.clientX,y:Qe.clientY})))},onPointerUp:()=>{var Qe,Qt,fr;if(L||!Te)return;J.current=null;const qr=Number(((Qe=Pe.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qa=Number(((Qt=Pe.current)==null?void 0:Qt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),sr=new Date().getTime()-((fr=fe.current)==null?void 0:fr.getTime()),Nr=te==="x"?qr:qa,Ha=Math.abs(Nr)/sr;if(Math.abs(Nr)>=SL||Ha>.11){ye(Nt.current),h.onDismiss==null||h.onDismiss.call(h,h),X(te==="x"?qr>0?"right":"left":qa>0?"down":"up"),ft(),$(!0);return}else{var Lr,Dn;(Lr=Pe.current)==null||Lr.style.setProperty("--swipe-amount-x","0px"),(Dn=Pe.current)==null||Dn.style.setProperty("--swipe-amount-y","0px")}ee(!1),G(!1),se(null)},onPointerMove:Qe=>{var Qt,fr,qr;if(!J.current||!Te||((Qt=window.getSelection())==null?void 0:Qt.toString().length)>0)return;const sr=Qe.clientY-J.current.y,Nr=Qe.clientX-J.current.x;var Ha;const Lr=(Ha=e.swipeDirections)!=null?Ha:PL(F);!te&&(Math.abs(Nr)>1||Math.abs(sr)>1)&&se(Math.abs(Nr)>Math.abs(sr)?"x":"y");let Dn={x:0,y:0};const Ga=Hn=>1/(1.5+Math.abs(Hn)/20);if(te==="y"){if(Lr.includes("top")||Lr.includes("bottom"))if(Lr.includes("top")&&sr<0||Lr.includes("bottom")&&sr>0)Dn.y=sr;else{const Hn=sr*Ga(sr);Dn.y=Math.abs(Hn)<Math.abs(sr)?Hn:sr}}else if(te==="x"&&(Lr.includes("left")||Lr.includes("right")))if(Lr.includes("left")&&Nr<0||Lr.includes("right")&&Nr>0)Dn.x=Nr;else{const Hn=Nr*Ga(Nr);Dn.x=Math.abs(Hn)<Math.abs(Nr)?Hn:Nr}(Math.abs(Dn.x)>0||Math.abs(Dn.y)>0)&&ee(!0),(fr=Pe.current)==null||fr.style.setProperty("--swipe-amount-x",`${Dn.x}px`),(qr=Pe.current)==null||qr.style.setProperty("--swipe-amount-y",`${Dn.y}px`)}},He&&!h.jsx&&he!=="loading"?Se.createElement("button",{"aria-label":q,"data-disabled":et,"data-close-button":!0,onClick:et||!Te?()=>{}:()=>{ft(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Vs(Q==null?void 0:Q.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(ac=V==null?void 0:V.close)!=null?ac:dL):null,(he||h.icon||h.promise)&&h.icon!==null&&((V==null?void 0:V[he])!==null||h.icon)?Se.createElement("div",{"data-icon":"",className:Vs(Q==null?void 0:Q.icon,h==null||(a=h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||sc():null,h.type!=="loading"?Ka:null):null,Se.createElement("div",{"data-content":"",className:Vs(Q==null?void 0:Q.content,h==null||(i=h.classNames)==null?void 0:i.content)},Se.createElement("div",{"data-title":"",className:Vs(Q==null?void 0:Q.title,h==null||(l=h.classNames)==null?void 0:l.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?Se.createElement("div",{"data-description":"",className:Vs(D,Be,Q==null?void 0:Q.description,h==null||(c=h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),Se.isValidElement(h.cancel)?h.cancel:h.cancel&&Rf(h.cancel)?Se.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:Qe=>{Rf(h.cancel)&&Te&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Qe),ft())},className:Vs(Q==null?void 0:Q.cancelButton,h==null||(d=h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,Se.isValidElement(h.action)?h.action:h.action&&Rf(h.action)?Se.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:Qe=>{Rf(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Qe),!Qe.defaultPrevented&&ft())},className:Vs(Q==null?void 0:Q.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function SS(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function EL(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,l=i?"--mobile-offset":"--offset",c=i?wL:yL;function d(f){["top","right","bottom","left"].forEach(m=>{r[`${l}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${l}-${f}`]=c:r[`${l}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(c)}),r}const Oo=Se.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:m,mobileOffset:h,theme:x="light",richColors:v,duration:y,style:w,visibleToasts:j=bL,toastOptions:S,dir:P=SS(),gap:k=NL,icons:E,containerAriaLabel:A="Notifications"}=t,[z,O]=Se.useState([]),T=Se.useMemo(()=>n?z.filter(me=>me.toasterId===n):z.filter(me=>!me.toasterId),[z,n]),R=Se.useMemo(()=>Array.from(new Set([i].concat(T.filter(me=>me.position).map(me=>me.position)))),[T,i]),[I,D]=Se.useState([]),[_,F]=Se.useState(!1),[W,ne]=Se.useState(!1),[Q,V]=Se.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Se.useRef(null),te=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=Se.useRef(null),U=Se.useRef(!1),X=Se.useCallback(me=>{O(de=>{var ve;return(ve=de.find(ke=>ke.id===me.id))!=null&&ve.delete||kn.dismiss(me.id),de.filter(({id:ke})=>ke!==me.id)})},[]);return Se.useEffect(()=>kn.subscribe(me=>{if(me.dismiss){requestAnimationFrame(()=>{O(de=>de.map(ve=>ve.id===me.id?{...ve,delete:!0}:ve))});return}setTimeout(()=>{rL.flushSync(()=>{O(de=>{const ve=de.findIndex(ke=>ke.id===me.id);return ve!==-1?[...de.slice(0,ve),{...de[ve],...me},...de.slice(ve+1)]:[me,...de]})})})}),[z]),Se.useEffect(()=>{if(x!=="system"){V(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;const me=window.matchMedia("(prefers-color-scheme: dark)");try{me.addEventListener("change",({matches:de})=>{V(de?"dark":"light")})}catch{me.addListener(({matches:ve})=>{try{V(ve?"dark":"light")}catch(ke){console.error(ke)}})}},[x]),Se.useEffect(()=>{z.length<=1&&F(!1)},[z]),Se.useEffect(()=>{const me=de=>{var ve;if(l.every(G=>de[G]||de.code===G)){var Ee;F(!0),(Ee=q.current)==null||Ee.focus()}de.code==="Escape"&&(document.activeElement===q.current||(ve=q.current)!=null&&ve.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",me),()=>document.removeEventListener("keydown",me)},[l]),Se.useEffect(()=>{if(q.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,U.current=!1)}},[q.current]),Se.createElement("section",{ref:r,"aria-label":`${A} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((me,de)=>{var ve;const[ke,Ee]=me.split("-");return T.length?Se.createElement("ol",{key:me,dir:P==="auto"?SS():P,tabIndex:-1,ref:q,className:f,"data-sonner-toaster":!0,"data-sonner-theme":Q,"data-y-position":ke,"data-x-position":Ee,style:{"--front-toast-height":`${((ve=I[0])==null?void 0:ve.height)||0}px`,"--width":`${jL}px`,"--gap":`${k}px`,...w,...EL(m,h)},onBlur:G=>{U.current&&!G.currentTarget.contains(G.relatedTarget)&&(U.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||U.current||(U.current=!0,se.current=G.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{W||F(!1)},onDragEnd:()=>F(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},T.filter(G=>!G.position&&de===0||G.position===me).map((G,L)=>{var $,ue;return Se.createElement(CL,{key:G.id,icons:E,index:L,toast:G,defaultRichColors:v,duration:($=S==null?void 0:S.duration)!=null?$:y,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:a,visibleToasts:j,closeButton:(ue=S==null?void 0:S.closeButton)!=null?ue:d,interacting:W,position:me,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:X,toasts:T.filter(ee=>ee.position==G.position),heights:I.filter(ee=>ee.position==G.position),setHeights:D,expandByDefault:c,gap:k,expanded:_,swipeDirections:t.swipeDirections})})):null}))});/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kS="popstate";function AL(e={}){function t(n,a){let{pathname:i,search:l,hash:c}=n.location;return Zv("",{pathname:i,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:pu(a)}return OL(t,r,null,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ds(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zL(){return Math.random().toString(36).substring(2,10)}function PS(e,t){return{usr:e.state,key:e.key,idx:t}}function Zv(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Rl(t):t,state:r,key:t&&t.key||n||zL()}}function pu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Rl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function OL(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,c="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function h(){c="POP";let j=m(),S=j==null?null:j-f;f=j,d&&d({action:c,location:w.location,delta:S})}function x(j,S){c="PUSH";let P=Zv(w.location,j,S);f=m()+1;let k=PS(P,f),E=w.createHref(P);try{l.pushState(k,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(E)}i&&d&&d({action:c,location:w.location,delta:1})}function v(j,S){c="REPLACE";let P=Zv(w.location,j,S);f=m();let k=PS(P,f),E=w.createHref(P);l.replaceState(k,"",E),i&&d&&d({action:c,location:w.location,delta:0})}function y(j){return TL(j)}let w={get action(){return c},get location(){return e(a,l)},listen(j){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(kS,h),d=j,()=>{a.removeEventListener(kS,h),d=null}},createHref(j){return t(a,j)},createURL:y,encodeLocation(j){let S=y(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:v,go(j){return l.go(j)}};return w}function TL(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),$t(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:pu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function SA(e,t,r="/"){return ML(e,t,r,!1)}function ML(e,t,r,n){let a=typeof t=="string"?Rl(t):t,i=Pa(a.pathname||"/",r);if(i==null)return null;let l=kA(e);IL(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=KL(i);c=UL(l[d],f,n)}return c}function kA(e,t=[],r=[],n="",a=!1){let i=(l,c,d=a,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&d)return;$t(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let h=ja([n,m.relativePath]),x=r.concat(m);l.children&&l.children.length>0&&($t(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),kA(l.children,t,x,h,d)),!(l.path==null&&!l.index)&&t.push({path:h,score:BL(h,l.index),routesMeta:x})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,c);else for(let f of PA(l.path))i(l,c,!0,f)}),t}function PA(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=PA(n.join("/")),c=[];return c.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function IL(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:VL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var DL=/^:[\w-]+$/,RL=3,_L=2,LL=1,$L=10,FL=-2,CS=e=>e==="*";function BL(e,t){let r=e.split("/"),n=r.length;return r.some(CS)&&(n+=FL),t&&(n+=_L),r.filter(a=>!CS(a)).reduce((a,i)=>a+(DL.test(i)?RL:i===""?LL:$L),n)}function VL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function UL(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",h=zm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),x=d.route;if(!h&&f&&r&&!n[n.length-1].route.index&&(h=zm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!h)return null;Object.assign(a,h.params),l.push({params:a,pathname:ja([i,h.pathname]),pathnameBase:YL(ja([i,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(i=ja([i,h.pathnameBase]))}return l}function zm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=WL(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:h},x)=>{if(m==="*"){let y=c[x]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=c[x];return h&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function WL(e,t=!1,r=!0){ds(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function KL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ds(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var CA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qL=e=>CA.test(e);function HL(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Rl(e):e,i;if(r)if(qL(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),ds(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${r}`)}r.startsWith("/")?i=ES(r.substring(1),"/"):i=ES(r,t)}else i=t;return{pathname:i,search:XL(n),hash:QL(a)}}function ES(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function $x(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function GL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dy(e){let t=GL(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Ry(e,t,r,n=!1){let a;typeof e=="string"?a=Rl(e):(a={...e},$t(!a.pathname||!a.pathname.includes("?"),$x("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),$x("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),$x("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,c;if(l==null)c=r;else{let h=t.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),h-=1;a.pathname=x.join("/")}c=h>=0?t[h]:"/"}let d=HL(a,c),f=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var ja=e=>e.join("/").replace(/\/\/+/g,"/"),YL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,QL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ZL=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function JL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function e8(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var EA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function AA(e,t){let r=e;if(typeof r!="string"||!CA.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(EA)try{let i=new URL(window.location.href),l=r.startsWith("//")?new URL(i.protocol+r):new URL(r),c=Pa(l.pathname,t);l.origin===i.origin&&c!=null?r=c+l.search+l.hash:a=!0}catch{ds(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zA=["POST","PUT","PATCH","DELETE"];new Set(zA);var t8=["GET",...zA];new Set(t8);var _l=g.createContext(null);_l.displayName="DataRouter";var Rh=g.createContext(null);Rh.displayName="DataRouterState";var r8=g.createContext(!1),OA=g.createContext({isTransitioning:!1});OA.displayName="ViewTransition";var n8=g.createContext(new Map);n8.displayName="Fetchers";var s8=g.createContext(null);s8.displayName="Await";var qn=g.createContext(null);qn.displayName="Navigation";var Uu=g.createContext(null);Uu.displayName="Location";var Is=g.createContext({outlet:null,matches:[],isDataRoute:!1});Is.displayName="Route";var _y=g.createContext(null);_y.displayName="RouteError";var TA="REACT_ROUTER_ERROR",a8="REDIRECT",i8="ROUTE_ERROR_RESPONSE";function o8(e){if(e.startsWith(`${TA}:${a8}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function l8(e){if(e.startsWith(`${TA}:${i8}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new ZL(t.status,t.statusText,t.data)}catch{}}function c8(e,{relative:t}={}){$t(Ll(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=g.useContext(qn),{hash:a,pathname:i,search:l}=Wu(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:ja([r,i])),n.createHref({pathname:c,search:l,hash:a})}function Ll(){return g.useContext(Uu)!=null}function Mn(){return $t(Ll(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Uu).location}var MA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IA(e){g.useContext(qn).static||g.useLayoutEffect(e)}function sa(){let{isDataRoute:e}=g.useContext(Is);return e?S8():u8()}function u8(){$t(Ll(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(_l),{basename:t,navigator:r}=g.useContext(qn),{matches:n}=g.useContext(Is),{pathname:a}=Mn(),i=JSON.stringify(Dy(n)),l=g.useRef(!1);return IA(()=>{l.current=!0}),g.useCallback((d,f={})=>{if(ds(l.current,MA),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=Ry(d,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ja([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,i,a,e])}var d8=g.createContext(null);function f8(e){let t=g.useContext(Is).outlet;return g.useMemo(()=>t&&g.createElement(d8.Provider,{value:e},t),[t,e])}function Wu(e,{relative:t}={}){let{matches:r}=g.useContext(Is),{pathname:n}=Mn(),a=JSON.stringify(Dy(r));return g.useMemo(()=>Ry(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function m8(e,t){return DA(e,t)}function DA(e,t,r,n,a){var P;$t(Ll(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=g.useContext(qn),{matches:l}=g.useContext(Is),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let k=h&&h.path||"";_A(f,!h||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=Mn(),v;if(t){let k=typeof t=="string"?Rl(t):t;$t(m==="/"||((P=k.pathname)==null?void 0:P.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=x;let y=v.pathname||"/",w=y;if(m!=="/"){let k=m.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let j=SA(e,{pathname:w});ds(h||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ds(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=v8(j&&j.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:ja([m,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:ja([m,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,r,n,a);return t&&S?g.createElement(Uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function h8(){let e=N8(),t=JL(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:i},"ErrorBoundary")," or"," ",g.createElement("code",{style:i},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:a},r):null,l)}var p8=g.createElement(h8,null),RA=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=l8(e.digest);r&&(e=r)}let t=e!==void 0?g.createElement(Is.Provider,{value:this.props.routeContext},g.createElement(_y.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?g.createElement(x8,{error:e},t):t}};RA.contextType=r8;var Fx=new WeakMap;function x8({children:e,error:t}){let{basename:r}=g.useContext(qn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=o8(t.digest);if(n){let a=Fx.get(t);if(a)throw a;let i=AA(n.location,r);if(EA&&!Fx.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw Fx.set(t,l),l}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function g8({routeContext:e,match:t,children:r}){let n=g.useContext(_l);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Is.Provider,{value:e},r)}function v8(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=r==null?void 0:r.errors;if(l!=null){let m=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);$t(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(r)for(let m=0;m<i.length;m++){let h=i[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:x,errors:v}=r,y=h.route.loader&&!x.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let f=r&&n?(m,h)=>{var x,v;n(m,{location:r.location,params:((v=(x=r.matches)==null?void 0:x[0])==null?void 0:v.params)??{},unstable_pattern:e8(r.matches),errorInfo:h})}:void 0;return i.reduceRight((m,h,x)=>{let v,y=!1,w=null,j=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||p8,c&&(d<0&&x===0?(_A("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):d===x&&(y=!0,j=h.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,x+1)),P=()=>{let k;return v?k=w:y?k=j:h.route.Component?k=g.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=m,g.createElement(g8,{match:h,routeContext:{outlet:m,matches:S,isDataRoute:r!=null},children:k})};return r&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?g.createElement(RA,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):P()},null)}function Ly(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b8(e){let t=g.useContext(_l);return $t(t,Ly(e)),t}function y8(e){let t=g.useContext(Rh);return $t(t,Ly(e)),t}function w8(e){let t=g.useContext(Is);return $t(t,Ly(e)),t}function $y(e){let t=w8(e),r=t.matches[t.matches.length-1];return $t(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function j8(){return $y("useRouteId")}function N8(){var n;let e=g.useContext(_y),t=y8("useRouteError"),r=$y("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function S8(){let{router:e}=b8("useNavigate"),t=$y("useNavigate"),r=g.useRef(!1);return IA(()=>{r.current=!0}),g.useCallback(async(a,i={})=>{ds(r.current,MA),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var AS={};function _A(e,t,r){!t&&!AS[e]&&(AS[e]=!0,ds(!1,r))}g.memo(k8);function k8({routes:e,future:t,state:r,onError:n}){return DA(e,void 0,r,n,t)}function xu({to:e,replace:t,state:r,relative:n}){$t(Ll(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=g.useContext(qn);ds(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=g.useContext(Is),{pathname:l}=Mn(),c=sa(),d=Ry(e,Dy(i),l,n==="path"),f=JSON.stringify(d);return g.useEffect(()=>{c(JSON.parse(f),{replace:t,state:r,relative:n})},[c,f,n,t,r]),null}function Fy(e){return f8(e.context)}function wt(e){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P8({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:l}){$t(!Ll(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:a,static:i,unstable_useTransitions:l,future:{}}),[c,a,i,l]);typeof r=="string"&&(r=Rl(r));let{pathname:f="/",search:m="",hash:h="",state:x=null,key:v="default"}=r,y=g.useMemo(()=>{let w=Pa(f,c);return w==null?null:{location:{pathname:w,search:m,hash:h,state:x,key:v},navigationType:n}},[c,f,m,h,x,v,n]);return ds(y!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(qn.Provider,{value:d},g.createElement(Uu.Provider,{children:t,value:y}))}function C8({children:e,location:t}){return m8(Jv(e),t)}function Jv(e,t=[]){let r=[];return g.Children.forEach(e,(n,a)=>{if(!g.isValidElement(n))return;let i=[...t,a];if(n.type===g.Fragment){r.push.apply(r,Jv(n.props.children,i));return}$t(n.type===wt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Jv(n.props.children,i)),r.push(l)}),r}var fm="get",mm="application/x-www-form-urlencoded";function _h(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function E8(e){return _h(e)&&e.tagName.toLowerCase()==="button"}function A8(e){return _h(e)&&e.tagName.toLowerCase()==="form"}function z8(e){return _h(e)&&e.tagName.toLowerCase()==="input"}function O8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T8(e,t){return e.button===0&&(!t||t==="_self")&&!O8(e)}var _f=null;function M8(){if(_f===null)try{new FormData(document.createElement("form"),0),_f=!1}catch{_f=!0}return _f}var I8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bx(e){return e!=null&&!I8.has(e)?(ds(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mm}"`),null):e}function D8(e,t){let r,n,a,i,l;if(A8(e)){let c=e.getAttribute("action");n=c?Pa(c,t):null,r=e.getAttribute("method")||fm,a=Bx(e.getAttribute("enctype"))||mm,i=new FormData(e)}else if(E8(e)||z8(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?Pa(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||fm,a=Bx(e.getAttribute("formenctype"))||Bx(c.getAttribute("enctype"))||mm,i=new FormData(c,e),!M8()){let{name:f,type:m,value:h}=e;if(m==="image"){let x=f?`${f}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else f&&i.append(f,h)}}else{if(_h(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=fm,n=null,a=mm,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function By(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function R8(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Pa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function _8(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function L8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $8(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await _8(i,r);return l.links?l.links():[]}return[]}));return U8(n.flat(1).filter(L8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function zS(e,t,r,n,a,i){let l=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,c=(d,f)=>{var m;return r[f].pathname!==d.pathname||((m=r[f].route.path)==null?void 0:m.endsWith("*"))&&r[f].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,f)=>l(d,f)||c(d,f)):i==="data"?t.filter((d,f)=>{var h;let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function F8(e,t,{includeHydrateFallback:r}={}){return B8(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function B8(e){return[...new Set(e)]}function V8(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function U8(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(V8(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function LA(){let e=g.useContext(_l);return By(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function W8(){let e=g.useContext(Rh);return By(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Vy=g.createContext(void 0);Vy.displayName="FrameworkContext";function $A(){let e=g.useContext(Vy);return By(e,"You must render this element inside a <HydratedRouter> element"),e}function K8(e,t){let r=g.useContext(Vy),[n,a]=g.useState(!1),[i,l]=g.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:h}=t,x=g.useRef(null);g.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=S=>{S.forEach(P=>{l(P.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[e]),g.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{a(!0)},y=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,x,{}]:[i,x,{onFocus:Bc(c,v),onBlur:Bc(d,y),onMouseEnter:Bc(f,v),onMouseLeave:Bc(m,y),onTouchStart:Bc(h,v)}]:[!1,x,{}]}function Bc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function q8({page:e,...t}){let{router:r}=LA(),n=g.useMemo(()=>SA(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?g.createElement(G8,{page:e,matches:n,...t}):null}function H8(e){let{manifest:t,routeModules:r}=$A(),[n,a]=g.useState([]);return g.useEffect(()=>{let i=!1;return $8(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function G8({page:e,matches:t,...r}){let n=Mn(),{manifest:a,routeModules:i}=$A(),{basename:l}=LA(),{loaderData:c,matches:d}=W8(),f=g.useMemo(()=>zS(e,t,d,a,n,"data"),[e,t,d,a,n]),m=g.useMemo(()=>zS(e,t,d,a,n,"assets"),[e,t,d,a,n]),h=g.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,w=!1;if(t.forEach(S=>{var k;let P=a.routes[S.route.id];!P||!P.hasLoader||(!f.some(E=>E.route.id===S.route.id)&&S.route.id in c&&((k=i[S.route.id])!=null&&k.shouldRevalidate)||P.hasClientLoader?w=!0:y.add(S.route.id))}),y.size===0)return[];let j=R8(e,l,"data");return w&&y.size>0&&j.searchParams.set("_routes",t.filter(S=>y.has(S.route.id)).map(S=>S.route.id).join(",")),[j.pathname+j.search]},[l,c,n,a,f,t,e,i]),x=g.useMemo(()=>F8(m,a),[m,a]),v=H8(m);return g.createElement(g.Fragment,null,h.map(y=>g.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),x.map(y=>g.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:w})=>g.createElement("link",{key:y,nonce:r.nonce,...w})))}function Y8(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var X8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{X8&&(window.__reactRouterVersion="7.11.0")}catch{}function Q8({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=g.useRef();a.current==null&&(a.current=AL({window:n,v5Compat:!0}));let i=a.current,[l,c]=g.useState({action:i.action,location:i.location}),d=g.useCallback(f=>{r===!1?c(f):g.startTransition(()=>c(f))},[r]);return g.useLayoutEffect(()=>i.listen(d),[i,d]),g.createElement(P8,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:r})}var FA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uy=g.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:c,target:d,to:f,preventScrollReset:m,viewTransition:h,unstable_defaultShouldRevalidate:x,...v},y){let{basename:w,unstable_useTransitions:j}=g.useContext(qn),S=typeof f=="string"&&FA.test(f),P=AA(f,w);f=P.to;let k=c8(f,{relative:a}),[E,A,z]=K8(n,v),O=t$(f,{replace:l,state:c,target:d,preventScrollReset:m,relative:a,viewTransition:h,unstable_defaultShouldRevalidate:x,unstable_useTransitions:j});function T(I){t&&t(I),I.defaultPrevented||O(I)}let R=g.createElement("a",{...v,...z,href:P.absoluteURL||k,onClick:P.isExternal||i?t:T,ref:Y8(y,A),target:d,"data-discover":!S&&r==="render"?"true":void 0});return E&&!S?g.createElement(g.Fragment,null,R,g.createElement(q8,{page:k})):R});Uy.displayName="Link";var Z8=g.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:c,children:d,...f},m){let h=Wu(l,{relative:f.relative}),x=Mn(),v=g.useContext(Rh),{navigator:y,basename:w}=g.useContext(qn),j=v!=null&&i$(h)&&c===!0,S=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,P=x.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(P=P.toLowerCase(),k=k?k.toLowerCase():null,S=S.toLowerCase()),k&&w&&(k=Pa(k,w)||k);const E=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let A=P===S||!a&&P.startsWith(S)&&P.charAt(E)==="/",z=k!=null&&(k===S||!a&&k.startsWith(S)&&k.charAt(S.length)==="/"),O={isActive:A,isPending:z,isTransitioning:j},T=A?t:void 0,R;typeof n=="function"?R=n(O):R=[n,A?"active":null,z?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(O):i;return g.createElement(Uy,{...f,"aria-current":T,className:R,ref:m,style:I,to:l,viewTransition:c},typeof d=="function"?d(O):d)});Z8.displayName="NavLink";var J8=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=fm,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:h,unstable_defaultShouldRevalidate:x,...v},y)=>{let{unstable_useTransitions:w}=g.useContext(qn),j=s$(),S=a$(c,{relative:f}),P=l.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&FA.test(c),E=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let z=A.nativeEvent.submitter,O=(z==null?void 0:z.getAttribute("formmethod"))||l,T=()=>j(z||A.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:a,state:i,relative:f,preventScrollReset:m,viewTransition:h,unstable_defaultShouldRevalidate:x});w&&r!==!1?g.startTransition(()=>T()):T()};return g.createElement("form",{ref:y,method:P,action:S,onSubmit:n?d:E,...v,"data-discover":!k&&e==="render"?"true":void 0})});J8.displayName="Form";function e$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BA(e){let t=g.useContext(_l);return $t(t,e$(e)),t}function t$(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let f=sa(),m=Mn(),h=Wu(e,{relative:i});return g.useCallback(x=>{if(T8(x,t)){x.preventDefault();let v=r!==void 0?r:pu(m)===pu(h),y=()=>f(e,{replace:v,state:n,preventScrollReset:a,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:c});d?g.startTransition(()=>y()):y()}},[m,f,h,r,n,t,e,a,i,l,c,d])}var r$=0,n$=()=>`__${String(++r$)}__`;function s$(){let{router:e}=BA("useSubmit"),{basename:t}=g.useContext(qn),r=j8(),n=e.fetch,a=e.navigate;return g.useCallback(async(i,l={})=>{let{action:c,method:d,encType:f,formData:m,body:h}=D8(i,t);if(l.navigate===!1){let x=l.fetcherKey||n$();await n(x,r,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await a(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:h,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,t,r])}function a$(e,{relative:t}={}){let{basename:r}=g.useContext(qn),n=g.useContext(Is);$t(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Wu(e||".",{relative:t})},l=Mn();if(e==null){i.search=l.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(h=>h).forEach(h=>c.append("index",h));let m=c.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ja([r,i.pathname])),pu(i)}function i$(e,{relative:t}={}){let r=g.useContext(OA);$t(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=BA("useViewTransitionState"),a=Wu(e,{relative:t});if(!r.isTransitioning)return!1;let i=Pa(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Pa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return zm(a.pathname,l)!=null||zm(a.pathname,i)!=null}const OS=e=>{let t;const r=new Set,n=(f,m)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const x=t;t=m??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(v=>v(t,x))}},a=()=>t,c={setState:n,getState:a,getInitialState:()=>d,subscribe:f=>(r.add(f),()=>r.delete(f))},d=t=e(n,a,c);return c},o$=(e=>e?OS(e):OS),l$=e=>e;function c$(e,t=l$){const r=Se.useSyncExternalStore(e.subscribe,Se.useCallback(()=>t(e.getState()),[e,t]),Se.useCallback(()=>t(e.getInitialState()),[e,t]));return Se.useDebugValue(r),r}const u$=e=>{const t=o$(e),r=n=>c$(t,n);return Object.assign(r,t),r},d$=(e=>u$);function f$(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const l=d=>d===null?null:JSON.parse(d,void 0),c=(i=r.getItem(a))!=null?i:null;return c instanceof Promise?c.then(l):l(c)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const eb=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return eb(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return eb(n)(r)}}}},m$=(e,t)=>(r,n,a)=>{let i={storage:f$(()=>localStorage),partialize:w=>w,version:0,merge:(w,j)=>({...j,...w}),...t},l=!1;const c=new Set,d=new Set;let f=i.storage;if(!f)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...w)},n,a);const m=()=>{const w=i.partialize({...n()});return f.setItem(i.name,{state:w,version:i.version})},h=a.setState;a.setState=(w,j)=>(h(w,j),m());const x=e((...w)=>(r(...w),m()),n,a);a.getInitialState=()=>x;let v;const y=()=>{var w,j;if(!f)return;l=!1,c.forEach(P=>{var k;return P((k=n())!=null?k:x)});const S=((j=i.onRehydrateStorage)==null?void 0:j.call(i,(w=n())!=null?w:x))||void 0;return eb(f.getItem.bind(f))(i.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==i.version){if(i.migrate){const k=i.migrate(P.state,P.version);return k instanceof Promise?k.then(E=>[!0,E]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var k;const[E,A]=P;if(v=i.merge(A,(k=n())!=null?k:x),r(v,!0),E)return m()}).then(()=>{S==null||S(v,void 0),v=n(),l=!0,d.forEach(P=>P(v))}).catch(P=>{S==null||S(void 0,P)})};return a.persist={setOptions:w=>{i={...i,...w},w.storage&&(f=w.storage)},clearStorage:()=>{f==null||f.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>l,onHydrate:w=>(c.add(w),()=>{c.delete(w)}),onFinishHydration:w=>(d.add(w),()=>{d.delete(w)})},i.skipHydration||y(),v||x},h$=m$,p$=e=>{try{let t="";switch(e){case"success":t="/sounds/success.mp3";break;case"error":t="/sounds/error.mp3";break;case"info":t="/sounds/info.mp3";break;case"warning":t="/sounds/warning.mp3";break}if(t){const r=new Audio(t);r.volume=.5,r.play().catch(n=>console.error("Sound playback failed:",n))}}catch(t){console.error("Failed to initialize sound:",t)}},Na=(e,t,r={})=>{const{description:n,action:a,secondaryAction:i,persistent:l=!1,sound:c=!0}=r;c&&p$(e);const d={description:n,duration:l?1/0:e==="error"?6e3:4e3};switch(a&&(d.action={label:a.label,onClick:a.onClick}),i&&(d.cancel={label:i.label,onClick:i.onClick}),e){case"success":return xe.success(t,d);case"error":return xe.error(t,d);case"warning":return xe.warning(t,d);case"info":default:return xe.info(t,d)}},VA=(e,t)=>Na("success",e,t),tb=(e,t)=>Na("error",e,{...t,persistent:(t==null?void 0:t.persistent)??!0}),x$=(e,t)=>Na("info",e,t),g$=(e,t)=>Na("warning",e,t),TS=(e,t,r)=>x$(`${e} added to cart`,{description:`KES ${t.toLocaleString()}`,action:{label:"Undo",onClick:r}}),v$=(e,t,r,n)=>VA("Transaction Successful!",{description:`Receipt #${e} - KES ${t.toLocaleString()}`,action:{label:"Print Receipt",onClick:r},secondaryAction:{label:"New Sale",onClick:n}}),Ku=(e,t)=>tb(e,{description:t||"Please try again or contact support",persistent:!0}),rt=d$()(h$(e=>({branchName:"Kiserian Branch",branchId:null,userRole:"MANAGER",userName:"Josea",userId:null,token:null,isAuthenticated:!1,cart:[],isDrawerOpen:!1,isSidebarOpen:!0,setBranch:(t,r)=>{e({branchName:t,branchId:r||null})},setUser:(t,r,n)=>{e({userName:t,userRole:r,userId:n||null})},setAuth:t=>{e({token:t,isAuthenticated:!0})},logout:()=>{e({token:null,isAuthenticated:!1,userName:"",userId:null,branchName:"",branchId:null,cart:[]})},addToCart:t=>{e(r=>{const n=r.cart.find(a=>a.productId===t.productId);return n?n.quantity<n.stock?(TS(t.name,t.price,()=>{e(i=>({cart:i.cart.map(l=>l.productId===t.productId?{...l,quantity:l.quantity-1}:l).filter(l=>l.quantity>0)}))}),{cart:r.cart.map(i=>i.productId===t.productId?{...i,quantity:Math.min(i.quantity+1,i.stock)}:i)}):(g$("Maximum stock reached",{description:`Only ${n.stock} available`}),{cart:r.cart}):(TS(t.name,t.price,()=>{e(a=>({cart:a.cart.filter(i=>i.productId!==t.productId)}))}),{cart:[...r.cart,{...t,quantity:1}]})})},updateCartItemQuantity:(t,r)=>{e(n=>({cart:n.cart.map(a=>a.productId===t?{...a,quantity:Math.min(Math.max(r,0),a.stock)}:a).filter(a=>a.quantity>0)}))},removeFromCart:t=>{e(r=>({cart:r.cart.filter(n=>n.productId!==t)}))},clearCart:()=>{e({cart:[]})},toggleDrawer:()=>{e(t=>({isDrawerOpen:!t.isDrawerOpen}))},setDrawerOpen:t=>{e({isDrawerOpen:t})},setSidebarOpen:t=>{e({isSidebarOpen:t})}}),{name:"pram-dashboard-storage",partialize:e=>({branchName:e.branchName,branchId:e.branchId,userName:e.userName,userRole:e.userRole,token:e.token,isAuthenticated:e.isAuthenticated,cart:e.cart})})),UA=()=>rt(e=>e.cart.reduce((t,r)=>t+r.price*r.quantity,0));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...c},d)=>g.createElement("svg",{ref:d,...y$,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:WA("lucide",a),...c},[...l.map(([f,m])=>g.createElement(f,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const r=g.forwardRef(({className:n,...a},i)=>g.createElement(w$,{ref:i,iconNode:t,className:WA(`lucide-${b$(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=pe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=pe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=pe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=pe("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=pe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=pe("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=pe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=pe("CarFront",[["path",{d:"m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8",key:"1imjwt"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 14h.01",key:"7oqj8z"}],["rect",{width:"18",height:"8",x:"3",y:"10",rx:"2",key:"a7itu8"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=pe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=pe("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=pe("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=pe("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=pe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=pe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=pe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=pe("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=pe("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=pe("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=pe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=pe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=pe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=pe("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=pe("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=pe("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=pe("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=pe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=pe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=pe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=pe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=pe("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=pe("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=pe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=pe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=pe("PackageSearch",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=pe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=pe("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=pe("PanelLeftOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=pe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=pe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=pe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=pe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=pe("ReceiptText",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=pe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=pe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=pe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=pe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=pe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=pe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=pe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=pe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=pe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=pe("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=pe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=pe("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),K$=[{label:"Josea POS",path:"/pos",icon:Os,branded:!0},{label:"Sales",path:"/sales",icon:hn},{label:"My Stock",path:"/inventory",icon:ct},{label:"Customers",path:"/customers",icon:Un},{label:"Restock",path:"/restock",icon:YA},{label:"Debts",path:"/debts",icon:Or},{label:"Dashboard",path:"/",icon:$h}];function q$(){const e=sa(),t=Mn(),r=rt(i=>i.setSidebarOpen),n=rt(i=>i.logout),a=()=>{r(!0),n(),e("/login")};return s.jsx("aside",{className:"fixed top-0 left-0 h-screen bg-[var(--color-sidebar)] border-r border-slate-800 z-50",style:{width:"var(--sidebar-width)"},children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"h-16 flex items-center justify-between border-b border-slate-800 px-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx("div",{className:"w-9 h-9 bg-[var(--color-accent)] rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Os,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h1",{className:"text-white font-bold text-base leading-tight truncate",children:"Pram Auto"}),s.jsx("p",{className:"text-[10px] text-slate-400 leading-tight truncate",children:"Manager Portal"})]})]}),s.jsx("button",{onClick:()=>r(!1),className:"p-2 rounded-lg hover:bg-red-500/20 transition-colors text-red-500 hover:text-red-400 flex-shrink-0 ml-2",title:"Collapse Sidebar","aria-label":"Close sidebar",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-6 px-4",children:s.jsx("ul",{className:"space-y-2",children:K$.map(i=>{const l=i.icon,c=t.pathname===i.path;return s.jsx("li",{children:s.jsxs(Uy,{to:i.path,onClick:()=>{i.path==="/sales"||i.path==="/pos"?r(!1):r(!0)},className:`
                      flex items-center gap-3 px-4 py-3 rounded-lg
                      transition-all duration-200
                      ${c?"bg-[var(--color-accent)] text-white shadow-lg":"text-slate-300 hover:bg-slate-800 hover:text-white"}
                    `,children:[s.jsx(l,{size:20}),i.branded?s.jsxs("span",{className:"font-medium",children:[s.jsx("span",{className:"text-purple-300 font-bold italic drop-shadow-[0_0_8px_rgba(168,85,247,0.5)]",children:"Josea"}),s.jsx("span",{children:" POS"})]}):s.jsx("span",{className:"font-medium",children:i.label})]})},i.path)})})}),s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("button",{onClick:a,className:`\r
              w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg\r
              bg-red-500/10 border border-red-500/20 text-red-400\r
              hover:bg-red-500/20 hover:border-red-500/30 hover:text-red-300\r
              transition-all duration-200 font-medium\r
            `,children:[s.jsx(sb,{size:20}),s.jsx("span",{children:"Sign Out"})]})}),s.jsxs("div",{className:"p-4 border-t border-slate-800",children:[s.jsxs("p",{className:"text-xs text-slate-500 text-center mb-3",children:["v1.0.0  ",new Date().getFullYear()]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-slate-800/50",children:s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-blue-500 to-cyan-500 text-transparent bg-clip-text text-center",children:[s.jsx("p",{className:"text-[10px] font-semibold tracking-wide",children:"POWERED BY"}),s.jsx("p",{className:"text-xs font-bold mt-0.5",children:"Josea Software Solutions"})]})})]})]})})}const Zy=g.createContext({});function Yu(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Jy=typeof window<"u",ew=Jy?g.useLayoutEffect:g.useEffect,Bh=g.createContext(null);function tw(e,t){e.indexOf(t)===-1&&e.push(t)}function Vh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ea=(e,t,r)=>r>t?t:r<e?e:r;let rw=()=>{};const Aa={},oz=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lz(e){return typeof e=="object"&&e!==null}const cz=e=>/^0[^.\s]+$/u.test(e);function nw(e){let t;return()=>(t===void 0&&(t=e()),t)}const cs=e=>e,H$=(e,t)=>r=>t(e(r)),Xu=(...e)=>e.reduce(H$),Cl=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class sw{constructor(){this.subscriptions=[]}add(t){return tw(this.subscriptions,t),()=>Vh(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const l=this.subscriptions[i];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const As=e=>e*1e3,as=e=>e/1e3;function uz(e,t){return t?e*(1e3/t):0}const G$=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},dz=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Y$=1e-7,X$=12;function Q$(e,t,r,n,a){let i,l,c=0;do l=t+(r-t)/2,i=dz(l,n,a)-e,i>0?r=l:t=l;while(Math.abs(i)>Y$&&++c<X$);return l}function Qu(e,t,r,n){if(e===t&&r===n)return cs;const a=i=>Q$(i,0,1,e,r);return i=>i===0||i===1?i:dz(a(i),t,n)}const fz=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mz=e=>t=>1-e(1-t),hz=Qu(.33,1.53,.69,.99),aw=mz(hz),pz=fz(aw),xz=e=>(e*=2)<1?.5*aw(e):.5*(2-Math.pow(2,-10*(e-1))),iw=e=>1-Math.sin(Math.acos(e)),gz=mz(iw),vz=fz(iw),Z$=Qu(.42,0,1,1),J$=Qu(0,0,.58,1),bz=Qu(.42,0,.58,1),yz=e=>Array.isArray(e)&&typeof e[0]!="number";function wz(e,t){return yz(e)?e[G$(0,e.length,t)]:e}const jz=e=>Array.isArray(e)&&typeof e[0]=="number",e9={linear:cs,easeIn:Z$,easeInOut:bz,easeOut:J$,circIn:iw,circInOut:vz,circOut:gz,backIn:aw,backInOut:pz,backOut:hz,anticipate:xz},t9=e=>typeof e=="string",LS=e=>{if(jz(e)){rw(e.length===4);const[t,r,n,a]=e;return Qu(t,r,n,a)}else if(t9(e))return e9[e];return e},Lf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function r9(e,t){let r=new Set,n=new Set,a=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(f.schedule(m),e()),m(c)}const f={schedule:(m,h=!1,x=!1)=>{const y=x&&a?r:n;return h&&l.add(m),y.has(m)||y.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(c=m,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(d),r.clear(),a=!1,i&&(i=!1,f.process(m))}};return f}const n9=40;function Nz(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,l=Lf.reduce((k,E)=>(k[E]=r9(i),k),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:m,update:h,preRender:x,render:v,postRender:y}=l,w=()=>{const k=Aa.useManualTiming?a.timestamp:performance.now();r=!1,Aa.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(k-a.timestamp,n9),1)),a.timestamp=k,a.isProcessing=!0,c.process(a),d.process(a),f.process(a),m.process(a),h.process(a),x.process(a),v.process(a),y.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(w))},j=()=>{r=!0,n=!0,a.isProcessing||e(w)};return{schedule:Lf.reduce((k,E)=>{const A=l[E];return k[E]=(z,O=!1,T=!1)=>(r||j(),A.schedule(z,O,T)),k},{}),cancel:k=>{for(let E=0;E<Lf.length;E++)l[Lf[E]].cancel(k)},state:a,steps:l}}const{schedule:Mt,cancel:za,state:Vr,steps:Wx}=Nz(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let pm;function s9(){pm=void 0}const En={now:()=>(pm===void 0&&En.set(Vr.isProcessing||Aa.useManualTiming?Vr.timestamp:performance.now()),pm),set:e=>{pm=e,queueMicrotask(s9)}},Sz=e=>t=>typeof t=="string"&&t.startsWith(e),kz=Sz("--"),a9=Sz("var(--"),ow=e=>a9(e)?i9.test(e.split("/*")[0].trim()):!1,i9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},yu={...Fl,transform:e=>Ea(0,1,e)},$f={...Fl,default:1},cu=e=>Math.round(e*1e5)/1e5,lw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function o9(e){return e==null}const l9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cw=(e,t)=>r=>!!(typeof r=="string"&&l9.test(r)&&r.startsWith(e)||t&&!o9(r)&&Object.prototype.hasOwnProperty.call(r,t)),Pz=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,l,c]=n.match(lw);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},c9=e=>Ea(0,255,e),Kx={...Fl,transform:e=>Math.round(c9(e))},eo={test:cw("rgb","red"),parse:Pz("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Kx.transform(e)+", "+Kx.transform(t)+", "+Kx.transform(r)+", "+cu(yu.transform(n))+")"};function u9(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const ib={test:cw("#"),parse:u9,transform:eo.transform},Zu=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pi=Zu("deg"),Gs=Zu("%"),Ge=Zu("px"),d9=Zu("vh"),f9=Zu("vw"),$S={...Gs,parse:e=>Gs.parse(e)/100,transform:e=>Gs.transform(e*100)},ul={test:cw("hsl","hue"),parse:Pz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Gs.transform(cu(t))+", "+Gs.transform(cu(r))+", "+cu(yu.transform(n))+")"},or={test:e=>eo.test(e)||ib.test(e)||ul.test(e),parse:e=>eo.test(e)?eo.parse(e):ul.test(e)?ul.parse(e):ib.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?eo.transform(e):ul.transform(e),getAnimatableNone:e=>{const t=or.parse(e);return t.alpha=0,or.transform(t)}},m9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function h9(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lw))==null?void 0:t.length)||0)+(((r=e.match(m9))==null?void 0:r.length)||0)>0}const Cz="number",Ez="color",p9="var",x9="var(",FS="${}",g9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wu(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const c=t.replace(g9,d=>(or.test(d)?(n.color.push(i),a.push(Ez),r.push(or.parse(d))):d.startsWith(x9)?(n.var.push(i),a.push(p9),r.push(d)):(n.number.push(i),a.push(Cz),r.push(parseFloat(d))),++i,FS)).split(FS);return{values:r,split:c,indexes:n,types:a}}function Az(e){return wu(e).values}function zz(e){const{split:t,types:r}=wu(e),n=t.length;return a=>{let i="";for(let l=0;l<n;l++)if(i+=t[l],a[l]!==void 0){const c=r[l];c===Cz?i+=cu(a[l]):c===Ez?i+=or.transform(a[l]):i+=a[l]}return i}}const v9=e=>typeof e=="number"?0:or.test(e)?or.getAnimatableNone(e):e;function b9(e){const t=Az(e);return zz(e)(t.map(v9))}const Ni={test:h9,parse:Az,createTransformer:zz,getAnimatableNone:b9};function qx(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function y9({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,l=0;if(!t)a=i=l=r;else{const c=r<.5?r*(1+t):r+t-r*t,d=2*r-c;a=qx(d,c,e+1/3),i=qx(d,c,e),l=qx(d,c,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:n}}function Tm(e,t){return r=>r>0?t:e}const _t=(e,t,r)=>e+(t-e)*r,Hx=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},w9=[ib,eo,ul],j9=e=>w9.find(t=>t.test(e));function BS(e){const t=j9(e);if(!t)return!1;let r=t.parse(e);return t===ul&&(r=y9(r)),r}const VS=(e,t)=>{const r=BS(e),n=BS(t);if(!r||!n)return Tm(e,t);const a={...r};return i=>(a.red=Hx(r.red,n.red,i),a.green=Hx(r.green,n.green,i),a.blue=Hx(r.blue,n.blue,i),a.alpha=_t(r.alpha,n.alpha,i),eo.transform(a))},ob=new Set(["none","hidden"]);function N9(e,t){return ob.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function S9(e,t){return r=>_t(e,t,r)}function uw(e){return typeof e=="number"?S9:typeof e=="string"?ow(e)?Tm:or.test(e)?VS:C9:Array.isArray(e)?Oz:typeof e=="object"?or.test(e)?VS:k9:Tm}function Oz(e,t){const r=[...e],n=r.length,a=e.map((i,l)=>uw(i)(i,t[l]));return i=>{for(let l=0;l<n;l++)r[l]=a[l](i);return r}}function k9(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=uw(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function P9(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],l=e.indexes[i][n[i]],c=e.values[l]??0;r[a]=c,n[i]++}return r}const C9=(e,t)=>{const r=Ni.createTransformer(t),n=wu(e),a=wu(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ob.has(e)&&!a.values.length||ob.has(t)&&!n.values.length?N9(e,t):Xu(Oz(P9(n,a),a.values),r):Tm(e,t)};function Tz(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?_t(e,t,r):uw(e)(e,t)}const E9=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Mt.update(t,r),stop:()=>za(t),now:()=>Vr.isProcessing?Vr.timestamp:En.now()}},Mz=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Mm=2e4;function dw(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Mm;)t+=r,n=e.next(t);return t>=Mm?1/0:t}function Iz(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(dw(n),Mm);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:as(a)}}const A9=5;function Dz(e,t,r){const n=Math.max(t-A9,0);return uz(r-e(n),t-n)}const Ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gx=.001;function z9({duration:e=Ht.duration,bounce:t=Ht.bounce,velocity:r=Ht.velocity,mass:n=Ht.mass}){let a,i,l=1-t;l=Ea(Ht.minDamping,Ht.maxDamping,l),e=Ea(Ht.minDuration,Ht.maxDuration,as(e)),l<1?(a=f=>{const m=f*l,h=m*e,x=m-r,v=lb(f,l),y=Math.exp(-h);return Gx-x/v*y},i=f=>{const h=f*l*e,x=h*r+r,v=Math.pow(l,2)*Math.pow(f,2)*e,y=Math.exp(-h),w=lb(Math.pow(f,2),l);return(-a(f)+Gx>0?-1:1)*((x-v)*y)/w}):(a=f=>{const m=Math.exp(-f*e),h=(f-r)*e+1;return-Gx+m*h},i=f=>{const m=Math.exp(-f*e),h=(r-f)*(e*e);return m*h});const c=5/e,d=T9(a,i,c);if(e=As(e),isNaN(d))return{stiffness:Ht.stiffness,damping:Ht.damping,duration:e};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:l*2*Math.sqrt(n*f),duration:e}}}const O9=12;function T9(e,t,r){let n=r;for(let a=1;a<O9;a++)n=n-e(n)/t(n);return n}function lb(e,t){return e*Math.sqrt(1-t*t)}const M9=["duration","bounce"],I9=["stiffness","damping","mass"];function US(e,t){return t.some(r=>e[r]!==void 0)}function D9(e){let t={velocity:Ht.velocity,stiffness:Ht.stiffness,damping:Ht.damping,mass:Ht.mass,isResolvedFromDuration:!1,...e};if(!US(e,I9)&&US(e,M9))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Ea(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ht.mass,stiffness:a,damping:i}}else{const r=z9(e);t={...t,...r,mass:Ht.mass},t.isResolvedFromDuration=!0}return t}function ju(e=Ht.visualDuration,t=Ht.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:f,mass:m,duration:h,velocity:x,isResolvedFromDuration:v}=D9({...r,velocity:-as(r.velocity||0)}),y=x||0,w=f/(2*Math.sqrt(d*m)),j=l-i,S=as(Math.sqrt(d/m)),P=Math.abs(j)<5;n||(n=P?Ht.restSpeed.granular:Ht.restSpeed.default),a||(a=P?Ht.restDelta.granular:Ht.restDelta.default);let k;if(w<1){const A=lb(S,w);k=z=>{const O=Math.exp(-w*S*z);return l-O*((y+w*S*j)/A*Math.sin(A*z)+j*Math.cos(A*z))}}else if(w===1)k=A=>l-Math.exp(-S*A)*(j+(y+S*j)*A);else{const A=S*Math.sqrt(w*w-1);k=z=>{const O=Math.exp(-w*S*z),T=Math.min(A*z,300);return l-O*((y+w*S*j)*Math.sinh(T)+A*j*Math.cosh(T))/A}}const E={calculatedDuration:v&&h||null,next:A=>{const z=k(A);if(v)c.done=A>=h;else{let O=A===0?y:0;w<1&&(O=A===0?As(y):Dz(k,A,z));const T=Math.abs(O)<=n,R=Math.abs(l-z)<=a;c.done=T&&R}return c.value=c.done?l:z,c},toString:()=>{const A=Math.min(dw(E),Mm),z=Mz(O=>E.next(A*O).value,A,30);return A+"ms "+z},toTransition:()=>{}};return E}ju.applyToOptions=e=>{const t=Iz(e,100,ju);return e.ease=t.ease,e.duration=As(t.duration),e.type="keyframes",e};function cb({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:m}){const h=e[0],x={done:!1,value:h},v=T=>c!==void 0&&T<c||d!==void 0&&T>d,y=T=>c===void 0?d:d===void 0||Math.abs(c-T)<Math.abs(d-T)?c:d;let w=r*t;const j=h+w,S=l===void 0?j:l(j);S!==j&&(w=S-h);const P=T=>-w*Math.exp(-T/n),k=T=>S+P(T),E=T=>{const R=P(T),I=k(T);x.done=Math.abs(R)<=f,x.value=x.done?S:I};let A,z;const O=T=>{v(x.value)&&(A=T,z=ju({keyframes:[x.value,y(x.value)],velocity:Dz(k,T,x.value),damping:a,stiffness:i,restDelta:f,restSpeed:m}))};return O(0),{calculatedDuration:null,next:T=>{let R=!1;return!z&&A===void 0&&(R=!0,E(T),O(T)),A!==void 0&&T>=A?z.next(T-A):(!R&&E(T),x)}}}function R9(e,t,r){const n=[],a=r||Aa.mix||Tz,i=e.length-1;for(let l=0;l<i;l++){let c=a(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||cs:t;c=Xu(d,c)}n.push(c)}return n}function Rz(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(rw(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=R9(t,n,a),d=c.length,f=m=>{if(l&&m<e[0])return t[0];let h=0;if(d>1)for(;h<e.length-2&&!(m<e[h+1]);h++);const x=Cl(e[h],e[h+1],m);return c[h](x)};return r?m=>f(Ea(e[0],e[i-1],m)):f}function _z(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Cl(0,t,n);e.push(_t(r,1,a))}}function Lz(e){const t=[0];return _z(t,e.length-1),t}function _9(e,t){return e.map(r=>r*t)}function L9(e,t){return e.map(()=>t||bz).splice(0,e.length-1)}function uu({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=yz(n)?n.map(LS):LS(n),i={done:!1,value:t[0]},l=_9(r&&r.length===t.length?r:Lz(t),e),c=Rz(l,t,{ease:Array.isArray(a)?a:L9(t,a)});return{calculatedDuration:e,next:d=>(i.value=c(d),i.done=d>=e,i)}}const $9=e=>e!==null;function fw(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter($9),c=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const F9={decay:cb,inertia:cb,tween:uu,keyframes:uu,spring:ju};function $z(e){typeof e.type=="string"&&(e.type=F9[e.type])}class mw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const B9=e=>e/100;class hw extends mw{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==En.now()&&this.tick(En.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;$z(t);const{type:r=uu,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:l=0}=t;let{keyframes:c}=t;const d=r||uu;d!==uu&&typeof c[0]!="number"&&(this.mixKeyframes=Xu(B9,Tz(c[0],c[1])),c=[0,100]);const f=d({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=dw(f));const{calculatedDuration:m}=f;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=f}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:m,repeat:h,repeatType:x,repeatDelay:v,type:y,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?S<0:S>a;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,E=n;if(h){const T=Math.min(this.currentTime,a)/c;let R=Math.floor(T),I=T%1;!I&&T>=1&&(I=1),I===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(x==="reverse"?(I=1-I,v&&(I-=v/c)):x==="mirror"&&(E=l)),k=Ea(0,1,I)*c}const A=P?{done:!1,value:m[0]}:E.next(k);i&&(A.value=i(A.value));let{done:z}=A;!P&&d!==null&&(z=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return O&&y!==cb&&(A.value=fw(m,this.options,j,this.speed)),w&&w(A.value),O&&this.finish(),A}then(t,r){return this.finished.then(t,r)}get duration(){return as(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+as(t)}get time(){return as(this.currentTime)}set time(t){var r;t=As(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(En.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=as(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=E9,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(En.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function V9(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const to=e=>e*180/Math.PI,ub=e=>{const t=to(Math.atan2(e[1],e[0]));return db(t)},U9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ub,rotateZ:ub,skewX:e=>to(Math.atan(e[1])),skewY:e=>to(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},db=e=>(e=e%360,e<0&&(e+=360),e),WS=ub,KS=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qS=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),W9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:KS,scaleY:qS,scale:e=>(KS(e)+qS(e))/2,rotateX:e=>db(to(Math.atan2(e[6],e[5]))),rotateY:e=>db(to(Math.atan2(-e[2],e[0]))),rotateZ:WS,rotate:WS,skewX:e=>to(Math.atan(e[4])),skewY:e=>to(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fb(e){return e.includes("scale")?1:0}function mb(e,t){if(!e||e==="none")return fb(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=W9,a=r;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=U9,a=c}if(!a)return fb(t);const i=n[t],l=a[1].split(",").map(q9);return typeof i=="function"?i(l):l[i]}const K9=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return mb(r,t)};function q9(e){return parseFloat(e.trim())}const Bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vl=new Set(Bl),HS=e=>e===Fl||e===Ge,H9=new Set(["x","y","z"]),G9=Bl.filter(e=>!H9.has(e));function Y9(e){const t=[];return G9.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const oo={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mb(t,"x"),y:(e,{transform:t})=>mb(t,"y")};oo.translateX=oo.x;oo.translateY=oo.y;const lo=new Set;let hb=!1,pb=!1,xb=!1;function Fz(){if(pb){const e=Array.from(lo).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Y9(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,l])=>{var c;(c=n.getValue(i))==null||c.set(l)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}pb=!1,hb=!1,lo.forEach(e=>e.complete(xb)),lo.clear()}function Bz(){lo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pb=!0)})}function X9(){xb=!0,Bz(),Fz(),xb=!1}class pw{constructor(t,r,n,a,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(lo.add(this),hb||(hb=!0,Mt.read(Bz),Mt.resolveKeyframes(Fz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&i===void 0&&a.set(t[0])}V9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),lo.delete(this)}cancel(){this.state==="scheduled"&&(lo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Q9=e=>e.startsWith("--");function Z9(e,t,r){Q9(t)?e.style.setProperty(t,r):e.style[t]=r}const J9=nw(()=>window.ScrollTimeline!==void 0),eF={};function tF(e,t){const r=nw(e);return()=>eF[t]??r()}const Vz=tF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nu=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,GS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nu([0,.65,.55,1]),circOut:nu([.55,0,1,.45]),backIn:nu([.31,.01,.66,-.59]),backOut:nu([.33,1.53,.69,.99])};function Uz(e,t){if(e)return typeof e=="function"?Vz()?Mz(e,t):"ease-out":jz(e)?nu(e):Array.isArray(e)?e.map(r=>Uz(r,t)||GS.easeOut):GS[e]}function rF(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:l="loop",ease:c="easeOut",times:d}={},f=void 0){const m={[t]:r};d&&(m.offset=d);const h=Uz(c,a);Array.isArray(h)&&(m.easing=h);const x={delay:n,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),e.animate(m,x)}function xw(e){return typeof e=="function"&&"applyToOptions"in e}function nF({type:e,...t}){return xw(e)&&Vz()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class sF extends mw{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=t,rw(typeof t.type!="string");const f=nF(t);this.animation=rF(r,n,a,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=fw(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):Z9(r,n,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return as(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+as(t)}get time(){return as(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=As(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&J9()?(this.animation.timeline=t,cs):r(this)}}const Wz={anticipate:xz,backInOut:pz,circInOut:vz};function aF(e){return e in Wz}function iF(e){typeof e.ease=="string"&&aF(e.ease)&&(e.ease=Wz[e.ease])}const YS=10;class oF extends sF{constructor(t){iF(t),$z(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...l}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const c=new hw({...l,autoplay:!1}),d=As(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-YS).value,c.sample(d).value,YS),c.stop()}}const XS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ni.test(e)||e==="0")&&!e.startsWith("url("));function lF(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function cF(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],l=XS(a,t),c=XS(i,t);return!l||!c?!1:lF(e)||(r==="spring"||xw(r))&&n}function gb(e){e.duration=0,e.type="keyframes"}const uF=new Set(["opacity","clipPath","filter","transform"]),dF=nw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fF(e){var m;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:l}=e;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return dF()&&r&&uF.has(r)&&(r!=="transform"||!f)&&!d&&!n&&a!=="mirror"&&i!==0&&l!=="inertia"}const mF=40;class hF extends mw{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:l="loop",keyframes:c,name:d,motionValue:f,element:m,...h}){var y;super(),this.stop=()=>{var w,j;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=En.now();const x={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:l,name:d,motionValue:f,element:m,...h},v=(m==null?void 0:m.KeyframeResolver)||pw;this.keyframeResolver=new v(c,(w,j,S)=>this.onKeyframesResolved(w,j,x,!S),d,f,m),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:l,velocity:c,delay:d,isHandoff:f,onUpdate:m}=n;this.resolvedAt=En.now(),cF(t,i,l,c)||((Aa.instantAnimations||!d)&&(m==null||m(fw(t,n,r))),t[0]=t[t.length-1],gb(n),n.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>mF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},v=!f&&fF(x)?new oF({...x,element:x.motionValue.owner.current}):new hw(x);v.finished.then(()=>this.notifyFinished()).catch(cs),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),X9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class pF{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return QS(this.animations,"duration")}get iterationDuration(){return QS(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function QS(e,t){let r=0;for(let n=0;n<e.length;n++){const a=e[n][t];a!==null&&a>r&&(r=a)}return r}class xF extends pF{then(t,r){return this.finished.finally(t).then(()=>{})}}const gF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vF(e){const t=gF.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Kz(e,t,r=1){const[n,a]=vF(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const l=i.trim();return oz(l)?parseFloat(l):l}return ow(a)?Kz(a,t,r+1):a}function gw(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const qz=new Set(["width","height","top","left","right","bottom",...Bl]),bF={test:e=>e==="auto",parse:e=>e},Hz=e=>t=>t.test(e),Gz=[Fl,Ge,Gs,pi,f9,d9,bF],ZS=e=>Gz.find(Hz(e));function yF(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cz(e):!0}const wF=new Set(["brightness","contrast","saturate","opacity"]);function jF(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(lw)||[];if(!n)return e;const a=r.replace(n,"");let i=wF.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const NF=/\b([a-z-]*)\(.*?\)/gu,vb={...Ni,getAnimatableNone:e=>{const t=e.match(NF);return t?t.map(jF).join(" "):e}},JS={...Fl,transform:Math.round},SF={rotate:pi,rotateX:pi,rotateY:pi,rotateZ:pi,scale:$f,scaleX:$f,scaleY:$f,scaleZ:$f,skew:pi,skewX:pi,skewY:pi,distance:Ge,translateX:Ge,translateY:Ge,translateZ:Ge,x:Ge,y:Ge,z:Ge,perspective:Ge,transformPerspective:Ge,opacity:yu,originX:$S,originY:$S,originZ:Ge},vw={borderWidth:Ge,borderTopWidth:Ge,borderRightWidth:Ge,borderBottomWidth:Ge,borderLeftWidth:Ge,borderRadius:Ge,radius:Ge,borderTopLeftRadius:Ge,borderTopRightRadius:Ge,borderBottomRightRadius:Ge,borderBottomLeftRadius:Ge,width:Ge,maxWidth:Ge,height:Ge,maxHeight:Ge,top:Ge,right:Ge,bottom:Ge,left:Ge,padding:Ge,paddingTop:Ge,paddingRight:Ge,paddingBottom:Ge,paddingLeft:Ge,margin:Ge,marginTop:Ge,marginRight:Ge,marginBottom:Ge,marginLeft:Ge,backgroundPositionX:Ge,backgroundPositionY:Ge,...SF,zIndex:JS,fillOpacity:yu,strokeOpacity:yu,numOctaves:JS},kF={...vw,color:or,backgroundColor:or,outlineColor:or,fill:or,stroke:or,borderColor:or,borderTopColor:or,borderRightColor:or,borderBottomColor:or,borderLeftColor:or,filter:vb,WebkitFilter:vb},Yz=e=>kF[e];function Xz(e,t){let r=Yz(e);return r!==vb&&(r=Ni),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const PF=new Set(["auto","none","0"]);function CF(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!PF.has(i)&&wu(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=Xz(r,a)}class EF extends pw{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),ow(f))){const m=Kz(f,r.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!qz.has(n)||t.length!==2)return;const[a,i]=t,l=ZS(a),c=ZS(i);if(l!==c)if(HS(l)&&HS(c))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else oo[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||yF(t[a]))&&n.push(a);n.length&&CF(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var c;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,l=n[i];n[i]=oo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,f])=>{t.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function Qz(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Zz=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Jz(e){return lz(e)&&"offsetHeight"in e}const ek=30,AF=e=>!isNaN(parseFloat(e)),du={current:void 0};class zF{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=En.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=En.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=AF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new sw);const n=this.events[t].add(r);return t==="change"?()=>{n(),Mt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return du.current&&du.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=En.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>ek)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,ek);return uz(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yo(e,t){return new zF(e,t)}const{schedule:bw}=Nz(queueMicrotask,!1),Ss={x:!1,y:!1};function e3(){return Ss.x||Ss.y}function OF(e){return e==="x"||e==="y"?Ss[e]?null:(Ss[e]=!0,()=>{Ss[e]=!1}):Ss.x||Ss.y?null:(Ss.x=Ss.y=!0,()=>{Ss.x=Ss.y=!1})}function t3(e,t){const r=Qz(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function tk(e){return!(e.pointerType==="touch"||e3())}function TF(e,t,r={}){const[n,a,i]=t3(e,r),l=c=>{if(!tk(c))return;const{target:d}=c,f=t(d,c);if(typeof f!="function"||!d)return;const m=h=>{tk(h)&&(f(h),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,a)};return n.forEach(c=>{c.addEventListener("pointerenter",l,a)}),i}const r3=(e,t)=>t?e===t?!0:r3(e,t.parentElement):!1,yw=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,MF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IF(e){return MF.has(e.tagName)||e.tabIndex!==-1}const xm=new WeakSet;function rk(e){return t=>{t.key==="Enter"&&e(t)}}function Yx(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const DF=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=rk(()=>{if(xm.has(r))return;Yx(r,"down");const a=rk(()=>{Yx(r,"up")}),i=()=>Yx(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function nk(e){return yw(e)&&!e3()}function RF(e,t,r={}){const[n,a,i]=t3(e,r),l=c=>{const d=c.currentTarget;if(!nk(c))return;xm.add(d);const f=t(d,c),m=(v,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",x),xm.has(d)&&xm.delete(d),nk(v)&&typeof f=="function"&&f(v,{success:y})},h=v=>{m(v,d===window||d===document||r.useGlobalTarget||r3(d,v.target))},x=v=>{m(v,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",x,a)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",l,a),Jz(c)&&(c.addEventListener("focus",f=>DF(f,a)),!IF(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function ww(e){return lz(e)&&"ownerSVGElement"in e}function n3(e){return ww(e)&&e.tagName==="svg"}function _F(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],l=e[3+r],c=Rz(a,i,l);return t?c(n):c}const Mr=e=>!!(e&&e.getVelocity),LF=[...Gz,or,Ni],$F=e=>LF.find(Hz(e)),Uh=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function sk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FF(...e){return t=>{let r=!1;const n=e.map(a=>{const i=sk(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():sk(e[a],null)}}}}function BF(...e){return g.useCallback(FF(...e),e)}class VF extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Jz(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UF({children:e,isPresent:t,anchorX:r,root:n}){const a=g.useId(),i=g.useRef(null),l=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=g.useContext(Uh),d=BF(i,e==null?void 0:e.ref);return g.useInsertionEffect(()=>{const{width:f,height:m,top:h,left:x,right:v}=l.current;if(t||!i.current||!f||!m)return;const y=r==="left"?`left: ${x}`:`right: ${v}`;i.current.dataset.motionPopId=a;const w=document.createElement("style");c&&(w.nonce=c);const j=n??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[t]),s.jsx(VF,{isPresent:t,childRef:i,sizeRef:l,children:g.cloneElement(e,{ref:d})})}const WF=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:l,anchorX:c,root:d})=>{const f=Yu(KF),m=g.useId();let h=!0,x=g.useMemo(()=>(h=!1,{id:m,initial:t,isPresent:r,custom:a,onExitComplete:v=>{f.set(v,!0);for(const y of f.values())if(!y)return;n&&n()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[r,f,n]);return i&&h&&(x={...x}),g.useMemo(()=>{f.forEach((v,y)=>f.set(y,!1))},[r]),g.useEffect(()=>{!r&&!f.size&&n&&n()},[r]),l==="popLayout"&&(e=s.jsx(UF,{isPresent:r,anchorX:c,root:d,children:e})),s.jsx(Bh.Provider,{value:x,children:e})};function KF(){return new Map}function s3(e=!0){const t=g.useContext(Bh);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=g.useId();g.useEffect(()=>{if(e)return a(i)},[e]);const l=g.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,l]:[!0]}const Ff=e=>e.key||"";function ak(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const Ve=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[f,m]=s3(l),h=g.useMemo(()=>ak(e),[e]),x=l&&!f?[]:h.map(Ff),v=g.useRef(!0),y=g.useRef(h),w=Yu(()=>new Map),[j,S]=g.useState(h),[P,k]=g.useState(h);ew(()=>{v.current=!1,y.current=h;for(let z=0;z<P.length;z++){const O=Ff(P[z]);x.includes(O)?w.delete(O):w.get(O)!==!0&&w.set(O,!1)}},[P,x.length,x.join("-")]);const E=[];if(h!==j){let z=[...h];for(let O=0;O<P.length;O++){const T=P[O],R=Ff(T);x.includes(R)||(z.splice(O,0,T),E.push(T))}return i==="wait"&&E.length&&(z=E),k(ak(z)),S(h),null}const{forceRender:A}=g.useContext(Zy);return s.jsx(s.Fragment,{children:P.map(z=>{const O=Ff(z),T=l&&!f?!1:h===P||x.includes(O),R=()=>{if(w.has(O))w.set(O,!0);else return;let I=!0;w.forEach(D=>{D||(I=!1)}),I&&(A==null||A(),k(y.current),l&&(m==null||m()),n&&n())};return s.jsx(WF,{isPresent:T,initial:!v.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:d,onExitComplete:T?void 0:R,anchorX:c,children:z},O)})})},a3=g.createContext({strict:!1}),ik={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},El={};for(const e in ik)El[e]={isEnabled:t=>ik[e].some(r=>!!t[r])};function qF(e){for(const t in e)El[t]={...El[t],...e[t]}}const HF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Im(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HF.has(e)}let i3=e=>!Im(e);function GF(e){typeof e=="function"&&(i3=t=>t.startsWith("on")?!Im(t):e(t))}try{GF(require("@emotion/is-prop-valid").default)}catch{}function YF(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(i3(a)||r===!0&&Im(a)||!t&&!Im(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Wh=g.createContext({});function Kh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Nu(e){return typeof e=="string"||Array.isArray(e)}const jw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nw=["initial",...jw];function qh(e){return Kh(e.animate)||Nw.some(t=>Nu(e[t]))}function o3(e){return!!(qh(e)||e.variants)}function XF(e,t){if(qh(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Nu(r)?r:void 0,animate:Nu(n)?n:void 0}}return e.inherit!==!1?t:{}}function QF(e){const{initial:t,animate:r}=XF(e,g.useContext(Wh));return g.useMemo(()=>({initial:t,animate:r}),[ok(t),ok(r)])}function ok(e){return Array.isArray(e)?e.join(" "):e}function lk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ge.test(e))e=parseFloat(e);else return e;const r=lk(e,t.target.x),n=lk(e,t.target.y);return`${r}% ${n}%`}},ZF={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Ni.parse(e);if(a.length>5)return n;const i=Ni.createTransformer(e),l=typeof a[0]!="number"?1:0,c=r.x.scale*t.x,d=r.y.scale*t.y;a[0+l]/=c,a[1+l]/=d;const f=_t(c,d,.5);return typeof a[2+l]=="number"&&(a[2+l]/=f),typeof a[3+l]=="number"&&(a[3+l]/=f),i(a)}},bb={borderRadius:{...Vc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vc,borderTopRightRadius:Vc,borderBottomLeftRadius:Vc,borderBottomRightRadius:Vc,boxShadow:ZF};function l3(e,{layout:t,layoutId:r}){return Vl.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!bb[e]||e==="opacity")}const JF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e7=Bl.length;function t7(e,t,r){let n="",a=!0;for(let i=0;i<e7;i++){const l=Bl[i],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const f=Zz(c,vw[l]);if(!d){a=!1;const m=JF[l]||l;n+=`${m}(${f}) `}r&&(t[l]=f)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Sw(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let l=!1,c=!1;for(const d in t){const f=t[d];if(Vl.has(d)){l=!0;continue}else if(kz(d)){a[d]=f;continue}else{const m=Zz(f,vw[d]);d.startsWith("origin")?(c=!0,i[d]=m):n[d]=m}}if(t.transform||(l||r?n.transform=t7(t,e.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=i;n.transformOrigin=`${d} ${f} ${m}`}}const kw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function c3(e,t,r){for(const n in t)!Mr(t[n])&&!l3(n,r)&&(e[n]=t[n])}function r7({transformTemplate:e},t){return g.useMemo(()=>{const r=kw();return Sw(r,t,e),Object.assign({},r.vars,r.style)},[t])}function n7(e,t){const r=e.style||{},n={};return c3(n,r,e),Object.assign(n,r7(e,t)),n}function s7(e,t){const r={},n=n7(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const a7={offset:"stroke-dashoffset",array:"stroke-dasharray"},i7={offset:"strokeDashoffset",array:"strokeDasharray"};function o7(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?a7:i7;e[i.offset]=Ge.transform(-n);const l=Ge.transform(t),c=Ge.transform(r);e[i.array]=`${l} ${c}`}function u3(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:l=0,...c},d,f,m){if(Sw(e,c,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:x}=e;h.transform&&(x.transform=h.transform,delete h.transform),(x.transform||h.transformOrigin)&&(x.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),x.transform&&(x.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&o7(h,a,i,l,!1)}const d3=()=>({...kw(),attrs:{}}),f3=e=>typeof e=="string"&&e.toLowerCase()==="svg";function l7(e,t,r,n){const a=g.useMemo(()=>{const i=d3();return u3(i,t,f3(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};c3(i,e.style,e),a.style={...i,...a.style}}return a}const c7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pw(e){return typeof e!="string"||e.includes("-")?!1:!!(c7.indexOf(e)>-1||/[A-Z]/u.test(e))}function u7(e,t,r,{latestValues:n},a,i=!1){const c=(Pw(e)?l7:s7)(t,n,a,e),d=YF(t,typeof e=="string",i),f=e!==g.Fragment?{...d,...c,ref:r}:{},{children:m}=t,h=g.useMemo(()=>Mr(m)?m.get():m,[m]);return g.createElement(e,{...f,children:h})}function ck(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Cw(e,t,r,n){if(typeof t=="function"){const[a,i]=ck(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=ck(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function gm(e){return Mr(e)?e.get():e}function d7({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:f7(r,n,a,e),renderState:t()}}function f7(e,t,r,n){const a={},i=n(e,{});for(const x in i)a[x]=gm(i[x]);let{initial:l,animate:c}=e;const d=qh(e),f=o3(e);t&&f&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let m=r?r.initial===!1:!1;m=m||l===!1;const h=m?c:l;if(h&&typeof h!="boolean"&&!Kh(h)){const x=Array.isArray(h)?h:[h];for(let v=0;v<x.length;v++){const y=Cw(e,x[v]);if(y){const{transitionEnd:w,transition:j,...S}=y;for(const P in S){let k=S[P];if(Array.isArray(k)){const E=m?k.length-1:0;k=k[E]}k!==null&&(a[P]=k)}for(const P in w)a[P]=w[P]}}}return a}const m3=e=>(t,r)=>{const n=g.useContext(Wh),a=g.useContext(Bh),i=()=>d7(e,t,n,a);return r?i():Yu(i)};function Ew(e,t,r){var i;const{style:n}=e,a={};for(const l in n)(Mr(n[l])||t.style&&Mr(t.style[l])||l3(l,e)||((i=r==null?void 0:r.getValue(l))==null?void 0:i.liveStyle)!==void 0)&&(a[l]=n[l]);return a}const m7=m3({scrapeMotionValuesFromProps:Ew,createRenderState:kw});function h3(e,t,r){const n=Ew(e,t,r);for(const a in e)if(Mr(e[a])||Mr(t[a])){const i=Bl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const h7=m3({scrapeMotionValuesFromProps:h3,createRenderState:d3}),p7=Symbol.for("motionComponentSymbol");function dl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function x7(e,t,r){return g.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):dl(r)&&(r.current=n))},[t])}const Aw=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),g7="framerAppearId",p3="data-"+Aw(g7),x3=g.createContext({});function v7(e,t,r,n,a){var w,j;const{visualElement:i}=g.useContext(Wh),l=g.useContext(a3),c=g.useContext(Bh),d=g.useContext(Uh).reducedMotion,f=g.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,h=g.useContext(x3);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&b7(f.current,r,a,h);const x=g.useRef(!1);g.useInsertionEffect(()=>{m&&x.current&&m.update(r,c)});const v=r[p3],y=g.useRef(!!v&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,v))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,v)));return ew(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),y.current&&m.animationState&&m.animationState.animateChanges())}),g.useEffect(()=>{m&&(!y.current&&m.animationState&&m.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,v)}),y.current=!1),m.enteringChildren=void 0)}),m}function b7(e,t,r,n){const{layoutId:a,layout:i,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:m}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:g3(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!l||c&&dl(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:d,layoutRoot:f})}function g3(e){if(e)return e.options.allowProjection!==!1?e.projection:g3(e.parent)}function Xx(e,{forwardMotionProps:t=!1}={},r,n){r&&qF(r);const a=Pw(e)?h7:m7;function i(c,d){let f;const m={...g.useContext(Uh),...c,layoutId:y7(c)},{isStatic:h}=m,x=QF(c),v=a(c,h);if(!h&&Jy){w7();const y=j7(m);f=y.MeasureLayout,x.visualElement=v7(e,v,m,n,y.ProjectionNode)}return s.jsxs(Wh.Provider,{value:x,children:[f&&x.visualElement?s.jsx(f,{visualElement:x.visualElement,...m}):null,u7(e,c,x7(v,x.visualElement,d),v,h,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=g.forwardRef(i);return l[p7]=e,l}function y7({layoutId:e}){const t=g.useContext(Zy).id;return t&&e!==void 0?t+"-"+e:e}function w7(e,t){g.useContext(a3).strict}function j7(e){const{drag:t,layout:r}=El;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function N7(e,t){if(typeof Proxy>"u")return Xx;const r=new Map,n=(i,l)=>Xx(i,l,e,t),a=(i,l)=>n(i,l);return new Proxy(a,{get:(i,l)=>l==="create"?n:(r.has(l)||r.set(l,Xx(l,void 0,e,t)),r.get(l))})}function v3({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function S7({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function k7(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Qx(e){return e===void 0||e===1}function yb({scale:e,scaleX:t,scaleY:r}){return!Qx(e)||!Qx(t)||!Qx(r)}function Gi(e){return yb(e)||b3(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function b3(e){return uk(e.x)||uk(e.y)}function uk(e){return e&&e!=="0%"}function Dm(e,t,r){const n=e-r,a=t*n;return r+a}function dk(e,t,r,n,a){return a!==void 0&&(e=Dm(e,a,n)),Dm(e,r,n)+t}function wb(e,t=0,r=1,n,a){e.min=dk(e.min,t,r,n,a),e.max=dk(e.max,t,r,n,a)}function y3(e,{x:t,y:r}){wb(e.x,t.translate,t.scale,t.originPoint),wb(e.y,r.translate,r.scale,r.originPoint)}const fk=.999999999999,mk=1.0000000000001;function P7(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,l;for(let c=0;c<a;c++){i=r[c],l=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ml(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,y3(e,l)),n&&Gi(i.latestValues)&&ml(e,i.latestValues))}t.x<mk&&t.x>fk&&(t.x=1),t.y<mk&&t.y>fk&&(t.y=1)}function fl(e,t){e.min=e.min+t,e.max=e.max+t}function hk(e,t,r,n,a=.5){const i=_t(e.min,e.max,a);wb(e,t,r,i,n)}function ml(e,t){hk(e.x,t.x,t.scaleX,t.scale,t.originX),hk(e.y,t.y,t.scaleY,t.scale,t.originY)}function w3(e,t){return v3(k7(e.getBoundingClientRect(),t))}function C7(e,t,r){const n=w3(e,r),{scroll:a}=t;return a&&(fl(n.x,a.offset.x),fl(n.y,a.offset.y)),n}const pk=()=>({translate:0,scale:1,origin:0,originPoint:0}),hl=()=>({x:pk(),y:pk()}),xk=()=>({min:0,max:0}),ir=()=>({x:xk(),y:xk()}),jb={current:null},j3={current:!1};function E7(){if(j3.current=!0,!!Jy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>jb.current=e.matches;e.addEventListener("change",t),t()}else jb.current=!1}const Su=new WeakMap;function A7(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Mr(a))e.addValue(n,a);else if(Mr(i))e.addValue(n,yo(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const l=e.getValue(n);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=e.getStaticValue(n);e.addValue(n,yo(l!==void 0?l:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const gk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class N3{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=En.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Mt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=qh(r),this.isVariantNode=o3(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in h){const v=h[x];d[x]!==void 0&&Mr(v)&&v.set(d[x])}}mount(t){var r;this.current=t,Su.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),j3.current||E7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jb.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),za(this.notifyUpdate),za(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Vl.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Mt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in El){const r=El[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ir()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<gk.length;n++){const a=gk[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,l=t[i];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=A7(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=yo(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(oz(n)||cz(n))?n=parseFloat(n):!$F(n)&&Ni.test(r)&&(n=Xz(t,r)),this.setBaseTarget(t,Mr(n)?n.get():n)),Mr(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const l=Cw(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);l&&(n=l[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Mr(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new sw),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){bw.render(this.render)}}class S3 extends N3{constructor(){super(...arguments),this.KeyframeResolver=EF}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Mr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function k3(e,{style:t,vars:r},n,a){const i=e.style;let l;for(l in t)i[l]=t[l];a==null||a.applyProjectionStyles(i,n);for(l in r)i.setProperty(l,r[l])}function z7(e){return window.getComputedStyle(e)}class P3 extends S3{constructor(){super(...arguments),this.type="html",this.renderInstance=k3}readValueFromInstance(t,r){var n;if(Vl.has(r))return(n=this.projection)!=null&&n.isProjecting?fb(r):K9(t,r);{const a=z7(t),i=(kz(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return w3(t,r)}build(t,r,n){Sw(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Ew(t,r,n)}}const C3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function O7(e,t,r,n){k3(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(C3.has(a)?a:Aw(a),t.attrs[a])}class E3 extends S3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ir}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Vl.has(r)){const n=Yz(r);return n&&n.default||0}return r=C3.has(r)?r:Aw(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return h3(t,r,n)}build(t,r,n){u3(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){O7(t,r,n,a)}mount(t){this.isSVGTag=f3(t.tagName),super.mount(t)}}const T7=(e,t)=>Pw(e)?new E3(t):new P3(t,{allowProjection:e!==g.Fragment});function yl(e,t,r){const n=e.getProps();return Cw(n,t,r!==void 0?r:n.custom,e)}const Nb=e=>Array.isArray(e);function M7(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,yo(r))}function I7(e){return Nb(e)?e[e.length-1]||0:e}function D7(e,t){const r=yl(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const l in i){const c=I7(i[l]);M7(e,l,c)}}function R7(e){return!!(Mr(e)&&e.add)}function Sb(e,t){const r=e.getValue("willChange");if(R7(r))return r.add(t);if(!r&&Aa.WillChange){const n=new Aa.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function A3(e){return e.props[p3]}const _7=e=>e!==null;function L7(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(_7),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const $7={type:"spring",stiffness:500,damping:25,restSpeed:10},F7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),B7={type:"keyframes",duration:.8},V7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U7=(e,{keyframes:t})=>t.length>2?B7:Vl.has(e)?e.startsWith("scale")?F7(t[1]):$7:V7;function W7({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:l,repeatDelay:c,from:d,elapsed:f,...m}){return!!Object.keys(m).length}const zw=(e,t,r,n={},a,i)=>l=>{const c=gw(n,e)||{},d=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-As(d);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-f,onUpdate:x=>{t.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:a};W7(c)||Object.assign(m,U7(e,m)),m.duration&&(m.duration=As(m.duration)),m.repeatDelay&&(m.repeatDelay=As(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let h=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(gb(m),m.delay===0&&(h=!0)),(Aa.instantAnimations||Aa.skipAnimations)&&(h=!0,gb(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,h&&!i&&t.get()!==void 0){const x=L7(m.keyframes,c);if(x!==void 0){Mt.update(()=>{m.onUpdate(x),m.onComplete()});return}}return c.isSync?new hw(m):new hF(m)};function K7({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Ow(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(i=n);const d=[],f=a&&e.animationState&&e.animationState.getState()[a];for(const m in c){const h=e.getValue(m,e.latestValues[m]??null),x=c[m];if(x===void 0||f&&K7(f,m))continue;const v={delay:r,...gw(i||{},m)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(x)&&x===y&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const S=A3(e);if(S){const P=window.MotionHandoffAnimation(S,m,Mt);P!==null&&(v.startTime=P,w=!0)}}Sb(e,m),h.start(zw(m,h,x,e.shouldReduceMotion&&qz.has(m)?{type:!1}:v,e,w));const j=h.animation;j&&d.push(j)}return l&&Promise.all(d).then(()=>{Mt.update(()=>{l&&D7(e,l)})}),d}function z3(e,t,r,n=0,a=1){const i=Array.from(e).sort((f,m)=>f.sortNodePosition(m)).indexOf(t),l=e.size,c=(l-1)*n;return typeof r=="function"?r(i,l):a===1?i*n:c-i*n}function kb(e,t,r={}){var d;const n=yl(e,t,r.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Ow(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:h,staggerDirection:x}=a;return q7(e,t,f,m,h,x,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[f,m]=c==="beforeChildren"?[i,l]:[l,i];return f().then(()=>m())}else return Promise.all([i(),l(r.delay)])}function q7(e,t,r=0,n=0,a=0,i=1,l){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(kb(d,t,{...l,delay:r+(typeof n=="function"?0:n)+z3(e.variantChildren,d,n,a,i)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function H7(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>kb(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=kb(e,t,r);else{const a=typeof t=="function"?yl(e,t,r.custom):t;n=Promise.all(Ow(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function O3(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const G7=Nw.length;function T3(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?T3(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<G7;r++){const n=Nw[r],a=e.props[n];(Nu(a)||a===!1)&&(t[n]=a)}return t}const Y7=[...jw].reverse(),X7=jw.length;function Q7(e){return t=>Promise.all(t.map(({animation:r,options:n})=>H7(e,r,n)))}function Z7(e){let t=Q7(e),r=vk(),n=!0;const a=d=>(f,m)=>{var x;const h=yl(e,m,d==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(h){const{transition:v,transitionEnd:y,...w}=h;f={...f,...w,...y}}return f};function i(d){t=d(e)}function l(d){const{props:f}=e,m=T3(e.parent)||{},h=[],x=new Set;let v={},y=1/0;for(let j=0;j<X7;j++){const S=Y7[j],P=r[S],k=f[S]!==void 0?f[S]:m[S],E=Nu(k),A=S===d?P.isActive:null;A===!1&&(y=j);let z=k===m[S]&&k!==f[S]&&E;if(z&&n&&e.manuallyAnimateOnMount&&(z=!1),P.protectedKeys={...v},!P.isActive&&A===null||!k&&!P.prevProp||Kh(k)||typeof k=="boolean")continue;const O=J7(P.prevProp,k);let T=O||S===d&&P.isActive&&!z&&E||j>y&&E,R=!1;const I=Array.isArray(k)?k:[k];let D=I.reduce(a(S),{});A===!1&&(D={});const{prevResolvedValues:_={}}=P,F={..._,...D},W=V=>{T=!0,x.has(V)&&(R=!0,x.delete(V)),P.needsAnimating[V]=!0;const q=e.getValue(V);q&&(q.liveStyle=!1)};for(const V in F){const q=D[V],te=_[V];if(v.hasOwnProperty(V))continue;let se=!1;Nb(q)&&Nb(te)?se=!O3(q,te):se=q!==te,se?q!=null?W(V):x.add(V):q!==void 0&&x.has(V)?W(V):P.protectedKeys[V]=!0}P.prevProp=k,P.prevResolvedValues=D,P.isActive&&(v={...v,...D}),n&&e.blockInitialAnimation&&(T=!1);const ne=z&&O;T&&(!ne||R)&&h.push(...I.map(V=>{const q={type:S};if(typeof V=="string"&&n&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,se=yl(te,V);if(te.enteringChildren&&se){const{delayChildren:U}=se.transition||{};q.delay=z3(te.enteringChildren,e,U)}}return{animation:V,options:q}}))}if(x.size){const j={};if(typeof f.initial!="boolean"){const S=yl(e,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(j.transition=S.transition)}x.forEach(S=>{const P=e.getBaseTarget(S),k=e.getValue(S);k&&(k.liveStyle=!0),j[S]=P??null}),h.push({animation:j})}let w=!!h.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(h):Promise.resolve()}function c(d,f){var h;if(r[d].isActive===f)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(d,f)}),r[d].isActive=f;const m=l(d);for(const x in r)r[x].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=vk()}}}function J7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!O3(t,e):!1}function qi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vk(){return{animate:qi(!0),whileInView:qi(),whileHover:qi(),whileTap:qi(),whileDrag:qi(),whileFocus:qi(),exit:qi()}}class Ei{constructor(t){this.isMounted=!1,this.node=t}update(){}}class eB extends Ei{constructor(t){super(t),t.animationState||(t.animationState=Z7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Kh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let tB=0;class rB extends Ei{constructor(){super(...arguments),this.id=tB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const nB={animation:{Feature:eB},exit:{Feature:rB}};function ku(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ju(e){return{point:{x:e.pageX,y:e.pageY}}}const sB=e=>t=>yw(t)&&e(t,Ju(t));function fu(e,t,r,n){return ku(e,t,sB(r),n)}const M3=1e-4,aB=1-M3,iB=1+M3,I3=.01,oB=0-I3,lB=0+I3;function un(e){return e.max-e.min}function cB(e,t,r){return Math.abs(e-t)<=r}function bk(e,t,r,n=.5){e.origin=n,e.originPoint=_t(t.min,t.max,e.origin),e.scale=un(r)/un(t),e.translate=_t(r.min,r.max,e.origin)-e.originPoint,(e.scale>=aB&&e.scale<=iB||isNaN(e.scale))&&(e.scale=1),(e.translate>=oB&&e.translate<=lB||isNaN(e.translate))&&(e.translate=0)}function mu(e,t,r,n){bk(e.x,t.x,r.x,n?n.originX:void 0),bk(e.y,t.y,r.y,n?n.originY:void 0)}function yk(e,t,r){e.min=r.min+t.min,e.max=e.min+un(t)}function uB(e,t,r){yk(e.x,t.x,r.x),yk(e.y,t.y,r.y)}function wk(e,t,r){e.min=t.min-r.min,e.max=e.min+un(t)}function Rm(e,t,r){wk(e.x,t.x,r.x),wk(e.y,t.y,r.y)}function ns(e){return[e("x"),e("y")]}const D3=({current:e})=>e?e.ownerDocument.defaultView:null,jk=(e,t)=>Math.abs(e-t);function dB(e,t){const r=jk(e.x,t.x),n=jk(e.y,t.y);return Math.sqrt(r**2+n**2)}class R3{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Jx(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=dB(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!y)return;const{point:w}=x,{timestamp:j}=Vr;this.history.push({...w,timestamp:j});const{onStart:S,onMove:P}=this.handlers;v||(S&&S(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Zx(v,this.transformPagePoint),Mt.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Jx(x.type==="pointercancel"?this.lastMoveEventInfo:Zx(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(x,S),w&&w(x,S)},!yw(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=a||window;const c=Ju(t),d=Zx(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=Vr;this.history=[{...f,timestamp:m}];const{onSessionStart:h}=r;h&&h(t,Jx(d,this.history)),this.removeListeners=Xu(fu(this.contextWindow,"pointermove",this.handlePointerMove),fu(this.contextWindow,"pointerup",this.handlePointerUp),fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),za(this.updatePoint)}}function Zx(e,t){return t?{point:t(e.point)}:e}function Nk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jx({point:e},t){return{point:e,delta:Nk(e,_3(t)),offset:Nk(e,fB(t)),velocity:mB(t,.1)}}function fB(e){return e[0]}function _3(e){return e[e.length-1]}function mB(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=_3(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>As(t)));)r--;if(!n)return{x:0,y:0};const i=as(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const l={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function hB(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?_t(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?_t(r,e,n.max):Math.min(e,r)),e}function Sk(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function pB(e,{top:t,left:r,bottom:n,right:a}){return{x:Sk(e.x,r,a),y:Sk(e.y,t,n)}}function kk(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function xB(e,t){return{x:kk(e.x,t.x),y:kk(e.y,t.y)}}function gB(e,t){let r=.5;const n=un(e),a=un(t);return a>n?r=Cl(t.min,t.max-n,e.min):n>a&&(r=Cl(e.min,e.max-a,t.min)),Ea(0,1,r)}function vB(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Pb=.35;function bB(e=Pb){return e===!1?e=0:e===!0&&(e=Pb),{x:Pk(e,"left","right"),y:Pk(e,"top","bottom")}}function Pk(e,t,r){return{min:Ck(e,t),max:Ck(e,r)}}function Ck(e,t){return typeof e=="number"?e:e[t]||0}const yB=new WeakMap;class wB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ir(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ju(h).point)},l=(h,x)=>{const{drag:v,dragPropagation:y,onDragStart:w}=this.getProps();if(v&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OF(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ns(S=>{let P=this.getAxisMotionValue(S).get()||0;if(Gs.test(P)){const{projection:k}=this.visualElement;if(k&&k.layout){const E=k.layout.layoutBox[S];E&&(P=un(E)*(parseFloat(P)/100))}}this.originPoint[S]=P}),w&&Mt.postRender(()=>w(h,x)),Sb(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(h,x)=>{this.latestPointerEvent=h,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:w,onDrag:j}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=x;if(y&&this.currentDirection===null){this.currentDirection=jB(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,S),this.updateAxis("y",x.point,S),this.visualElement.render(),j&&j(h,x)},d=(h,x)=>{this.latestPointerEvent=h,this.latestPanInfo=x,this.stop(h,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>ns(h=>{var x;return this.getAnimationState(h)==="paused"&&((x=this.getAxisMotionValue(h).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new R3(t,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:D3(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Mt.postRender(()=>c(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Bf(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=hB(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&dl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=pB(n.layoutBox,t):this.constraints=!1,this.elastic=bB(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ns(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=vB(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!dl(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=C7(n,a.root,this.visualElement.getTransformPagePoint());let l=xB(a.layout.layoutBox,i);if(r){const c=r(S7(l));this.hasMutatedConstraints=!!c,c&&(l=v3(c))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=ns(m=>{if(!Bf(m,r,this.currentDirection))return;let h=d&&d[m]||{};l&&(h={min:0,max:0});const x=a?200:1e6,v=a?40:1e7,y={type:"inertia",velocity:n?t[m]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(m,y)});return Promise.all(f).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Sb(this.visualElement,t),n.start(zw(t,n,0,r,this.visualElement,!1))}stopAnimation(){ns(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ns(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ns(r=>{const{drag:n}=this.getProps();if(!Bf(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:l,max:c}=a.layout.layoutBox[r];i.set(t[r]-_t(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!dl(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ns(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();a[l]=gB({min:d,max:d},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ns(l=>{if(!Bf(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(_t(d,f,a[l]))})}addListeners(){if(!this.visualElement.current)return;yB.set(this.visualElement,this);const t=this.visualElement.current,r=fu(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();dl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Mt.read(n);const l=ku(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ns(m=>{const h=this.getAxisMotionValue(m);h&&(this.originPoint[m]+=d[m].translate,h.set(h.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),r(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:l=Pb,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:l,dragMomentum:c}}}function Bf(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function jB(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class NB extends Ei{constructor(t){super(t),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new wB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ek=e=>(t,r)=>{e&&Mt.postRender(()=>e(t,r))};class SB extends Ei{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(t){this.session=new R3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:D3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ek(t),onStart:Ek(r),onMove:n,onEnd:(i,l)=>{delete this.session,a&&Mt.postRender(()=>a(i,l))}}}mount(){this.removePointerDownListener=fu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let eg=!1;class kB extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),eg&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),vm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:l}=n;return l&&(l.isPresent=i,eg=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||Mt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;eg=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function L3(e){const[t,r]=s3(),n=g.useContext(Zy);return s.jsx(kB,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(x3),isPresent:t,safeToRemove:r})}function $3(e,t,r){const n=Mr(e)?e:yo(e);return n.start(zw("",n,t,r)),n.animation}const PB=(e,t)=>e.depth-t.depth;class CB{constructor(){this.children=[],this.isDirty=!1}add(t){tw(this.children,t),this.isDirty=!0}remove(t){Vh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(PB),this.isDirty=!1,this.children.forEach(t)}}function EB(e,t){const r=En.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(za(n),e(i-t))};return Mt.setup(n,!0),()=>za(n)}const F3=["TopLeft","TopRight","BottomLeft","BottomRight"],AB=F3.length,Ak=e=>typeof e=="string"?parseFloat(e):e,zk=e=>typeof e=="number"||Ge.test(e);function zB(e,t,r,n,a,i){a?(e.opacity=_t(0,r.opacity??1,OB(n)),e.opacityExit=_t(t.opacity??1,0,TB(n))):i&&(e.opacity=_t(t.opacity??1,r.opacity??1,n));for(let l=0;l<AB;l++){const c=`border${F3[l]}Radius`;let d=Ok(t,c),f=Ok(r,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||zk(d)===zk(f)?(e[c]=Math.max(_t(Ak(d),Ak(f),n),0),(Gs.test(f)||Gs.test(d))&&(e[c]+="%")):e[c]=f}(t.rotate||r.rotate)&&(e.rotate=_t(t.rotate||0,r.rotate||0,n))}function Ok(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const OB=B3(0,.5,gz),TB=B3(.5,.95,cs);function B3(e,t,r){return n=>n<e?0:n>t?1:r(Cl(e,t,n))}function Tk(e,t){e.min=t.min,e.max=t.max}function Ns(e,t){Tk(e.x,t.x),Tk(e.y,t.y)}function Mk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Ik(e,t,r,n,a){return e-=t,e=Dm(e,1/r,n),a!==void 0&&(e=Dm(e,1/a,n)),e}function MB(e,t=0,r=1,n=.5,a,i=e,l=e){if(Gs.test(t)&&(t=parseFloat(t),t=_t(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=_t(i.min,i.max,n);e===i&&(c-=t),e.min=Ik(e.min,t,r,c,a),e.max=Ik(e.max,t,r,c,a)}function Dk(e,t,[r,n,a],i,l){MB(e,t[r],t[n],t[a],t.scale,i,l)}const IB=["x","scaleX","originX"],DB=["y","scaleY","originY"];function Rk(e,t,r,n){Dk(e.x,t,IB,r?r.x:void 0,n?n.x:void 0),Dk(e.y,t,DB,r?r.y:void 0,n?n.y:void 0)}function _k(e){return e.translate===0&&e.scale===1}function V3(e){return _k(e.x)&&_k(e.y)}function Lk(e,t){return e.min===t.min&&e.max===t.max}function RB(e,t){return Lk(e.x,t.x)&&Lk(e.y,t.y)}function $k(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function U3(e,t){return $k(e.x,t.x)&&$k(e.y,t.y)}function Fk(e){return un(e.x)/un(e.y)}function Bk(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class _B{constructor(){this.members=[]}add(t){tw(this.members,t),t.scheduleRender()}remove(t){if(Vh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LB(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,l=(r==null?void 0:r.z)||0;if((a||i||l)&&(n=`translate3d(${a}px, ${i}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:m,rotateX:h,rotateY:x,skewX:v,skewY:y}=r;f&&(n=`perspective(${f}px) ${n}`),m&&(n+=`rotate(${m}deg) `),h&&(n+=`rotateX(${h}deg) `),x&&(n+=`rotateY(${x}deg) `),v&&(n+=`skewX(${v}deg) `),y&&(n+=`skewY(${y}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const tg=["","X","Y","Z"],$B=1e3;let FB=0;function rg(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function W3(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=A3(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Mt,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&W3(n)}function K3({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(l={},c=t==null?void 0:t()){this.id=FB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(UB),this.nodes.forEach(HB),this.nodes.forEach(GB),this.nodes.forEach(WB)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new CB)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new sw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ww(l)&&!n3(l),this.instance=l;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let m,h=0;const x=()=>this.root.updateBlockedByResize=!1;Mt.read(()=>{h=window.innerWidth}),e(l,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,m&&m(),m=EB(x,250),vm.hasAnimatedSinceResize&&(vm.hasAnimatedSinceResize=!1,this.nodes.forEach(Wk)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||JB,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=f.getProps(),S=!this.targetLayout||!U3(this.targetLayout,v),P=!h&&x;if(this.options.layoutRoot||this.resumeFrom||P||h&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...gw(y,"layout"),onPlay:w,onComplete:j};(f.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,P)}else h||Wk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),za(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YB),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&W3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const h=this.path[m];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Uk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(qB),this.nodes.forEach(BB),this.nodes.forEach(VB)):this.nodes.forEach(Uk),this.clearAllSnapshots();const c=En.now();Vr.delta=Ea(0,1e3/60,c-Vr.timestamp),Vr.timestamp=c,Vr.isProcessing=!0,Wx.update.process(Vr),Wx.preRender.process(Vr),Wx.render.process(Vr),Vr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KB),this.sharedNodes.forEach(XB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!un(this.snapshot.measuredBox.x)&&!un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!V3(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||Gi(this.latestValues)||m)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),eV(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:l}=this.options;if(!l)return ir();const c=l.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(tV))){const{scroll:m}=this.root;m&&(fl(c.x,m.offset.x),fl(c.y,m.offset.y))}return c}removeElementScroll(l){var d;const c=ir();if(Ns(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:h,options:x}=m;m!==this.root&&h&&x.layoutScroll&&(h.wasRoot&&Ns(c,l),fl(c.x,h.offset.x),fl(c.y,h.offset.y))}return c}applyTransform(l,c=!1){const d=ir();Ns(d,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ml(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Gi(m.latestValues)&&ml(d,m.latestValues)}return Gi(this.latestValues)&&ml(d,this.latestValues),d}removeTransform(l){const c=ir();Ns(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Gi(f.latestValues))continue;yb(f.latestValues)&&f.updateSnapshot();const m=ir(),h=f.measurePageBox();Ns(m,h),Rk(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Gi(this.latestValues)&&Rk(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var v;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:h}=this.options;if(!this.layout||!(m||h))return;this.resolvedRelativeTargetAt=Vr.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ir(),this.targetWithTransforms=ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ns(this.target,this.layout.layoutBox),y3(this.target,this.targetDelta)):Ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||yb(this.parent.latestValues)||b3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ir(),this.relativeTargetOrigin=ir(),Rm(this.relativeTargetOrigin,c,d),Ns(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Vr.timestamp&&(d=!1),d)return;const{layout:f,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||m))return;Ns(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,x=this.treeScale.y;P7(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ir());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mk(this.prevProjectionDelta.x,this.projectionDelta.x),Mk(this.prevProjectionDelta.y,this.projectionDelta.y)),mu(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==x||!Bk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hl(),this.projectionDelta=hl(),this.projectionDeltaWithTransform=hl()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},h=hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=ir(),v=d?d.source:void 0,y=this.layout?this.layout.source:void 0,w=v!==y,j=this.getStack(),S=!j||j.members.length<=1,P=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(ZB));this.animationProgress=0;let k;this.mixTargetDelta=E=>{const A=E/1e3;Kk(h.x,l.x,A),Kk(h.y,l.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rm(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QB(this.relativeTarget,this.relativeTargetOrigin,x,A),k&&RB(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ir()),Ns(k,this.relativeTarget)),w&&(this.animationValues=m,zB(m,f,this.latestValues,A,P,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,d,f;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(f=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||f.stop(),this.pendingAnimation&&(za(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mt.update(()=>{vm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yo(0)),this.currentAnimation=$3(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($B),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:m}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&q3(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||ir();const h=un(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+h;const x=un(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}Ns(c,d),ml(c,m),mu(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new _B),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&rg("z",l,f,this.animationValues);for(let m=0;m<tg.length;m++)rg(`rotate${tg[m]}`,l,f,this.animationValues),rg(`skew${tg[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=gm(c==null?void 0:c.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=gm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Gi(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=f.animationValues||f.latestValues;this.applyTransformsToTarget();let h=LB(this.projectionDeltaWithTransform,this.treeScale,m);d&&(h=d(m,h)),l.transform=h;const{x,y:v}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,f.animationValues?l.opacity=f===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in bb){if(m[y]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:S}=bb[y],P=h==="none"?m[y]:w(m[y],f);if(j){const k=j.length;for(let E=0;E<k;E++)l[j[E]]=P}else S?this.options.visualElement.renderState.vars[y]=P:l[y]=P}this.options.layoutId&&(l.pointerEvents=f===this?gm(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Vk),this.root.sharedNodes.clear()}}}function BB(e){e.updateLayout()}function VB(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,l=t.source!==e.layout.source;i==="size"?ns(h=>{const x=l?t.measuredBox[h]:t.layoutBox[h],v=un(x);x.min=n[h].min,x.max=x.min+v}):q3(i,t.layoutBox,n)&&ns(h=>{const x=l?t.measuredBox[h]:t.layoutBox[h],v=un(n[h]);x.max=x.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+v)});const c=hl();mu(c,n,t.layoutBox);const d=hl();l?mu(d,e.applyTransform(a,!0),t.measuredBox):mu(d,n,t.layoutBox);const f=!V3(c);let m=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:x,layout:v}=h;if(x&&v){const y=ir();Rm(y,t.layoutBox,x.layoutBox);const w=ir();Rm(w,n,v.layoutBox),U3(y,w)||(m=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function UB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function WB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function KB(e){e.clearSnapshot()}function Vk(e){e.clearMeasurements()}function Uk(e){e.isLayoutDirty=!1}function qB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Wk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function HB(e){e.resolveTargetDelta()}function GB(e){e.calcProjection()}function YB(e){e.resetSkewAndRotation()}function XB(e){e.removeLeadSnapshot()}function Kk(e,t,r){e.translate=_t(t.translate,0,r),e.scale=_t(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function qk(e,t,r,n){e.min=_t(t.min,r.min,n),e.max=_t(t.max,r.max,n)}function QB(e,t,r,n){qk(e.x,t.x,r.x,n),qk(e.y,t.y,r.y,n)}function ZB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const JB={duration:.45,ease:[.4,0,.1,1]},Hk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Gk=Hk("applewebkit/")&&!Hk("chrome/")?Math.round:cs;function Yk(e){e.min=Gk(e.min),e.max=Gk(e.max)}function eV(e){Yk(e.x),Yk(e.y)}function q3(e,t,r){return e==="position"||e==="preserve-aspect"&&!cB(Fk(t),Fk(r),.2)}function tV(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rV=K3({attachResizeListener:(e,t)=>ku(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ng={current:void 0},H3=K3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ng.current){const e=new rV({});e.mount(window),e.setOptions({layoutScroll:!0}),ng.current=e}return ng.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nV={pan:{Feature:SB},drag:{Feature:NB,ProjectionNode:H3,MeasureLayout:L3}};function Xk(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Mt.postRender(()=>i(t,Ju(t)))}class sV extends Ei{mount(){const{current:t}=this.node;t&&(this.unmount=TF(t,(r,n)=>(Xk(this.node,n,"Start"),a=>Xk(this.node,a,"End"))))}unmount(){}}class aV extends Ei{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xu(ku(this.node.current,"focus",()=>this.onFocus()),ku(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qk(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Mt.postRender(()=>i(t,Ju(t)))}class iV extends Ei{mount(){const{current:t}=this.node;t&&(this.unmount=RF(t,(r,n)=>(Qk(this.node,n,"Start"),(a,{success:i})=>Qk(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cb=new WeakMap,sg=new WeakMap,oV=e=>{const t=Cb.get(e.target);t&&t(e)},lV=e=>{e.forEach(oV)};function cV({root:e,...t}){const r=e||document;sg.has(r)||sg.set(r,{});const n=sg.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(lV,{root:e,...t})),n[a]}function uV(e,t,r){const n=cV(t);return Cb.set(e,r),n.observe(e),()=>{Cb.delete(e),n.unobserve(e)}}const dV={some:0,all:1};class fV extends Ei{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:dV[a]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:h}=this.node.getProps(),x=f?m:h;x&&x(d)};return uV(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(mV(t,r))&&this.startObserver()}unmount(){}}function mV({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const hV={inView:{Feature:fV},tap:{Feature:iV},focus:{Feature:aV},hover:{Feature:sV}},pV={layout:{ProjectionNode:H3,MeasureLayout:L3}},xV={...nB,...hV,...nV,...pV},Z=N7(xV,T7);function G3(e){const t=Yu(()=>yo(e)),{isStatic:r}=g.useContext(Uh);if(r){const[,n]=g.useState(e);g.useEffect(()=>t.on("change",n),[])}return t}function Y3(e,t){const r=G3(t()),n=()=>r.set(t());return n(),ew(()=>{const a=()=>Mt.preRender(n,!1,!0),i=e.map(l=>l.on("change",a));return()=>{i.forEach(l=>l()),za(n)}}),r}function gV(e){du.current=[],e();const t=Y3(du.current,e);return du.current=void 0,t}function vV(e,t,r,n){if(typeof e=="function")return gV(e);const a=typeof t=="function"?t:_F(t,r,n);return Array.isArray(e)?Zk(e,a):Zk([e],([i])=>a(i))}function Zk(e,t){const r=Yu(()=>[]);return Y3(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function Tw(e){return typeof e=="object"&&!Array.isArray(e)}function X3(e,t,r,n){return typeof e=="string"&&Tw(t)?Qz(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function bV(e,t,r){return e*(t+1)}function Jk(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:t.startsWith("<")?Math.max(0,r+parseFloat(t.slice(1))):n.get(t)??e}function yV(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(Vh(e,a),n--)}}function wV(e,t,r,n,a,i){yV(e,a,i);for(let l=0;l<t.length;l++)e.push({value:t[l],at:_t(a,i,n[l]),easing:wz(r,l)})}function jV(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function NV(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const SV="easeInOut";function kV(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,l=new Map,c=new Map,d={},f=new Map;let m=0,h=0,x=0;for(let v=0;v<e.length;v++){const y=e[v];if(typeof y=="string"){f.set(y,h);continue}else if(!Array.isArray(y)){f.set(y.name,Jk(h,y.at,m,f));continue}let[w,j,S={}]=y;S.at!==void 0&&(h=Jk(h,S.at,m,f));let P=0;const k=(E,A,z,O=0,T=0)=>{const R=PV(E),{delay:I=0,times:D=Lz(R),type:_="keyframes",repeat:F,repeatType:W,repeatDelay:ne=0,...Q}=A;let{ease:V=t.ease||"easeOut",duration:q}=A;const te=typeof I=="function"?I(O,T):I,se=R.length,U=xw(_)?_:a==null?void 0:a[_||"keyframes"];if(se<=2&&U){let ve=100;if(se===2&&AV(R)){const G=R[1]-R[0];ve=Math.abs(G)}const ke={...Q};q!==void 0&&(ke.duration=As(q));const Ee=Iz(ke,ve,U);V=Ee.ease,q=Ee.duration}q??(q=i);const X=h+te;D.length===1&&D[0]===0&&(D[1]=1);const me=D.length-R.length;if(me>0&&_z(D,me),R.length===1&&R.unshift(null),F){q=bV(q,F);const ve=[...R],ke=[...D];V=Array.isArray(V)?[...V]:[V];const Ee=[...V];for(let G=0;G<F;G++){R.push(...ve);for(let L=0;L<ve.length;L++)D.push(ke[L]+(G+1)),V.push(L===0?"linear":wz(Ee,L-1))}jV(D,F)}const de=X+q;wV(z,R,V,D,X,de),P=Math.max(te+q,P),x=Math.max(de,x)};if(Mr(w)){const E=e5(w,c);k(j,S,t5("default",E))}else{const E=X3(w,j,n,d),A=E.length;for(let z=0;z<A;z++){j=j,S=S;const O=E[z],T=e5(O,c);for(const R in j)k(j[R],CV(S,R),t5(R,T),z,A)}}m=h,h+=P}return c.forEach((v,y)=>{for(const w in v){const j=v[w];j.sort(NV);const S=[],P=[],k=[];for(let A=0;A<j.length;A++){const{at:z,value:O,easing:T}=j[A];S.push(O),P.push(Cl(0,x,z)),k.push(T||"easeOut")}P[0]!==0&&(P.unshift(0),S.unshift(S[0]),k.unshift(SV)),P[P.length-1]!==1&&(P.push(1),S.push(null)),l.has(y)||l.set(y,{keyframes:{},transition:{}});const E=l.get(y);E.keyframes[w]=S,E.transition[w]={...t,duration:x,ease:k,times:P,...r}}}),l}function e5(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function t5(e,t){return t[e]||(t[e]=[]),t[e]}function PV(e){return Array.isArray(e)?e:[e]}function CV(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const EV=e=>typeof e=="number",AV=e=>e.every(EV);function zV(e,t){return e in t}class OV extends N3{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(zV(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return ir()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function TV(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=ww(e)&&!n3(e)?new E3(t):new P3(t);r.mount(e),Su.set(e,r)}function MV(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new OV(t);r.mount(e),Su.set(e,r)}function IV(e,t){return Mr(e)||typeof e=="number"||typeof e=="string"&&!Tw(t)}function Q3(e,t,r,n){const a=[];if(IV(e,t))a.push($3(e,Tw(t)&&t.default||t,r&&(r.default||r)));else{const i=X3(e,t,n),l=i.length;for(let c=0;c<l;c++){const d=i[c],f=d instanceof Element?TV:MV;Su.has(d)||f(d);const m=Su.get(d),h={...r};"delay"in h&&typeof h.delay=="function"&&(h.delay=h.delay(c,l)),a.push(...Ow(m,{...t,transition:h},{}))}}return a}function DV(e,t,r){const n=[];return kV(e,t,r,{spring:ju}).forEach(({keyframes:i,transition:l},c)=>{n.push(...Q3(c,i,l))}),n}function RV(e){return Array.isArray(e)&&e.some(Array.isArray)}function _V(e){function t(r,n,a){let i=[],l;if(RV(r))i=DV(r,n,e);else{const{onComplete:d,...f}=a||{};typeof d=="function"&&(l=d),i=Q3(r,n,f,e)}const c=new xF(i);return l&&c.finished.then(l),c}return t}const ag=_V();function Z3({onClick:e,userRole:t,isOpen:r}){const[n,a]=g.useState(!1),[i,l]=g.useState(!1);g.useEffect(()=>{if(!i&&!r){const d=setTimeout(()=>{a(!0)},3e3);return()=>clearTimeout(d)}},[i,r]),g.useEffect(()=>{if(n){const d=setTimeout(()=>{a(!1)},5e3);return()=>clearTimeout(d)}},[n]);const c=()=>{l(!0),a(!1),e()};return s.jsxs("div",{className:"fixed bottom-6 right-6 z-[1000]",children:[s.jsx(Ve,{children:n&&!r&&s.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full right-0 mb-3 whitespace-nowrap",children:s.jsxs("div",{className:"bg-slate-950 border border-purple-500/30 rounded-lg px-4 py-2.5 shadow-xl",children:[s.jsx("p",{className:"text-white text-sm font-medium",children:"Talk with Josea AI"}),s.jsx("div",{className:"absolute bottom-0 right-6 transform translate-y-1/2 rotate-45 w-2.5 h-2.5 bg-slate-950 border-r border-b border-purple-500/30"})]})})}),s.jsxs(Z.button,{onClick:c,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.5},whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative w-16 h-16 rounded-2xl shadow-2xl transition-all duration-300 group overflow-hidden ${r?"bg-purple-600 shadow-purple-500/50":"bg-gradient-to-br from-slate-900 via-slate-900 to-slate-800 hover:from-slate-800 hover:via-slate-800 hover:to-slate-700"}`,"aria-label":r?"Close Josea AI":"Open Josea AI",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 via-purple-600/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),s.jsx("div",{className:"relative z-10 flex items-center justify-center h-full",children:s.jsx("span",{className:`font-serif text-3xl font-bold tracking-tight transition-colors duration-300 ${r?"text-white":"text-purple-400 group-hover:text-purple-300"}`,children:"J"})}),s.jsx("div",{className:`absolute inset-0 rounded-2xl border transition-all duration-300 ${r?"border-purple-400/50":"border-slate-700/50 group-hover:border-purple-500/30"}`}),s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-slate-950 border border-slate-700 rounded-full flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-[9px] font-bold text-slate-400",children:t==="MANAGER"?"M":"A"})}),r&&s.jsx(Z.div,{initial:{scale:0},animate:{scale:1},className:"absolute bottom-1 right-1 w-2 h-2 bg-green-400 rounded-full shadow-lg shadow-green-400/50"})]})]})}function J3(e,t){return function(){return e.apply(t,arguments)}}const{toString:LV}=Object.prototype,{getPrototypeOf:Mw}=Object,{iterator:Hh,toStringTag:eO}=Symbol,Gh=(e=>t=>{const r=LV.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ds=e=>(e=e.toLowerCase(),t=>Gh(t)===e),Yh=e=>t=>typeof t===e,{isArray:Ul}=Array,Al=Yh("undefined");function ed(e){return e!==null&&!Al(e)&&e.constructor!==null&&!Al(e.constructor)&&On(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tO=Ds("ArrayBuffer");function $V(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&tO(e.buffer),t}const FV=Yh("string"),On=Yh("function"),rO=Yh("number"),td=e=>e!==null&&typeof e=="object",BV=e=>e===!0||e===!1,bm=e=>{if(Gh(e)!=="object")return!1;const t=Mw(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(eO in e)&&!(Hh in e)},VV=e=>{if(!td(e)||ed(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},UV=Ds("Date"),WV=Ds("File"),KV=Ds("Blob"),qV=Ds("FileList"),HV=e=>td(e)&&On(e.pipe),GV=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||On(e.append)&&((t=Gh(e))==="formdata"||t==="object"&&On(e.toString)&&e.toString()==="[object FormData]"))},YV=Ds("URLSearchParams"),[XV,QV,ZV,JV]=["ReadableStream","Request","Response","Headers"].map(Ds),eU=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rd(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Ul(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(ed(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let c;for(n=0;n<l;n++)c=i[n],t.call(null,e[c],c,e)}}function nO(e,t){if(ed(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sO=e=>!Al(e)&&e!==ro;function Eb(){const{caseless:e,skipUndefined:t}=sO(this)&&this||{},r={},n=(a,i)=>{const l=e&&nO(r,i)||i;bm(r[l])&&bm(a)?r[l]=Eb(r[l],a):bm(a)?r[l]=Eb({},a):Ul(a)?r[l]=a.slice():(!t||!Al(a))&&(r[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&rd(arguments[a],n);return r}const tU=(e,t,r,{allOwnKeys:n}={})=>(rd(t,(a,i)=>{r&&On(a)?e[i]=J3(a,r):e[i]=a},{allOwnKeys:n}),e),rU=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),nU=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},sU=(e,t,r,n)=>{let a,i,l;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!n||n(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=r!==!1&&Mw(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},aU=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},iU=e=>{if(!e)return null;if(Ul(e))return e;let t=e.length;if(!rO(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},oU=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Mw(Uint8Array)),lU=(e,t)=>{const n=(e&&e[Hh]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},cU=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},uU=Ds("HTMLFormElement"),dU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),r5=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),fU=Ds("RegExp"),aO=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};rd(r,(a,i)=>{let l;(l=t(a,i,e))!==!1&&(n[i]=l||a)}),Object.defineProperties(e,n)},mU=e=>{aO(e,(t,r)=>{if(On(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(On(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},hU=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Ul(e)?n(e):n(String(e).split(t)),r},pU=()=>{},xU=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function gU(e){return!!(e&&On(e.append)&&e[eO]==="FormData"&&e[Hh])}const vU=e=>{const t=new Array(10),r=(n,a)=>{if(td(n)){if(t.indexOf(n)>=0)return;if(ed(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Ul(n)?[]:{};return rd(n,(l,c)=>{const d=r(l,a+1);!Al(d)&&(i[c]=d)}),t[a]=void 0,i}}return n};return r(e,0)},bU=Ds("AsyncFunction"),yU=e=>e&&(td(e)||On(e))&&On(e.then)&&On(e.catch),iO=((e,t)=>e?setImmediate:t?((r,n)=>(ro.addEventListener("message",({source:a,data:i})=>{a===ro&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ro.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",On(ro.postMessage)),wU=typeof queueMicrotask<"u"?queueMicrotask.bind(ro):typeof process<"u"&&process.nextTick||iO,jU=e=>e!=null&&On(e[Hh]),ce={isArray:Ul,isArrayBuffer:tO,isBuffer:ed,isFormData:GV,isArrayBufferView:$V,isString:FV,isNumber:rO,isBoolean:BV,isObject:td,isPlainObject:bm,isEmptyObject:VV,isReadableStream:XV,isRequest:QV,isResponse:ZV,isHeaders:JV,isUndefined:Al,isDate:UV,isFile:WV,isBlob:KV,isRegExp:fU,isFunction:On,isStream:HV,isURLSearchParams:YV,isTypedArray:oU,isFileList:qV,forEach:rd,merge:Eb,extend:tU,trim:eU,stripBOM:rU,inherits:nU,toFlatObject:sU,kindOf:Gh,kindOfTest:Ds,endsWith:aU,toArray:iU,forEachEntry:lU,matchAll:cU,isHTMLForm:uU,hasOwnProperty:r5,hasOwnProp:r5,reduceDescriptors:aO,freezeMethods:mU,toObjectSet:hU,toCamelCase:dU,noop:pU,toFiniteNumber:xU,findKey:nO,global:ro,isContextDefined:sO,isSpecCompliantForm:gU,toJSONObject:vU,isAsyncFn:bU,isThenable:yU,setImmediate:iO,asap:wU,isIterable:jU};function tt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ce.inherits(tt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ce.toJSONObject(this.config),code:this.code,status:this.status}}});const oO=tt.prototype,lO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lO[e]={value:e}});Object.defineProperties(tt,lO);Object.defineProperty(oO,"isAxiosError",{value:!0});tt.from=(e,t,r,n,a,i)=>{const l=Object.create(oO);ce.toFlatObject(e,l,function(m){return m!==Error.prototype},f=>f!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return tt.call(l,c,d,r,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const NU=null;function Ab(e){return ce.isPlainObject(e)||ce.isArray(e)}function cO(e){return ce.endsWith(e,"[]")?e.slice(0,-2):e}function n5(e,t,r){return e?e.concat(t).map(function(a,i){return a=cO(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function SU(e){return ce.isArray(e)&&!e.some(Ab)}const kU=ce.toFlatObject(ce,{},null,function(t){return/^is[A-Z]/.test(t)});function Xh(e,t,r){if(!ce.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ce.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!ce.isUndefined(j[w])});const n=r.metaTokens,a=r.visitor||m,i=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&ce.isSpecCompliantForm(t);if(!ce.isFunction(a))throw new TypeError("visitor must be a function");function f(y){if(y===null)return"";if(ce.isDate(y))return y.toISOString();if(ce.isBoolean(y))return y.toString();if(!d&&ce.isBlob(y))throw new tt("Blob is not supported. Use a Buffer instead.");return ce.isArrayBuffer(y)||ce.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,w,j){let S=y;if(y&&!j&&typeof y=="object"){if(ce.endsWith(w,"{}"))w=n?w:w.slice(0,-2),y=JSON.stringify(y);else if(ce.isArray(y)&&SU(y)||(ce.isFileList(y)||ce.endsWith(w,"[]"))&&(S=ce.toArray(y)))return w=cO(w),S.forEach(function(k,E){!(ce.isUndefined(k)||k===null)&&t.append(l===!0?n5([w],E,i):l===null?w:w+"[]",f(k))}),!1}return Ab(y)?!0:(t.append(n5(j,w,i),f(y)),!1)}const h=[],x=Object.assign(kU,{defaultVisitor:m,convertValue:f,isVisitable:Ab});function v(y,w){if(!ce.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(y),ce.forEach(y,function(S,P){(!(ce.isUndefined(S)||S===null)&&a.call(t,S,ce.isString(P)?P.trim():P,w,x))===!0&&v(S,w?w.concat(P):[P])}),h.pop()}}if(!ce.isObject(e))throw new TypeError("data must be an object");return v(e),t}function s5(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Iw(e,t){this._pairs=[],e&&Xh(e,this,t)}const uO=Iw.prototype;uO.append=function(t,r){this._pairs.push([t,r])};uO.toString=function(t){const r=t?function(n){return t.call(this,n,s5)}:s5;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function PU(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function dO(e,t,r){if(!t)return e;const n=r&&r.encode||PU;ce.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=ce.isURLSearchParams(t)?t.toString():new Iw(t,r).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class a5{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ce.forEach(this.handlers,function(n){n!==null&&t(n)})}}const fO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CU=typeof URLSearchParams<"u"?URLSearchParams:Iw,EU=typeof FormData<"u"?FormData:null,AU=typeof Blob<"u"?Blob:null,zU={isBrowser:!0,classes:{URLSearchParams:CU,FormData:EU,Blob:AU},protocols:["http","https","file","blob","url","data"]},Dw=typeof window<"u"&&typeof document<"u",zb=typeof navigator=="object"&&navigator||void 0,OU=Dw&&(!zb||["ReactNative","NativeScript","NS"].indexOf(zb.product)<0),TU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",MU=Dw&&window.location.href||"http://localhost",IU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Dw,hasStandardBrowserEnv:OU,hasStandardBrowserWebWorkerEnv:TU,navigator:zb,origin:MU},Symbol.toStringTag,{value:"Module"})),en={...IU,...zU};function DU(e,t){return Xh(e,new en.classes.URLSearchParams,{visitor:function(r,n,a,i){return en.isNode&&ce.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function RU(e){return ce.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function _U(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function mO(e){function t(r,n,a,i){let l=r[i++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=i>=r.length;return l=!l&&ce.isArray(a)?a.length:l,d?(ce.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!c):((!a[l]||!ce.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],i)&&ce.isArray(a[l])&&(a[l]=_U(a[l])),!c)}if(ce.isFormData(e)&&ce.isFunction(e.entries)){const r={};return ce.forEachEntry(e,(n,a)=>{t(RU(n),a,r,0)}),r}return null}function LU(e,t,r){if(ce.isString(e))try{return(t||JSON.parse)(e),ce.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const nd={transitional:fO,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=ce.isObject(t);if(i&&ce.isHTMLForm(t)&&(t=new FormData(t)),ce.isFormData(t))return a?JSON.stringify(mO(t)):t;if(ce.isArrayBuffer(t)||ce.isBuffer(t)||ce.isStream(t)||ce.isFile(t)||ce.isBlob(t)||ce.isReadableStream(t))return t;if(ce.isArrayBufferView(t))return t.buffer;if(ce.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return DU(t,this.formSerializer).toString();if((c=ce.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Xh(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),LU(t)):t}],transformResponse:[function(t){const r=this.transitional||nd.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ce.isResponse(t)||ce.isReadableStream(t))return t;if(t&&ce.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?tt.from(c,tt.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ce.forEach(["delete","get","head","post","put","patch"],e=>{nd.headers[e]={}});const $U=ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FU=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&$U[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},i5=Symbol("internals");function Uc(e){return e&&String(e).trim().toLowerCase()}function ym(e){return e===!1||e==null?e:ce.isArray(e)?e.map(ym):String(e)}function BU(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const VU=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ig(e,t,r,n,a){if(ce.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!ce.isString(t)){if(ce.isString(n))return t.indexOf(n)!==-1;if(ce.isRegExp(n))return n.test(t)}}function UU(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function WU(e,t){const r=ce.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,l){return this[n].call(this,t,a,i,l)},configurable:!0})})}let Tn=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(c,d,f){const m=Uc(d);if(!m)throw new Error("header name must be a non-empty string");const h=ce.findKey(a,m);(!h||a[h]===void 0||f===!0||f===void 0&&a[h]!==!1)&&(a[h||d]=ym(c))}const l=(c,d)=>ce.forEach(c,(f,m)=>i(f,m,d));if(ce.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(ce.isString(t)&&(t=t.trim())&&!VU(t))l(FU(t),r);else if(ce.isObject(t)&&ce.isIterable(t)){let c={},d,f;for(const m of t){if(!ce.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[f=m[0]]=(d=c[f])?ce.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}l(c,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Uc(t),t){const n=ce.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return BU(a);if(ce.isFunction(r))return r.call(this,a,n);if(ce.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Uc(t),t){const n=ce.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||ig(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(l){if(l=Uc(l),l){const c=ce.findKey(n,l);c&&(!r||ig(n,n[c],c,r))&&(delete n[c],a=!0)}}return ce.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||ig(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return ce.forEach(this,(a,i)=>{const l=ce.findKey(n,i);if(l){r[l]=ym(a),delete r[i];return}const c=t?UU(i):String(i).trim();c!==i&&delete r[i],r[c]=ym(a),n[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ce.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&ce.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[i5]=this[i5]={accessors:{}}).accessors,a=this.prototype;function i(l){const c=Uc(l);n[c]||(WU(a,l),n[c]=!0)}return ce.isArray(t)?t.forEach(i):i(t),this}};Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ce.reduceDescriptors(Tn.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ce.freezeMethods(Tn);function og(e,t){const r=this||nd,n=t||r,a=Tn.from(n.headers);let i=n.data;return ce.forEach(e,function(c){i=c.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function hO(e){return!!(e&&e.__CANCEL__)}function Wl(e,t,r){tt.call(this,e??"canceled",tt.ERR_CANCELED,t,r),this.name="CanceledError"}ce.inherits(Wl,tt,{__CANCEL__:!0});function pO(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new tt("Request failed with status code "+r.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function KU(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qU(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,l;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),m=n[i];l||(l=f),r[a]=d,n[a]=f;let h=i,x=0;for(;h!==a;)x+=r[h++],h=h%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),f-l<t)return;const v=m&&f-m;return v?Math.round(x*1e3/v):void 0}}function HU(e,t){let r=0,n=1e3/t,a,i;const l=(f,m=Date.now())=>{r=m,a=null,i&&(clearTimeout(i),i=null),e(...f)};return[(...f)=>{const m=Date.now(),h=m-r;h>=n?l(f,m):(a=f,i||(i=setTimeout(()=>{i=null,l(a)},n-h)))},()=>a&&l(a)]}const _m=(e,t,r=3)=>{let n=0;const a=qU(50,250);return HU(i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,d=l-n,f=a(d),m=l<=c;n=l;const h={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:f||void 0,estimated:f&&c&&m?(c-l)/f:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(h)},r)},o5=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},l5=e=>(...t)=>ce.asap(()=>e(...t)),GU=en.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,en.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,YU=en.hasStandardBrowserEnv?{write(e,t,r,n,a,i,l){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(t)}`];ce.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),ce.isString(n)&&c.push(`path=${n}`),ce.isString(a)&&c.push(`domain=${a}`),i===!0&&c.push("secure"),ce.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function XU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function QU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function xO(e,t,r){let n=!XU(t);return e&&(n||r==!1)?QU(e,t):t}const c5=e=>e instanceof Tn?{...e}:e;function wo(e,t){t=t||{};const r={};function n(f,m,h,x){return ce.isPlainObject(f)&&ce.isPlainObject(m)?ce.merge.call({caseless:x},f,m):ce.isPlainObject(m)?ce.merge({},m):ce.isArray(m)?m.slice():m}function a(f,m,h,x){if(ce.isUndefined(m)){if(!ce.isUndefined(f))return n(void 0,f,h,x)}else return n(f,m,h,x)}function i(f,m){if(!ce.isUndefined(m))return n(void 0,m)}function l(f,m){if(ce.isUndefined(m)){if(!ce.isUndefined(f))return n(void 0,f)}else return n(void 0,m)}function c(f,m,h){if(h in t)return n(f,m);if(h in e)return n(void 0,f)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(f,m,h)=>a(c5(f),c5(m),h,!0)};return ce.forEach(Object.keys({...e,...t}),function(m){const h=d[m]||a,x=h(e[m],t[m],m);ce.isUndefined(x)&&h!==c||(r[m]=x)}),r}const gO=e=>{const t=wo({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:c}=t;if(t.headers=l=Tn.from(l),t.url=dO(xO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ce.isFormData(r)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(ce.isFunction(r.getHeaders)){const d=r.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([m,h])=>{f.includes(m.toLowerCase())&&l.set(m,h)})}}if(en.hasStandardBrowserEnv&&(n&&ce.isFunction(n)&&(n=n(t)),n||n!==!1&&GU(t.url))){const d=a&&i&&YU.read(i);d&&l.set(a,d)}return t},ZU=typeof XMLHttpRequest<"u",JU=ZU&&function(e){return new Promise(function(r,n){const a=gO(e);let i=a.data;const l=Tn.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:f}=a,m,h,x,v,y;function w(){v&&v(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function S(){if(!j)return;const k=Tn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),A={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:k,config:e,request:j};pO(function(O){r(O),w()},function(O){n(O),w()},A),j=null}"onloadend"in j?j.onloadend=S:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(S)},j.onabort=function(){j&&(n(new tt("Request aborted",tt.ECONNABORTED,e,j)),j=null)},j.onerror=function(E){const A=E&&E.message?E.message:"Network Error",z=new tt(A,tt.ERR_NETWORK,e,j);z.event=E||null,n(z),j=null},j.ontimeout=function(){let E=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||fO;a.timeoutErrorMessage&&(E=a.timeoutErrorMessage),n(new tt(E,A.clarifyTimeoutError?tt.ETIMEDOUT:tt.ECONNABORTED,e,j)),j=null},i===void 0&&l.setContentType(null),"setRequestHeader"in j&&ce.forEach(l.toJSON(),function(E,A){j.setRequestHeader(A,E)}),ce.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),c&&c!=="json"&&(j.responseType=a.responseType),f&&([x,y]=_m(f,!0),j.addEventListener("progress",x)),d&&j.upload&&([h,v]=_m(d),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(m=k=>{j&&(n(!k||k.type?new Wl(null,e,j):k),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const P=KU(a.url);if(P&&en.protocols.indexOf(P)===-1){n(new tt("Unsupported protocol "+P+":",tt.ERR_BAD_REQUEST,e));return}j.send(i||null)})},eW=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(f){if(!a){a=!0,c();const m=f instanceof Error?f:this.reason;n.abort(m instanceof tt?m:new Wl(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,i(new tt(`timeout ${t} of ms exceeded`,tt.ETIMEDOUT))},t);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>ce.asap(c),d}},tW=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},rW=async function*(e,t){for await(const r of nW(e))yield*tW(r,t)},nW=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},u5=(e,t,r,n)=>{const a=rW(e,t);let i=0,l,c=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await a.next();if(f){c(),d.close();return}let h=m.byteLength;if(r){let x=i+=h;r(x)}d.enqueue(new Uint8Array(m))}catch(f){throw c(f),f}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},d5=64*1024,{isFunction:Vf}=ce,sW=(({Request:e,Response:t})=>({Request:e,Response:t}))(ce.global),{ReadableStream:f5,TextEncoder:m5}=ce.global,h5=(e,...t)=>{try{return!!e(...t)}catch{return!1}},aW=e=>{e=ce.merge.call({skipUndefined:!0},sW,e);const{fetch:t,Request:r,Response:n}=e,a=t?Vf(t):typeof fetch=="function",i=Vf(r),l=Vf(n);if(!a)return!1;const c=a&&Vf(f5),d=a&&(typeof m5=="function"?(y=>w=>y.encode(w))(new m5):async y=>new Uint8Array(await new r(y).arrayBuffer())),f=i&&c&&h5(()=>{let y=!1;const w=new r(en.origin,{body:new f5,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),m=l&&c&&h5(()=>ce.isReadableStream(new n("").body)),h={stream:m&&(y=>y.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(w,j)=>{let S=w&&w[y];if(S)return S.call(w);throw new tt(`Response type '${y}' is not supported`,tt.ERR_NOT_SUPPORT,j)})});const x=async y=>{if(y==null)return 0;if(ce.isBlob(y))return y.size;if(ce.isSpecCompliantForm(y))return(await new r(en.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(ce.isArrayBufferView(y)||ce.isArrayBuffer(y))return y.byteLength;if(ce.isURLSearchParams(y)&&(y=y+""),ce.isString(y))return(await d(y)).byteLength},v=async(y,w)=>{const j=ce.toFiniteNumber(y.getContentLength());return j??x(w)};return async y=>{let{url:w,method:j,data:S,signal:P,cancelToken:k,timeout:E,onDownloadProgress:A,onUploadProgress:z,responseType:O,headers:T,withCredentials:R="same-origin",fetchOptions:I}=gO(y),D=t||fetch;O=O?(O+"").toLowerCase():"text";let _=eW([P,k&&k.toAbortSignal()],E),F=null;const W=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let ne;try{if(z&&f&&j!=="get"&&j!=="head"&&(ne=await v(T,S))!==0){let U=new r(w,{method:"POST",body:S,duplex:"half"}),X;if(ce.isFormData(S)&&(X=U.headers.get("content-type"))&&T.setContentType(X),U.body){const[me,de]=o5(ne,_m(l5(z)));S=u5(U.body,d5,me,de)}}ce.isString(R)||(R=R?"include":"omit");const Q=i&&"credentials"in r.prototype,V={...I,signal:_,method:j.toUpperCase(),headers:T.normalize().toJSON(),body:S,duplex:"half",credentials:Q?R:void 0};F=i&&new r(w,V);let q=await(i?D(F,I):D(w,V));const te=m&&(O==="stream"||O==="response");if(m&&(A||te&&W)){const U={};["status","statusText","headers"].forEach(ve=>{U[ve]=q[ve]});const X=ce.toFiniteNumber(q.headers.get("content-length")),[me,de]=A&&o5(X,_m(l5(A),!0))||[];q=new n(u5(q.body,d5,me,()=>{de&&de(),W&&W()}),U)}O=O||"text";let se=await h[ce.findKey(h,O)||"text"](q,y);return!te&&W&&W(),await new Promise((U,X)=>{pO(U,X,{data:se,headers:Tn.from(q.headers),status:q.status,statusText:q.statusText,config:y,request:F})})}catch(Q){throw W&&W(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new tt("Network Error",tt.ERR_NETWORK,y,F),{cause:Q.cause||Q}):tt.from(Q,Q&&Q.code,y,F)}}},iW=new Map,vO=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let l=i.length,c=l,d,f,m=iW;for(;c--;)d=i[c],f=m.get(d),f===void 0&&m.set(d,f=c?new Map:aW(t)),m=f;return f};vO();const Rw={http:NU,xhr:JU,fetch:{get:vO}};ce.forEach(Rw,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const p5=e=>`- ${e}`,oW=e=>ce.isFunction(e)||e===null||e===!1;function lW(e,t){e=ce.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let l=0;l<r;l++){n=e[l];let c;if(a=n,!oW(n)&&(a=Rw[(c=String(n)).toLowerCase()],a===void 0))throw new tt(`Unknown adapter '${c}'`);if(a&&(ce.isFunction(a)||(a=a.get(t))))break;i[c||"#"+l]=a}if(!a){const l=Object.entries(i).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=r?l.length>1?`since :
`+l.map(p5).join(`
`):" "+p5(l[0]):"as no adapter specified";throw new tt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a}const bO={getAdapter:lW,adapters:Rw};function lg(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Wl(null,e)}function x5(e){return lg(e),e.headers=Tn.from(e.headers),e.data=og.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bO.getAdapter(e.adapter||nd.adapter,e)(e).then(function(n){return lg(e),n.data=og.call(e,e.transformResponse,n),n.headers=Tn.from(n.headers),n},function(n){return hO(n)||(lg(e),n&&n.response&&(n.response.data=og.call(e,e.transformResponse,n.response),n.response.headers=Tn.from(n.response.headers))),Promise.reject(n)})}const yO="1.13.2",Qh={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qh[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const g5={};Qh.transitional=function(t,r,n){function a(i,l){return"[Axios v"+yO+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,c)=>{if(t===!1)throw new tt(a(l," has been removed"+(r?" in "+r:"")),tt.ERR_DEPRECATED);return r&&!g5[l]&&(g5[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,c):!0}};Qh.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function cW(e,t,r){if(typeof e!="object")throw new tt("options must be an object",tt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],l=t[i];if(l){const c=e[i],d=c===void 0||l(c,i,e);if(d!==!0)throw new tt("option "+i+" must be "+d,tt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new tt("Unknown option "+i,tt.ERR_BAD_OPTION)}}const wm={assertOptions:cW,validators:Qh},Us=wm.validators;let co=class{constructor(t){this.defaults=t||{},this.interceptors={request:new a5,response:new a5}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=wo(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&wm.assertOptions(n,{silentJSONParsing:Us.transitional(Us.boolean),forcedJSONParsing:Us.transitional(Us.boolean),clarifyTimeoutError:Us.transitional(Us.boolean)},!1),a!=null&&(ce.isFunction(a)?r.paramsSerializer={serialize:a}:wm.assertOptions(a,{encode:Us.function,serialize:Us.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),wm.assertOptions(r,{baseUrl:Us.spelling("baseURL"),withXsrfToken:Us.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&ce.merge(i.common,i[r.method]);i&&ce.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=Tn.concat(l,i);const c=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(d=d&&w.synchronous,c.unshift(w.fulfilled,w.rejected))});const f=[];this.interceptors.response.forEach(function(w){f.push(w.fulfilled,w.rejected)});let m,h=0,x;if(!d){const y=[x5.bind(this),void 0];for(y.unshift(...c),y.push(...f),x=y.length,m=Promise.resolve(r);h<x;)m=m.then(y[h++],y[h++]);return m}x=c.length;let v=r;for(;h<x;){const y=c[h++],w=c[h++];try{v=y(v)}catch(j){w.call(this,j);break}}try{m=x5.call(this,v)}catch(y){return Promise.reject(y)}for(h=0,x=f.length;h<x;)m=m.then(f[h++],f[h++]);return m}getUri(t){t=wo(this.defaults,t);const r=xO(t.baseURL,t.url,t.allowAbsoluteUrls);return dO(r,t.params,t.paramsSerializer)}};ce.forEach(["delete","get","head","options"],function(t){co.prototype[t]=function(r,n){return this.request(wo(n||{},{method:t,url:r,data:(n||{}).data}))}});ce.forEach(["post","put","patch"],function(t){function r(n){return function(i,l,c){return this.request(wo(c||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}co.prototype[t]=r(),co.prototype[t+"Form"]=r(!0)});let uW=class wO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(c=>{n.subscribe(c),i=c}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,c){n.reason||(n.reason=new Wl(i,l,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new wO(function(a){t=a}),cancel:t}}};function dW(e){return function(r){return e.apply(null,r)}}function fW(e){return ce.isObject(e)&&e.isAxiosError===!0}const Ob={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ob).forEach(([e,t])=>{Ob[t]=e});function jO(e){const t=new co(e),r=J3(co.prototype.request,t);return ce.extend(r,co.prototype,t,{allOwnKeys:!0}),ce.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return jO(wo(e,a))},r}const nr=jO(nd);nr.Axios=co;nr.CanceledError=Wl;nr.CancelToken=uW;nr.isCancel=hO;nr.VERSION=yO;nr.toFormData=Xh;nr.AxiosError=tt;nr.Cancel=nr.CanceledError;nr.all=function(t){return Promise.all(t)};nr.spread=dW;nr.isAxiosError=fW;nr.mergeConfig=wo;nr.AxiosHeaders=Tn;nr.formToJSON=e=>mO(ce.isHTMLForm(e)?new FormData(e):e);nr.getAdapter=bO.getAdapter;nr.HttpStatusCode=Ob;nr.default=nr;const{Axios:nme,AxiosError:sme,CanceledError:ame,isCancel:ime,CancelToken:ome,VERSION:lme,all:cme,Cancel:ume,isAxiosError:dme,spread:fme,toFormData:mme,AxiosHeaders:hme,HttpStatusCode:pme,formToJSON:xme,getAdapter:gme,mergeConfig:vme}=nr,mW="/api",we=nr.create({baseURL:mW,timeout:3e4,headers:{"Content-Type":"application/json"},withCredentials:!0});we.interceptors.request.use(e=>{const t=rt.getState(),{token:r,branchId:n}=t;return r&&(e.headers.Authorization=`Bearer ${r}`),n&&(e.headers["x-branch-id"]=n),e},e=>Promise.reject(e));we.interceptors.response.use(e=>e,e=>{var t;if(((t=e.response)==null?void 0:t.status)===401){console.error("[API]  Unauthorized - clearing auth");const{logout:r}=rt.getState();r(),window.location.href="/login"}return Promise.reject(e)});const ln={auth:{login:(e,t)=>we.post("/auth/login",{email:e,password:t}),logout:()=>we.post("/auth/logout"),getMe:()=>we.get("/auth/me")},products:{list:e=>we.get("/products",{params:e}),get:e=>we.get(`/products/${e}`)},sales:{list:e=>we.get("/sales",{params:e}),get:e=>we.get(`/sales/${e}`),create:e=>we.post("/sales",e),recordCreditPayment:(e,t)=>we.post(`/sales/${e}/payment`,t),searchCustomers:e=>we.get("/sales/customers/search",{params:{q:e}})},dashboard:{stats:()=>we.get("/dashboard/stats"),branch:e=>we.get(`/dashboard/branch/${e}`)},customers:{stats:e=>we.get("/customers/stats",{params:e}),list:e=>we.get("/customers",{params:e}),get:e=>we.get(`/customers/${e}`),details:e=>we.get(`/customers/${e}`),update:(e,t)=>we.put(`/customers/${e}`,t)},branches:{list:()=>we.get("/branches")}};class hW{async sendQuery(t,r,n){const a=r==="MANAGER"?"/manager-ai/query":"/admin-ai/query";return(await we.post(a,{message:t,conversationId:r!=="MANAGER"?n:void 0})).data}async getUsage(t){const r=t==="MANAGER"?"/manager-ai/usage":"/admin-ai/usage";return(await we.get(r)).data}async getConversations(){return(await we.get("/admin-ai/conversations")).data.conversations}async getConversation(t){return(await we.get(`/admin-ai/conversations/${t}`)).data.conversation}async createConversation(t){return(await we.post("/admin-ai/conversations",{title:t})).data.conversation}async deleteConversation(t){await we.delete(`/admin-ai/conversations/${t}`)}}const Lm=new hW;function NO({isOpen:e,onClose:t,userRole:r,userName:n,branchId:a,branchName:i,externalConversationId:l,onConversationChange:c,onToggleSidebar:d,isSidebarOpen:f=!1}){const[m,h]=g.useState([]),[x,v]=g.useState(""),[y,w]=g.useState(!1),[j,S]=g.useState(null),[P,k]=g.useState(null),[E,A]=g.useState(!1),z=g.useRef(null),O=g.useRef(null);g.useEffect(()=>{var V;(V=z.current)==null||V.scrollIntoView({behavior:"smooth"})},[m]),g.useEffect(()=>{e&&setTimeout(()=>{var V;return(V=O.current)==null?void 0:V.focus()},100)},[e]),g.useEffect(()=>{l&&r!=="MANAGER"?T(l):l===null&&D()},[l]);const T=async V=>{try{w(!0);const te=(await Lm.getConversation(V)).messages.map(se=>({id:se.id,role:se.role,content:se.content,timestamp:new Date(se.createdAt)}));h(te),S(V),k(null)}catch(q){console.error("Error loading conversation:",q),xe.error("Failed to load conversation")}finally{w(!1)}},R=async()=>{var q,te,se,U;if(!x.trim()||y)return;const V={id:Date.now().toString(),role:"user",content:x,timestamp:new Date};h(X=>[...X,V]),v(""),w(!0),k(null);try{const X=await Lm.sendQuery(x,r,j||void 0);r!=="MANAGER"&&X.conversationId&&(S(X.conversationId),c==null||c(X.conversationId));const me={id:(Date.now()+1).toString(),role:"assistant",content:X.response,timestamp:new Date};h(de=>[...de,me])}catch(X){console.error("AI query error:",X);const me=((te=(q=X.response)==null?void 0:q.data)==null?void 0:te.error)||((U=(se=X.response)==null?void 0:se.data)==null?void 0:U.message)||X.message||"Failed to get AI response";k(me),xe.error(me)}finally{w(!1)}},I=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),R())},D=()=>{h([]),S(null),k(null),c==null||c(null)},_=()=>{const V=m.map(U=>`[${U.role.toUpperCase()}] ${U.timestamp.toLocaleString()}
${U.content}
`).join(`
---

`),q=new Blob([V],{type:"text/plain"}),te=URL.createObjectURL(q),se=document.createElement("a");se.href=te,se.download=`josea-ai-${Date.now()}.txt`,se.click(),xe.success("Conversation exported")};if(!e)return null;const F=E?"100vw":"600px",W=E?"100vh":"82vh",ne=E?"100vh":"740px",Q=E?"fixed inset-0":"fixed bottom-6 right-6";return s.jsx(Ve,{children:s.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},className:`${Q} bg-slate-950 border border-slate-800/50 flex flex-col z-[999] ${E?"":"rounded-xl shadow-2xl"}`,style:{width:F,height:W,maxHeight:ne},children:[s.jsx("div",{className:"flex-none border-b border-slate-800/50 bg-slate-950/95 backdrop-blur-sm",children:s.jsxs("div",{className:"flex items-center justify-between px-4 h-14",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[r!=="MANAGER"&&!E&&s.jsx("button",{onClick:d,className:"p-1.5 hover:bg-slate-800 rounded-md transition-colors text-slate-400 hover:text-white",title:f?"Close history":"Open history",children:f?s.jsx(tz,{className:"w-4 h-4"}):s.jsx(rz,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-white text-sm font-semibold",children:"Josea AI"}),s.jsx("p",{className:"text-slate-500 text-xs",children:r==="MANAGER"?`${i} Assistant`:"Business Intelligence"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[m.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:_,className:"px-3 py-1.5 text-xs font-medium text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors flex items-center gap-1.5",title:"Export conversation",children:[s.jsx(ez,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),s.jsxs("button",{onClick:D,className:"px-3 py-1.5 text-xs font-medium text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors flex items-center gap-1.5",title:"Clear conversation",children:[s.jsx(Pl,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]}),s.jsx("button",{onClick:()=>A(!E),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all flex items-center gap-1.5 ${E?"bg-purple-600 text-white hover:bg-purple-700":"text-slate-400 hover:text-white hover:bg-slate-800"}`,title:E?"Exit fullscreen":"Fullscreen",children:E?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Exit"})]}):s.jsxs(s.Fragment,{children:[s.jsx(To,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Expand"})]})}),s.jsxs("button",{onClick:t,className:"px-3 py-1.5 text-xs font-medium text-slate-400 hover:text-red-400 hover:bg-red-950/50 rounded-lg transition-colors flex items-center gap-1.5",title:"Close Josea AI",children:[s.jsx(Ze,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Close"})]})]})]})}),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6",children:[m.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700/50 flex items-center justify-center mb-6 shadow-xl",children:s.jsx("span",{className:"font-serif text-3xl font-bold text-purple-400",children:"J"})}),r!=="MANAGER"&&s.jsx("p",{className:"text-purple-400 text-xs font-semibold uppercase tracking-wider mb-3",children:"Enterprise Intelligence"}),s.jsxs("h3",{className:"text-white text-lg font-semibold mb-2",children:["Welcome, ",n]}),s.jsx("p",{className:"text-slate-300 text-sm max-w-md leading-relaxed mb-1 font-medium",children:r==="MANAGER"?`Your intelligent assistant for ${i}.`:"Your intelligent business analyst at your command."}),s.jsx("p",{className:"text-slate-400 text-sm max-w-md leading-relaxed mb-6",children:r==="MANAGER"?"Ask about daily operations, sales performance, inventory status, or customer insights.":"Get instant answers about sales, inventory, customers, branch performance, and operational metrics across your entire business."}),s.jsxs("div",{className:"mt-8 relative",children:[s.jsx("div",{className:"absolute inset-0 bg-purple-500/10 blur-xl rounded-full animate-pulse"}),s.jsxs("div",{className:"relative bg-gradient-to-r from-slate-900 via-purple-900/20 to-slate-900 border border-purple-500/30 rounded-xl px-8 py-3.5 shadow-xl",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5",children:[s.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-semibold",children:"Powered by"}),s.jsx("span",{className:"text-base font-bold bg-gradient-to-r from-purple-400 via-purple-300 to-purple-400 bg-clip-text text-transparent",children:"Josea Software Solutions"})]}),s.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-2/3 h-px bg-gradient-to-r from-transparent via-purple-500/50 to-transparent"})]})]})]}),m.map(V=>s.jsx(pW,{message:V},V.id)),y&&s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700/50 flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx("span",{className:"font-serif text-sm font-bold text-purple-400",children:"J"})}),s.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 shadow-lg",children:s.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[s.jsx(vt,{className:"w-4 h-4 animate-spin text-purple-400"}),s.jsx("span",{className:"text-sm",children:"Analyzing your request..."})]})})]}),P&&s.jsxs("div",{className:"bg-red-950/50 border border-red-900/50 rounded-lg p-4 flex items-start gap-3",children:[s.jsx(tn,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-red-200",children:"Error"}),s.jsx("p",{className:"text-sm text-red-300/80 mt-1",children:P})]})]}),s.jsx("div",{ref:z})]}),s.jsxs("div",{className:"flex-none border-t border-slate-800/50 bg-slate-950 p-4",children:[s.jsxs("div",{className:"flex gap-2.5",children:[s.jsx("textarea",{ref:O,value:x,onChange:V=>v(V.target.value),onKeyDown:I,placeholder:"Ask a question...",rows:1,className:"flex-1 bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:border-purple-500/50 focus:ring-2 focus:ring-purple-500/20 resize-none text-sm leading-relaxed shadow-inner",style:{minHeight:"48px",maxHeight:"120px"},disabled:y}),s.jsxs("button",{onClick:R,disabled:!x.trim()||y,className:"px-5 py-3 bg-purple-600 hover:bg-purple-700 disabled:bg-slate-800 disabled:cursor-not-allowed disabled:opacity-50 text-white rounded-xl transition-all text-sm font-medium flex-shrink-0 shadow-lg hover:shadow-purple-500/20 flex items-center gap-2",children:[s.jsx(F$,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Send"})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3 px-1",children:[s.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:s.jsx("span",{children:r==="MANAGER"?`${i}  Last 14 days`:"Full business access"})}),s.jsxs("span",{className:"text-xs text-slate-600",children:[s.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-800 border border-slate-700 rounded text-[10px]",children:"Enter"})," to send"]})]})]})]})]})})}function pW({message:e}){const[t,r]=g.useState(!1),n=()=>{navigator.clipboard.writeText(e.content),r(!0),xe.success("Copied"),setTimeout(()=>r(!1),2e3)};return e.role==="user"?s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"max-w-[85%]",children:[s.jsx("div",{className:"bg-purple-600 text-white rounded-xl px-4 py-3 shadow-lg",children:s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.content})}),s.jsx("div",{className:"flex items-center justify-end gap-2 mt-1.5",children:s.jsx("p",{className:"text-xs text-slate-600",children:e.timestamp.toLocaleTimeString()})})]})}):s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-slate-900 to-slate-800 border border-slate-700/50 flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx("span",{className:"font-serif text-sm font-bold text-purple-400",children:"J"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl px-4 py-3 group relative shadow-lg",children:[s.jsx("div",{className:"prose prose-invert prose-sm max-w-none",children:s.jsx(xW,{content:e.content})}),s.jsx("button",{onClick:n,className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all p-1.5 hover:bg-slate-800 rounded-lg text-slate-500 hover:text-white text-xs font-medium",title:"Copy",children:t?"":"Copy"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[s.jsx("p",{className:"text-xs text-slate-600",children:e.timestamp.toLocaleTimeString()}),s.jsx("span",{className:"text-xs text-slate-700",children:""}),s.jsx("p",{className:"text-xs text-slate-600",children:"Josea AI"})]})]})]})}function xW({content:e}){const t=r=>{if(r.includes("|")){const a=r.split(`
`).filter(i=>i.trim().startsWith("|"));if(a.length>0)return s.jsx("div",{className:"overflow-x-auto my-4 rounded-lg border border-slate-800",children:s.jsx("table",{className:"min-w-full text-sm",children:s.jsx("tbody",{className:"divide-y divide-slate-800",children:a.map((i,l)=>{const c=i.split("|").filter(d=>d.trim()).map(d=>d.trim());return c.every(d=>d.match(/^[-:]+$/))?null:s.jsx("tr",{className:l===0?"bg-slate-800/50":"",children:c.map((d,f)=>{const m=l===0?"th":"td";return s.jsx(m,{className:`px-4 py-2.5 text-left ${l===0?"font-semibold text-white text-xs uppercase":"text-slate-300"}`,children:d},f)})},l)})})})})}if(r=r.replace(/\*\*(.*?)\*\*/g,'<strong class="text-white font-semibold">$1</strong>'),r.includes(`
- `)){const n=r.split(`
- `);return s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-200",children:n[0]}),s.jsx("ul",{className:"space-y-1 mt-2 ml-4",children:n.slice(1).map((a,i)=>s.jsx("li",{className:"text-slate-300 list-disc",children:s.jsx("span",{dangerouslySetInnerHTML:{__html:a}})},i))})]})}return s.jsx("p",{dangerouslySetInnerHTML:{__html:r},className:"whitespace-pre-wrap text-slate-200"})};return s.jsx("div",{children:t(e)})}const gW={"/":"Dashboard","/pos":"POS","/inventory":"Inventory","/sales":"Sales","/restock":"Restock","/debts":"Debts","/transfers":"Transfers","/credits":"Credits"};function vW(){const e=Mn(),t=rt(m=>m.isSidebarOpen),r=rt(m=>m.setSidebarOpen),n=rt(m=>m.branchName),a=rt(m=>m.userName),i=rt(m=>m.userRole),l=rt(m=>m.branchId),c=gW[e.pathname]||"Dashboard",[d,f]=g.useState(!1);return g.useEffect(()=>{e.pathname!=="/sales"&&e.pathname!=="/pos"?r(!0):r(!1)},[e.pathname,r]),s.jsxs("div",{className:"min-h-screen bg-[var(--color-main-bg)]",children:[t&&s.jsx(q$,{}),s.jsx("header",{className:"fixed top-0 right-0 z-30 h-16 transition-all duration-300",style:{left:t?"var(--sidebar-width)":"0",backgroundColor:"rgb(9 9 11 / 0.8)",backdropFilter:"blur(12px)",borderBottom:"1px solid rgb(39 39 42)"},children:s.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[t&&s.jsx("button",{onClick:()=>r(!1),className:"p-2 rounded-lg hover:bg-blue-500/20 transition-colors","aria-label":"Close sidebar",children:s.jsx(RS,{className:"w-5 h-5 text-blue-500"})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-slate-500 uppercase tracking-wider font-medium",children:"PRAM AUTO"}),s.jsx("span",{className:"text-slate-600",children:"/"}),e.pathname==="/pos"?s.jsxs("span",{className:"font-bold uppercase tracking-wide",children:[s.jsx("span",{className:"text-purple-400 italic",children:"Josea"}),s.jsx("span",{className:"text-white",children:" POS"})]}):s.jsx("span",{className:"text-white font-bold uppercase tracking-wide",children:c})]})]}),s.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:s.jsx("div",{className:"px-6 py-2 rounded-lg bg-zinc-900/50 border border-zinc-800",children:s.jsx("p",{className:"text-emerald-400 font-bold text-sm uppercase tracking-widest",children:n})})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-zinc-900/50",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute inset-0 w-2 h-2 bg-emerald-500 rounded-full animate-ping opacity-75"})]}),s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"LIVE"})]}),s.jsxs("button",{className:"p-2 rounded-lg hover:bg-zinc-800/50 transition-colors relative","aria-label":"Notifications",children:[s.jsx(Ky,{className:"w-5 h-5 text-slate-300"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-zinc-900/50 border border-zinc-800 hover:bg-zinc-800/50 transition-colors",children:[s.jsx("div",{className:"w-7 h-7 rounded-full bg-[var(--color-accent)] flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:a.charAt(0).toUpperCase()})}),s.jsx("span",{className:"text-sm font-medium text-white",children:a}),s.jsx(Wr,{className:"w-4 h-4 text-slate-400"})]})]})]})}),s.jsx("main",{className:"min-h-screen transition-all duration-300",style:{marginLeft:t?"var(--sidebar-width)":"0",paddingTop:"var(--topbar-height)"},children:s.jsxs("div",{className:"relative p-8",children:[!t&&s.jsx("button",{onClick:()=>r(!0),className:"fixed top-20 left-4 z-50 p-3 bg-blue-600 text-white rounded-lg shadow-xl hover:bg-blue-700 transition-all","aria-label":"Open sidebar",children:s.jsx(RS,{className:"w-5 h-5"})}),s.jsx(Fy,{})]})}),s.jsx("div",{className:"fixed bottom-4 right-4 pointer-events-none z-10",children:s.jsx("p",{className:"text-slate-700 text-xs font-mono uppercase tracking-wider opacity-20",children:"JOSEA POS v1.0"})}),s.jsx(Z3,{onClick:()=>f(!d),userRole:i||"MANAGER",isOpen:d}),s.jsx(NO,{isOpen:d,onClose:()=>f(!1),userRole:i||"MANAGER",userName:a||"User",branchId:l||void 0,branchName:n||"Branch"})]})}const bW=[{id:"intelligence",label:"INTELLIGENCE",type:"single",path:"/admin/command-center",icon:$h,index:"00",exists:!0},{id:"supply",label:"SUPPLY CHAIN",type:"group",icon:_$,index:"01",items:[{name:"Global Inventory",path:"/admin/inventory",icon:iz,exists:!0},{name:"Stock Allocation",path:"/admin/allocation",icon:gu,exists:!0},{name:"Branch Orders",path:"/admin/orders",icon:Os,exists:!0},{name:"Procurements",path:"/admin/procurement",icon:ct,exists:!0},{name:"Supplier Registry",path:"/admin/suppliers",icon:bo,exists:!1}]},{id:"revenue",label:"REVENUE OPS",type:"group",icon:xr,index:"02",items:[{name:"Sales Audit",path:"/admin/audit",icon:mn,exists:!0},{name:"Debt Portfolio",path:"/admin/debts",icon:Or,exists:!1},{name:"Customer Intelligence",path:"/admin/customers",icon:sz,exists:!0},{name:"Transaction Logs",path:"/admin/logs",icon:Hs,exists:!1}]},{id:"staff",label:"STAFF CONTROL",type:"group",icon:Xy,index:"03",items:[{name:"Access Management",path:"/admin/staff",icon:Fh,exists:!0},{name:"User Roles",path:"/admin/roles",icon:Gu,exists:!0}]},{id:"system",label:"SYSTEM CONTROL",type:"group",icon:go,index:"04",items:[{name:"System Configuration",path:"/admin/settings",icon:XA,exists:!0}]}],yW=[{name:"Global Inventory",path:"/admin/inventory",icon:iz,exists:!0},{name:"Sales Audit",path:"/admin/audit",icon:mn,exists:!0},{name:"Stock Allocation",path:"/admin/allocation",icon:gu,exists:!0},{name:"Branch Orders",path:"/admin/orders",icon:Os,exists:!0},{name:"Customer Intelligence",path:"/admin/customers",icon:sz,exists:!0},{name:"Procurements",path:"/admin/procurement",icon:ct,exists:!0},{name:"Supplier Registry",path:"/admin/suppliers",icon:bo,exists:!1},{name:"Debt Portfolio",path:"/admin/debts",icon:Or,exists:!1},{name:"Transaction Logs",path:"/admin/logs",icon:Hs,exists:!1},{name:"Access Management",path:"/admin/staff",icon:Fh,exists:!0},{name:"User Roles",path:"/admin/roles",icon:Gu,exists:!0},{name:"System Configuration",path:"/admin/settings",icon:XA,exists:!0}];function Wc({content:e,children:t,show:r}){const[n,a]=g.useState(!1),[i,l]=g.useState({top:0}),c=g.useRef(null);return g.useEffect(()=>{if(n&&c.current){const d=c.current.getBoundingClientRect();l({top:d.top+d.height/2})}},[n]),r?s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:c,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:t}),n&&s.jsxs(Z.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{duration:.2,ease:"easeOut"},className:`\r
            fixed px-4 py-2.5\r
            bg-gradient-to-br from-amber-950/95 via-yellow-950/95 to-amber-900/95\r
            text-amber-200/90 text-sm font-semibold\r
            rounded-lg whitespace-nowrap pointer-events-none z-[9999]\r
            border border-amber-700/40\r
            shadow-[0_8px_30px_rgba(217,119,6,0.2),0_0_20px_rgba(180,83,9,0.15),inset_0_1px_0_rgba(251,191,36,0.1)]\r
            backdrop-blur-md\r
            -translate-y-1/2\r
          `,style:{textShadow:"0 1px 3px rgba(0, 0, 0, 0.5)",left:"80px",top:`${i.top}px`},children:[s.jsx("span",{className:"relative z-10",children:e}),s.jsxs("div",{className:"absolute right-full top-1/2 -translate-y-1/2 -mr-px",children:[s.jsx("div",{className:"w-0 h-0 border-[8px] border-transparent border-r-amber-700/40"}),s.jsx("div",{className:"absolute top-0 left-[2px] w-0 h-0 border-[8px] border-transparent border-r-amber-950/95"})]})]})]}):s.jsx(s.Fragment,{children:t})}function wW(){const e=sa(),t=Mn(),r=rt(v=>v.logout),[n,a]=g.useState(()=>{const v=localStorage.getItem("adminSidebarCollapsed");return v?JSON.parse(v):!1}),[i,l]=g.useState(new Set(["intelligence","supply","revenue","staff","system"]));g.useEffect(()=>{localStorage.setItem("adminSidebarCollapsed",JSON.stringify(n))},[n]);const c=()=>{a(!n)},d=v=>{n||l(y=>{const w=new Set(y);return w.has(v)?w.delete(v):w.add(v),w})},f=()=>{r(),e("/login")},m=(v,y)=>{y===!1?e("/admin/coming-soon",{state:{intendedPath:v}}):e(v)},h=v=>t.pathname===v,x=v=>v.type==="single"&&v.path?h(v.path):v.type==="group"&&v.items?v.items.some(y=>h(y.path)):!1;return s.jsxs(Z.aside,{animate:{width:n?64:256,boxShadow:n?"0 0 0 rgba(0, 0, 0, 0)":"4px 0 24px -2px rgba(0, 0, 0, 0.4)"},transition:{type:"spring",stiffness:120,damping:20,mass:.8},className:"bg-zinc-950 border-r border-zinc-800 flex flex-col h-screen overflow-hidden relative",children:[s.jsx(Z.div,{className:"absolute top-0 right-0 h-full w-8 z-50 flex items-center justify-center group cursor-pointer",onClick:c,whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(Z.div,{className:"h-20 w-1 bg-zinc-800 rounded-full flex items-center justify-center",whileHover:{width:28,height:28,backgroundColor:"#18181b",borderColor:"#3f3f46",borderWidth:1,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.5)"},transition:{type:"spring",stiffness:300,damping:20},children:s.jsx(Z.div,{initial:{opacity:0},whileHover:{opacity:1},transition:{duration:.15},className:"text-zinc-400",children:n?s.jsx(rz,{className:"w-3.5 h-3.5 text-amber-400"}):s.jsx(tz,{className:"w-3.5 h-3.5 text-amber-400"})})})}),s.jsx("div",{className:"px-3 py-3 border-b border-zinc-800 bg-zinc-900/50 flex items-center justify-center",children:s.jsx(Ve,{mode:"wait",children:n?s.jsx(Z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:20},whileHover:{rotate:[0,-10,10,-10,0],scale:1.1},className:"w-7 h-7 rounded bg-amber-500/10 border border-amber-500/20 flex items-center justify-center mx-auto",children:s.jsx("span",{className:"text-amber-500 font-black text-sm",children:"P"})},"collapsed-header"):s.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{type:"spring",stiffness:200,damping:20},className:"flex items-center gap-2 flex-1",children:[s.jsx(Z.div,{whileHover:{rotate:[0,-10,10,-10,0],scale:1.05},transition:{duration:.5},className:"w-7 h-7 rounded bg-amber-500/10 border border-amber-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-amber-500 font-black text-sm",children:"P"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("h1",{className:"text-sm font-black text-white tracking-tight leading-none truncate",children:["PRAM ",s.jsx("span",{className:"text-amber-500",children:"HQ"})]}),s.jsx("p",{className:"text-[9px] text-zinc-600 font-mono tracking-widest uppercase leading-tight mt-0.5",children:"ADMIN CONSOLE"})]})]},"expanded-header")})}),s.jsx("nav",{className:"flex-1 overflow-y-auto py-2 px-2 custom-scrollbar",children:n?s.jsxs(s.Fragment,{children:[s.jsx(Wc,{content:"Command Center",show:!0,children:s.jsx(Z.button,{onClick:()=>m("/admin/command-center",!0),whileHover:{scale:1.08,x:2},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:25},className:`
                  flex items-center justify-center w-full px-2 py-2.5 rounded-lg mb-1.5 transition-all
                  ${h("/admin/command-center")?"bg-amber-500/10 text-amber-400 border border-amber-500/20 shadow-lg shadow-amber-500/10":"text-zinc-400 hover:bg-zinc-900 hover:text-zinc-200 border border-transparent"}
                `,children:s.jsx($h,{className:"w-5 h-5 flex-shrink-0"})})}),s.jsx("div",{className:"h-px bg-zinc-800/50 my-2 mx-1"}),yW.map((v,y)=>{const w=v.icon,j=h(v.path);return s.jsx(Wc,{content:v.name,show:!0,children:s.jsxs(Z.button,{onClick:()=>m(v.path,v.exists),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:y*.03,type:"spring",stiffness:300,damping:25},whileHover:{scale:1.08,x:2},whileTap:{scale:.95},className:`
                      flex items-center justify-center w-full px-2 py-2.5 rounded-lg mb-1.5 transition-all relative
                      ${j?"bg-amber-500/10 text-amber-400 border border-amber-500/20 shadow-lg shadow-amber-500/10":v.exists===!1?"text-zinc-500 hover:bg-zinc-900/50 hover:text-zinc-400 border border-transparent opacity-60":"text-zinc-400 hover:bg-zinc-900 hover:text-zinc-200 border border-transparent"}
                    `,children:[s.jsx(w,{className:"w-4.5 h-4.5 flex-shrink-0"}),v.exists===!1&&s.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-zinc-600 rounded-full"})]})},v.path)})]}):bW.map((v,y)=>{const w=v.icon,j=i.has(v.id),S=x(v);return s.jsx(Z.div,{className:"mb-1",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.05,type:"spring",stiffness:200,damping:20},children:v.type==="single"&&v.path?s.jsx(Wc,{content:v.label,show:n,children:s.jsxs(Z.button,{onClick:()=>m(v.path,v.exists),whileHover:{scale:1.02,x:2},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:25},className:`
                      flex items-center gap-2 px-2 py-2.5 rounded-lg transition-all text-xs w-full
                      ${S?"bg-amber-500/10 text-amber-400 border border-amber-500/20 shadow-lg shadow-amber-500/10":"text-zinc-400 hover:bg-zinc-900 hover:text-zinc-200 border border-transparent"}
                      ${n?"justify-center":""}
                    `,children:[!n&&s.jsx("span",{className:"text-[10px] font-mono text-zinc-600 w-5",children:v.index}),s.jsx(w,{className:"w-4 h-4 flex-shrink-0"}),!n&&s.jsx("span",{className:"font-bold tracking-tight flex-1 text-left truncate",children:v.label})]})}):s.jsx(s.Fragment,{children:n?null:s.jsxs(s.Fragment,{children:[s.jsxs(Z.button,{onClick:()=>d(v.id),whileHover:{scale:1.02,x:2},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:25},className:`
                          w-full flex items-center gap-2 px-2 py-2.5 rounded-lg transition-all text-xs
                          ${S?"bg-zinc-900 text-amber-400 border border-zinc-800":"text-zinc-400 hover:bg-zinc-900 hover:text-zinc-200 border border-transparent"}
                        `,children:[s.jsx("span",{className:"text-[10px] font-mono text-zinc-600 w-5",children:v.index}),s.jsx(w,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"font-bold tracking-tight flex-1 text-left truncate",children:v.label}),s.jsx(Z.div,{animate:{rotate:j?180:0},transition:{type:"spring",stiffness:300,damping:25},children:s.jsx(Wr,{className:"w-3 h-3"})})]}),v.type==="group"&&v.items&&s.jsx(Ve,{initial:!1,children:j&&s.jsx(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{type:"spring",stiffness:200,damping:25},className:"overflow-hidden",children:s.jsx("div",{className:"ml-7 mt-0.5 space-y-0.5 border-l border-zinc-800 pl-3 py-1",children:v.items.map((P,k)=>{const E=P.icon,A=h(P.path);return s.jsxs(Z.button,{onClick:()=>m(P.path,P.exists),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:k*.03,type:"spring",stiffness:300,damping:25},whileHover:{scale:1.02,x:2},whileTap:{scale:.98},className:`
                                        w-full text-left px-2 py-1.5 rounded text-xs transition-all flex items-center gap-2
                                        ${A?"bg-amber-500/10 text-amber-400 font-bold border-l-2 border-amber-500 -ml-[1px] shadow-lg shadow-amber-500/10":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-900/50 border-l-2 border-transparent -ml-[1px]"}
                                        ${P.exists===!1?"italic":""}
                                      `,children:[s.jsx(E,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"flex-1",children:P.name}),P.exists===!1&&s.jsx("span",{className:"ml-1 text-[9px] text-zinc-600",children:"(soon)"})]},P.path)})})})})]})})},v.id)})}),s.jsx("div",{className:"px-2 pb-1.5 border-t border-zinc-800 pt-1.5 bg-zinc-950/50",children:s.jsx(Wc,{content:"Sign Out",show:n,children:s.jsxs(Z.button,{onClick:f,whileHover:{scale:1.02,y:-2},whileTap:{scale:.97},transition:{type:"spring",stiffness:400,damping:25},className:`
              w-full flex items-center gap-2 px-2.5 py-2 rounded-lg text-sm
              bg-gradient-to-r from-red-500/10 to-red-600/10
              border border-red-500/30 text-red-400
              hover:from-red-500/20 hover:to-red-600/20 hover:border-red-500/50 hover:text-red-300
              hover:shadow-lg hover:shadow-red-500/20
              transition-all font-bold tracking-tight
              ${n?"justify-center px-2":"justify-start"}
              group/signout
            `,children:[!n&&s.jsx("div",{className:"w-6 h-6 rounded bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0 group-hover/signout:bg-red-500/20 group-hover/signout:border-red-500/30 transition-all",children:s.jsx(sb,{className:"w-3.5 h-3.5"})}),n&&s.jsx(sb,{className:"w-4.5 h-4.5 flex-shrink-0"}),!n&&s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-xs font-bold",children:"Sign Out"}),s.jsx("span",{className:"text-[9px] text-red-500/60 font-normal",children:"End session"})]})]})})}),s.jsx(Ve,{mode:"wait",children:n?s.jsx(Z.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300,damping:20},className:"px-2 py-3 border-t border-zinc-900 bg-zinc-950/80",children:s.jsx(Wc,{content:"Powered by JOSEA SOFTWARE SOLUTIONS",show:!0,children:s.jsx(Z.div,{whileHover:{scale:1.1,rotate:5},transition:{type:"spring",stiffness:400,damping:15},className:"relative w-full flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 via-violet-500/20 to-purple-600/20 rounded-lg blur-md"}),s.jsxs("div",{className:"relative w-10 h-10 bg-gradient-to-br from-zinc-900 via-zinc-950 to-black rounded-lg border-2 border-purple-500/40 shadow-lg shadow-purple-500/25 flex items-center justify-center overflow-hidden",children:[s.jsx(Z.div,{animate:{background:["linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%)","linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(168, 85, 247, 0.05) 100%)","linear-gradient(135deg, rgba(168, 85, 247, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0"}),s.jsx("div",{className:"relative z-10",children:s.jsx("p",{className:"text-lg font-black bg-gradient-to-br from-purple-400 via-violet-400 to-purple-500 bg-clip-text text-transparent tracking-tighter",children:"JS"})}),s.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-purple-500/30 blur-sm"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 bg-violet-500/30 blur-sm"})]})]})})})},"collapsed-branding"):s.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{type:"spring",stiffness:200,damping:20},className:"px-2.5 py-1.5 border-t border-purple-500/20 bg-gradient-to-b from-zinc-950 to-black",children:s.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-0",children:[s.jsx("div",{className:"w-3.5 h-3.5 rounded bg-gradient-to-br from-purple-500/20 to-violet-600/20 border border-purple-500/30 flex items-center justify-center",children:s.jsx(A$,{className:"w-2 h-2 text-purple-400"})}),s.jsx("p",{className:"text-[8px] font-bold uppercase text-purple-400/80 tracking-[0.08em]",children:"Powered By"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/15 via-violet-500/15 to-purple-600/15 blur-lg"}),s.jsxs("div",{className:"relative bg-gradient-to-br from-zinc-900/50 to-zinc-950/50 border border-purple-500/30 rounded-md px-2.5 py-1 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex flex-col items-center gap-0",children:[s.jsx("p",{className:"text-[11px] font-black uppercase bg-gradient-to-r from-purple-400 via-violet-400 to-purple-500 bg-clip-text text-transparent tracking-[0.12em] leading-none",children:"JOSEA SOFTWARE"}),s.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[s.jsx("div",{className:"h-px w-1.5 bg-purple-500/40"}),s.jsx("p",{className:"text-[7px] font-bold uppercase text-purple-500/70 tracking-[0.18em]",children:"SOLUTIONS"}),s.jsx("div",{className:"h-px w-1.5 bg-purple-500/40"})]})]}),s.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-1.5 border-t border-l border-purple-500/50 rounded-tl"}),s.jsx("div",{className:"absolute top-0 right-0 w-1.5 h-1.5 border-t border-r border-purple-500/50 rounded-tr"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-1.5 h-1.5 border-b border-l border-purple-500/50 rounded-bl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-1.5 h-1.5 border-b border-r border-purple-500/50 rounded-br"})]})]})]})},"expanded-branding")})]})}const jW={"/admin":"Command Center","/admin/command-center":"Command Center","/admin/inventory":"Global Inventory","/admin/allocation":"Stock Allocation","/admin/audit":"Sales Audit","/admin/debts":"Debt Manager","/admin/staff":"Access Control"};function NW(){const e=Mn(),t=rt(c=>c.userName),r=rt(c=>c.userRole),[n,a]=g.useState(new Date);g.useEffect(()=>{const c=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(c)},[]);const i=jW[e.pathname]||"Dashboard",l=c=>c.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"});return s.jsx("header",{className:"sticky top-0 z-40 w-full h-16 bg-slate-900/80 backdrop-blur-md border-b border-slate-800",children:s.jsxs("div",{className:"flex items-center justify-between px-6 h-full",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-slate-500 font-medium",children:"Home"}),s.jsx("span",{className:"text-slate-700",children:"/"}),s.jsx("span",{className:"text-white font-semibold",children:i})]}),s.jsx("div",{className:"flex-1 flex justify-center px-8",children:s.jsx("div",{className:"relative w-full max-w-md",children:s.jsxs("div",{className:"bg-slate-950/50 border border-slate-700/50 rounded-full px-4 py-1.5 flex items-center gap-3 focus-within:ring-1 ring-amber-500/50 transition-all",children:[s.jsx(gr,{className:"w-4 h-4 text-slate-500 flex-shrink-0"}),s.jsx("input",{type:"text",placeholder:"Search command center...",className:"flex-1 bg-transparent text-sm text-white placeholder:text-slate-600 focus:outline-none"}),s.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-slate-900/50 border border-slate-700/50 rounded text-[10px] font-mono text-slate-500",children:[s.jsx(z$,{className:"w-2.5 h-2.5"}),s.jsx("span",{children:"K"})]})]})})}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-slate-400 font-mono text-sm tabular-nums",children:l(n)}),s.jsx("div",{className:"h-4 w-px bg-slate-700"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-white font-medium text-sm",children:t}),s.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase bg-amber-500/10 text-amber-500 border border-amber-500/20",children:r})]})]})]})})}const SO=6048e5,SW=864e5,Uf=43200,v5=1440,b5=Symbol.for("constructDateFrom");function Zs(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&b5 in e?e[b5](t):e instanceof Date?new e.constructor(t):new Date(t)}function Dr(e,t){return Zs(t||e,e)}let kW={};function sd(){return kW}function Pu(e,t){var c,d,f,m;const r=sd(),n=(t==null?void 0:t.weekStartsOn)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,a=Dr(e,t==null?void 0:t.in),i=a.getDay(),l=(i<n?7:0)+i-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function $m(e,t){return Pu(e,{...t,weekStartsOn:1})}function kO(e,t){const r=Dr(e,t==null?void 0:t.in),n=r.getFullYear(),a=Zs(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=$m(a),l=Zs(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=$m(l);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Fm(e){const t=Dr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Kl(e,...t){const r=Zs.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Bm(e,t){const r=Dr(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function PO(e,t,r){const[n,a]=Kl(r==null?void 0:r.in,e,t),i=Bm(n),l=Bm(a),c=+i-Fm(i),d=+l-Fm(l);return Math.round((c-d)/SW)}function PW(e,t){const r=kO(e,t),n=Zs(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),$m(n)}function jm(e,t){const r=+Dr(e)-+Dr(t);return r<0?-1:r>0?1:r}function CO(e){return Zs(e,Date.now())}function CW(e,t,r){const[n,a]=Kl(r==null?void 0:r.in,e,t);return+Bm(n)==+Bm(a)}function EW(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function AW(e){return!(!EW(e)&&typeof e!="number"||isNaN(+Dr(e)))}function zW(e,t,r){const[n,a]=Kl(r==null?void 0:r.in,e,t),i=n.getFullYear()-a.getFullYear(),l=n.getMonth()-a.getMonth();return i*12+l}function OW(e,t,r){const[n,a]=Kl(r==null?void 0:r.in,e,t),i=y5(n,a),l=Math.abs(PO(n,a));n.setDate(n.getDate()-i*l);const c=+(y5(n,a)===-i),d=i*(l-c);return d===0?0:d}function y5(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function TW(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function MW(e,t){return+Dr(e)-+Dr(t)}function IW(e,t){const r=Dr(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function DW(e,t){const r=Dr(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function RW(e,t){const r=Dr(e,t==null?void 0:t.in);return+IW(r,t)==+DW(r,t)}function _W(e,t,r){const[n,a,i]=Kl(r==null?void 0:r.in,e,e,t),l=jm(a,i),c=Math.abs(zW(a,i));if(c<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-l*c);let d=jm(a,i)===-l;RW(n)&&c===1&&jm(n,i)===1&&(d=!1);const f=l*(c-+d);return f===0?0:f}function LW(e,t,r){const n=MW(e,t)/1e3;return TW(r==null?void 0:r.roundingMethod)(n)}function $W(e,t){const r=Dr(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const FW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BW=(e,t,r)=>{let n;const a=FW[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function cg(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const VW={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UW={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WW={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KW={date:cg({formats:VW,defaultWidth:"full"}),time:cg({formats:UW,defaultWidth:"full"}),dateTime:cg({formats:WW,defaultWidth:"full"})},qW={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},HW=(e,t,r,n)=>qW[e];function Kc(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):l;a=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const GW={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YW={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XW={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QW={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JW={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eK=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tK={ordinalNumber:eK,era:Kc({values:GW,defaultWidth:"wide"}),quarter:Kc({values:YW,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Kc({values:XW,defaultWidth:"wide"}),day:Kc({values:QW,defaultWidth:"wide"}),dayPeriod:Kc({values:ZW,defaultWidth:"wide",formattingValues:JW,defaultFormattingWidth:"wide"})};function qc(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const l=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?nK(c,h=>h.test(l)):rK(c,h=>h.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(l.length);return{value:f,rest:m}}}function rK(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function nK(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function sK(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const c=t.slice(a.length);return{value:l,rest:c}}}const aK=/^(\d+)(th|st|nd|rd)?/i,iK=/\d+/i,oK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lK={any:[/^b/i,/^(a|c)/i]},cK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uK={any:[/1/i,/2/i,/3/i,/4/i]},dK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gK={ordinalNumber:sK({matchPattern:aK,parsePattern:iK,valueCallback:e=>parseInt(e,10)}),era:qc({matchPatterns:oK,defaultMatchWidth:"wide",parsePatterns:lK,defaultParseWidth:"any"}),quarter:qc({matchPatterns:cK,defaultMatchWidth:"wide",parsePatterns:uK,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qc({matchPatterns:dK,defaultMatchWidth:"wide",parsePatterns:fK,defaultParseWidth:"any"}),day:qc({matchPatterns:mK,defaultMatchWidth:"wide",parsePatterns:hK,defaultParseWidth:"any"}),dayPeriod:qc({matchPatterns:pK,defaultMatchWidth:"any",parsePatterns:xK,defaultParseWidth:"any"})},EO={code:"en-US",formatDistance:BW,formatLong:KW,formatRelative:HW,localize:tK,match:gK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vK(e,t){const r=Dr(e,t==null?void 0:t.in);return PO(r,$W(r))+1}function bK(e,t){const r=Dr(e,t==null?void 0:t.in),n=+$m(r)-+PW(r);return Math.round(n/SO)+1}function AO(e,t){var m,h,x,v;const r=Dr(e,t==null?void 0:t.in),n=r.getFullYear(),a=sd(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(x=a.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,l=Zs((t==null?void 0:t.in)||e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const c=Pu(l,t),d=Zs((t==null?void 0:t.in)||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const f=Pu(d,t);return+r>=+c?n+1:+r>=+f?n:n-1}function yK(e,t){var c,d,f,m;const r=sd(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,a=AO(e,t),i=Zs((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Pu(i,t)}function wK(e,t){const r=Dr(e,t==null?void 0:t.in),n=+Pu(r,t)-+yK(r,t);return Math.round(n/SO)+1}function xt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const hi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return xt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):xt(r+1,2)},d(e,t){return xt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return xt(e.getHours()%12||12,t.length)},H(e,t){return xt(e.getHours(),t.length)},m(e,t){return xt(e.getMinutes(),t.length)},s(e,t){return xt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return xt(a,t.length)}},sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},w5={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return hi.y(e,t)},Y:function(e,t,r,n){const a=AO(e,n),i=a>0?a:1-a;if(t==="YY"){const l=i%100;return xt(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):xt(i,t.length)},R:function(e,t){const r=kO(e);return xt(r,t.length)},u:function(e,t){const r=e.getFullYear();return xt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return xt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return xt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return hi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return xt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=wK(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):xt(a,t.length)},I:function(e,t,r){const n=bK(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):xt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):hi.d(e,t)},D:function(e,t,r){const n=vK(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return xt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return xt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return xt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=sl.noon:n===0?a=sl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=sl.evening:n>=12?a=sl.afternoon:n>=4?a=sl.morning:a=sl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return hi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):hi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):xt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):hi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):hi.s(e,t)},S:function(e,t){return hi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return N5(n);case"XXXX":case"XX":return Yi(n);case"XXXXX":case"XXX":default:return Yi(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return N5(n);case"xxxx":case"xx":return Yi(n);case"xxxxx":case"xxx":default:return Yi(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+j5(n,":");case"OOOO":default:return"GMT"+Yi(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+j5(n,":");case"zzzz":default:return"GMT"+Yi(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return xt(n,t.length)},T:function(e,t,r){return xt(+e,t.length)}};function j5(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+xt(i,2)}function N5(e,t){return e%60===0?(e>0?"-":"+")+xt(Math.abs(e)/60,2):Yi(e,t)}function Yi(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=xt(Math.trunc(n/60),2),i=xt(n%60,2);return r+a+t+i}const S5=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},zO=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},jK=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return S5(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",S5(n,t)).replace("{{time}}",zO(a,t))},NK={p:zO,P:jK},SK=/^D+$/,kK=/^Y+$/,PK=["D","DD","YY","YYYY"];function CK(e){return SK.test(e)}function EK(e){return kK.test(e)}function AK(e,t,r){const n=zK(e,t,r);if(console.warn(n),PK.includes(e))throw new RangeError(n)}function zK(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MK=/^'([^]*?)'?$/,IK=/''/g,DK=/[a-zA-Z]/;function Cn(e,t,r){var m,h,x,v;const n=sd(),a=n.locale??EO,i=n.firstWeekContainsDate??((h=(m=n.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,l=n.weekStartsOn??((v=(x=n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,c=Dr(e,r==null?void 0:r.in);if(!AW(c))throw new RangeError("Invalid time value");let d=t.match(TK).map(y=>{const w=y[0];if(w==="p"||w==="P"){const j=NK[w];return j(y,a.formatLong)}return y}).join("").match(OK).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:RK(y)};if(w5[w])return{isToken:!0,value:y};if(w.match(DK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return d.map(y=>{if(!y.isToken)return y.value;const w=y.value;(EK(w)||CK(w))&&AK(w,t,String(e));const j=w5[w[0]];return j(c,w,a.localize,f)}).join("")}function RK(e){const t=e.match(MK);return t?t[1].replace(IK,"'"):e}function _K(e,t,r){const n=sd(),a=(r==null?void 0:r.locale)??n.locale??EO,i=2520,l=jm(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l}),[d,f]=Kl(r==null?void 0:r.in,...l>0?[t,e]:[e,t]),m=LW(f,d),h=(Fm(f)-Fm(d))/1e3,x=Math.round((m-h)/60);let v;if(x<2)return r!=null&&r.includeSeconds?m<5?a.formatDistance("lessThanXSeconds",5,c):m<10?a.formatDistance("lessThanXSeconds",10,c):m<20?a.formatDistance("lessThanXSeconds",20,c):m<40?a.formatDistance("halfAMinute",0,c):m<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):x===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",x,c);if(x<45)return a.formatDistance("xMinutes",x,c);if(x<90)return a.formatDistance("aboutXHours",1,c);if(x<v5){const y=Math.round(x/60);return a.formatDistance("aboutXHours",y,c)}else{if(x<i)return a.formatDistance("xDays",1,c);if(x<Uf){const y=Math.round(x/v5);return a.formatDistance("xDays",y,c)}else if(x<Uf*2)return v=Math.round(x/Uf),a.formatDistance("aboutXMonths",v,c)}if(v=_W(f,d),v<12){const y=Math.round(x/Uf);return a.formatDistance("xMonths",y,c)}else{const y=v%12,w=Math.trunc(v/12);return y<3?a.formatDistance("aboutXYears",w,c):y<9?a.formatDistance("overXYears",w,c):a.formatDistance("almostXYears",w+1,c)}}function Vm(e,t){return _K(e,CO(e),t)}function LK(e,t){return CW(Zs(e,e),CO(e))}function $K({onConversationSelect:e,onNewConversation:t,activeConversationId:r}){const[n,a]=g.useState([]),[i,l]=g.useState(!0),[c,d]=g.useState(null);g.useEffect(()=>{f()},[]);const f=async()=>{try{l(!0);const h=await Lm.getConversations();a(h||[])}catch(h){console.error("Error loading conversations:",h),xe.error("Failed to load history")}finally{l(!1)}},m=async(h,x)=>{if(x.stopPropagation(),!!confirm("Delete this conversation?"))try{d(h),await Lm.deleteConversation(h),xe.success("Deleted"),a(v=>v.filter(y=>y.id!==h)),h===r&&t()}catch(v){console.error("Error deleting conversation:",v),xe.error("Failed to delete")}finally{d(null)}};return i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(vt,{className:"w-5 h-5 animate-spin text-slate-500"})}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:t,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors text-sm font-medium",children:[s.jsx(Tr,{className:"w-4 h-4"}),"New Chat"]}),n.length===0?s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx(kl,{className:"w-10 h-10 text-slate-700 mx-auto mb-3"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"No history yet"})]}):s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("p",{className:"text-xs font-medium text-slate-500 px-2 uppercase tracking-wider",children:"Recent"}),n.map(h=>s.jsxs("button",{onClick:()=>e(h.id),className:`w-full text-left px-3 py-2.5 rounded-lg transition-colors group relative ${r===h.id?"bg-slate-800 text-white":"hover:bg-slate-900 text-slate-300"}`,children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-medium truncate mb-1",children:h.title}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[s.jsxs("span",{children:[h.messageCount," msgs"]}),s.jsx("span",{children:""}),s.jsx("span",{children:Vm(new Date(h.lastMessageAt),{addSuffix:!0})})]})]}),s.jsx("button",{onClick:x=>m(h.id,x),disabled:c===h.id,className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-slate-800 rounded text-slate-500 hover:text-red-400",title:"Delete",children:c===h.id?s.jsx(vt,{className:"w-3.5 h-3.5 animate-spin"}):s.jsx(vu,{className:"w-3.5 h-3.5"})})]}),r===h.id&&s.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-purple-500 rounded-r"})]},h.id))]})]})}function FK(){const e=rt(h=>h.userName),t=rt(h=>h.userRole),[r,n]=g.useState(!1),[a,i]=g.useState(null),[l,c]=g.useState(!1),d=h=>{i(h)},f=()=>{i(null)},m=()=>{c(!l)};return s.jsxs("div",{className:"flex h-screen bg-slate-900 text-slate-200 font-sans selection:bg-amber-500/30",children:[s.jsx(wW,{}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(NW,{}),s.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:s.jsx(Fy,{})})]}),s.jsx(Z3,{onClick:()=>n(!r),userRole:t||"ADMIN",isOpen:r}),r&&l&&t!=="MANAGER"&&s.jsxs("div",{className:"fixed bottom-6 right-[600px] w-72 bg-slate-950 border border-slate-800/50 rounded-xl shadow-2xl flex flex-col z-[999] overflow-hidden",style:{height:"80vh",maxHeight:"720px"},children:[s.jsx("div",{className:"flex-none border-b border-slate-800/50 bg-slate-950",children:s.jsxs("div",{className:"flex items-center justify-between px-4 h-12",children:[s.jsx("h3",{className:"text-white text-sm font-semibold",children:"History"}),s.jsx("button",{onClick:()=>c(!1),className:"p-1.5 hover:bg-slate-800 rounded-md transition-colors text-slate-400 hover:text-white",children:s.jsx(Ze,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsx($K,{onConversationSelect:d,onNewConversation:f,activeConversationId:a})})]}),s.jsx(NO,{isOpen:r,onClose:()=>{n(!1),c(!1)},userRole:t||"ADMIN",userName:e||"Admin",externalConversationId:a,onConversationChange:i,onToggleSidebar:m,isSidebarOpen:l})]})}function BK(){const e=rt(a=>a.isAuthenticated),t=rt(a=>a.userRole),r=g.useRef(!1);if(!e)return s.jsx(xu,{to:"/login",replace:!0});const n=t==="ADMIN"||t==="OWNER";return g.useEffect(()=>{!n&&!r.current&&(xe.error("Unauthorized Access",{description:"You do not have permission to access the Admin Dashboard.",duration:4e3}),r.current=!0)},[n]),n?s.jsx(Fy,{}):s.jsx(xu,{to:"/",replace:!0})}const Re=(e,t=!0)=>`KES ${e.toLocaleString("en-KE",{minimumFractionDigits:t?2:0,maximumFractionDigits:t?2:0})}`,VK=e=>e.toLocaleString("en-KE"),_w=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString();function OO(){return s.jsx("div",{className:"bg-[var(--color-card-bg)] border border-[var(--color-border)] rounded-xl p-6 animate-pulse",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-slate-700 rounded w-24 mb-3"}),s.jsx("div",{className:"h-8 bg-slate-700 rounded w-32 mb-2"})]}),s.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-lg"})]})})}function Hc({title:e,value:t,icon:r,variant:n,isLoading:a}){if(a)return s.jsx(OO,{});const l={success:{iconBg:"bg-emerald-500/10",iconColor:"text-emerald-400",borderHover:"hover:border-emerald-500/30"},primary:{iconBg:"bg-blue-500/10",iconColor:"text-blue-400",borderHover:"hover:border-blue-500/30"},warning:{iconBg:"bg-amber-500/10",iconColor:"text-amber-400",borderHover:"hover:border-amber-500/30"}}[n];return s.jsx("div",{className:`bg-[var(--color-card-bg)] border border-[var(--color-border)] rounded-xl p-6 transition-all duration-200 ${l.borderHover}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-slate-400 font-medium mb-2",children:e}),s.jsx("h3",{className:"text-3xl font-bold text-white font-money",children:t})]}),s.jsx("div",{className:`${l.iconBg} p-3 rounded-lg`,children:s.jsx(r,{className:l.iconColor,size:24})})]})})}function UK({lowStockCount:e,isLoading:t}){const r=sa(),n=e>0;if(t)return s.jsx(OO,{});const a=()=>{n&&r("/restock")};return s.jsx("div",{onClick:a,className:`
        bg-[var(--color-card-bg)] border border-[var(--color-border)] rounded-xl p-6
        transition-all duration-200
        ${n?"hover:border-amber-500/50 hover:shadow-lg hover:shadow-amber-500/10 cursor-pointer":"opacity-75"}
      `,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-slate-400 font-medium mb-2",children:"Stock Health"}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("h3",{className:`text-3xl font-bold font-money ${e>0?"text-amber-400":"text-emerald-400"}`,children:e}),s.jsx("span",{className:"text-sm text-slate-500",children:"low stock items"})]}),n&&s.jsxs("p",{className:"text-xs text-amber-400 mt-2 flex items-center gap-1",children:[s.jsx(St,{size:12}),"Click to restock"]})]}),s.jsxs("div",{className:"relative w-16 h-16",children:[s.jsx("div",{className:`w-full h-full rounded-full flex items-center justify-center ${e>0?"bg-amber-500/10":"bg-emerald-500/10"}`,children:s.jsx(St,{className:e>0?"text-amber-400":"text-emerald-400",size:28})}),e>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:e>99?"99+":e})]})]})})}function WK({message:e}){return s.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-8 text-center",children:[s.jsx(St,{className:"w-12 h-12 text-red-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-red-400 mb-2",children:"Failed to Load Dashboard"}),s.jsx("p",{className:"text-slate-400 text-sm",children:e})]})}function KK(){const e=rt(m=>m.branchId),t=rt(m=>m.branchName),[r,n]=g.useState(null),[a,i]=g.useState({cash:0,mpesa:0}),[l,c]=g.useState(!0),[d,f]=g.useState(null);return g.useEffect(()=>{const m=async()=>{var x,v;if(!e){f("Branch ID not found. Please log in again."),c(!1);return}try{c(!0),f(null);const w=(await ln.dashboard.branch(e)).data;n(w);const j=new Date;j.setHours(0,0,0,0);const S=await ln.sales.list({branchId:e,startDate:j.toISOString()});let P=0,k=0;S.data.sales&&S.data.sales.forEach(E=>{E.payments&&Array.isArray(E.payments)&&E.payments.forEach(A=>{A.method==="CASH"?P+=parseFloat(A.amount):A.method==="MPESA"&&(k+=parseFloat(A.amount))})}),i({cash:P,mpesa:k})}catch(y){const w=((v=(x=y.response)==null?void 0:x.data)==null?void 0:v.message)||"Unable to fetch dashboard data";f(w),Ku("Dashboard Error",w)}finally{c(!1)}};m();const h=setInterval(m,6e4);return()=>clearInterval(h)},[e]),s.jsxs("div",{className:"space-y-8 relative",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-white mb-2",children:[t," Command Center"]}),s.jsx("p",{className:"text-slate-400",children:"Real-time performance metrics and key indicators"})]}),d&&!l&&s.jsx(WK,{message:d}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsx(Hc,{title:"Today's Total Sales",value:Re((r==null?void 0:r.todaySales)||0),icon:xr,variant:"success",isLoading:l}),s.jsx(Hc,{title:"Cash Sales",value:Re(a.cash),icon:xr,variant:"primary",isLoading:l}),s.jsx(Hc,{title:"M-Pesa Sales",value:Re(a.mpesa),icon:ls,variant:"primary",isLoading:l}),s.jsx(Hc,{title:"Transaction Volume",value:VK((r==null?void 0:r.todaySalesCount)||0),icon:mn,variant:"success",isLoading:l}),s.jsx(UK,{lowStockCount:(r==null?void 0:r.lowStockCount)||0,isLoading:l}),s.jsx(Hc,{title:"Outstanding Credit",value:Re((r==null?void 0:r.outstandingCredit)||0),icon:hn,variant:"warning",isLoading:l})]}),s.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 pointer-events-none z-10",children:s.jsx("p",{className:"text-xs text-gray-400/50 font-mono uppercase tracking-wider text-center",children:"Powered by Josea Software Solutions"})})]})}function qK({productId:e,name:t,partNumber:r,vehicleMake:n,vehicleModel:a,price:i,stock:l,imageUrl:c,isSelected:d=!1,dataIndex:f,onSelect:m,onMouseEnter:h}){const x=rt(S=>S.addToCart),v=()=>l===0?"bg-rose-500":l>=1&&l<=10?"bg-amber-500":"bg-emerald-500",y=()=>l===0?"bg-rose-50/50 border-rose-200 text-rose-600":l>=1&&l<=10?"bg-amber-50/50 border-amber-200 text-amber-600":"bg-emerald-50/50 border-emerald-200 text-emerald-600",w=()=>l===0?"Out of Stock":l>=1&&l<=10?"Low Stock":"In Stock",j=()=>{l>0?(x({productId:e,name:t,price:i,stock:l,oemNumber:r,vehicleMake:n,vehicleModel:a}),Na("info",`${t} added to cart`)):Na("error","Item is currently out of stock")};return s.jsxs("div",{onClick:j,onMouseEnter:h,"data-product-index":f,className:`
        group relative rounded-2xl overflow-hidden transition-all duration-200
        ${d?"bg-gradient-to-br from-blue-50 to-white border-4 border-blue-500 ring-8 ring-blue-500/40 shadow-2xl shadow-blue-500/50 scale-110 z-20 -translate-y-2":"bg-white border border-zinc-200/80"}
        ${l>0?"cursor-pointer hover:shadow-2xl hover:shadow-white/10 hover:-translate-y-1.5":"opacity-70 grayscale-[0.5] cursor-not-allowed"}
      `,style:d?{animation:"glow 1.5s ease-in-out infinite alternate"}:{},children:[d&&s.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-center py-1.5 z-10",children:s.jsx("p",{className:"text-[10px] font-bold uppercase tracking-wider",children:"Press ENTER to Add"})}),s.jsx("style",{children:`
        @keyframes glow {
          from {
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.4), 0 0 30px rgba(59, 130, 246, 0.2);
          }
          to {
            box-shadow: 0 0 25px rgba(59, 130, 246, 0.6), 0 0 45px rgba(59, 130, 246, 0.3);
          }
        }
      `}),s.jsxs("div",{className:`relative bg-zinc-50 h-44 flex items-center justify-center border-b border-zinc-100 ${d?"mt-10":""}`,children:[c?s.jsx("img",{src:c,alt:t,className:"w-full h-full object-cover"}):s.jsx(ct,{className:"w-16 h-16 text-zinc-300 transition-transform group-hover:scale-110 duration-500"}),s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx("div",{className:`${v()} h-8 min-w-[32px] px-2.5 rounded-full flex items-center justify-center gap-1 shadow-lg border-2 border-white`,children:s.jsx("span",{className:"text-sm font-black text-white",children:l})})}),l>0&&s.jsx("div",{className:"absolute inset-0 bg-white/40 backdrop-blur-[2px] opacity-0 group-hover:opacity-100 transition-all duration-300 flex items-center justify-center",children:s.jsx("div",{className:"bg-zinc-950 text-white rounded-full p-4 shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-all",children:s.jsx(Tr,{className:"w-7 h-7 stroke-[3px]"})})})]}),s.jsxs("div",{className:"p-5",children:[s.jsx("h3",{className:"text-zinc-950 font-black text-lg mb-2.5 line-clamp-2 leading-tight tracking-tight group-hover:text-blue-600 transition-colors",children:t}),(n||a)&&s.jsxs("div",{className:"flex items-center gap-1.5 mb-2 bg-blue-50/80 border border-blue-200/50 rounded-md px-2 py-1",children:[s.jsx(qy,{className:"w-3 h-3 text-blue-600 flex-shrink-0"}),s.jsx("p",{className:"text-blue-700 text-[11px] font-bold leading-tight truncate",children:n&&a?s.jsxs(s.Fragment,{children:[n," ",a]}):s.jsx(s.Fragment,{children:n||a})})]}),r&&s.jsxs("p",{className:"text-zinc-500 text-[11px] tracking-wide uppercase font-semibold mb-4",children:["SKU: ",r]}),s.jsxs("div",{className:"flex items-end justify-between mt-auto pt-3 border-t border-zinc-100",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-zinc-500 text-[10px] font-bold uppercase tracking-wider",children:"Price"}),s.jsxs("span",{className:"text-zinc-950 font-black text-2xl leading-none tracking-tight",children:["KES ",i.toLocaleString()]})]}),s.jsx("div",{className:`px-3 py-1.5 rounded-lg border text-[11px] font-black uppercase tracking-tight ${y()}`,children:w()})]})]})]})}const TO=g.forwardRef(({onCheckout:e,isFocused:t=!1,onFocusSearch:r,onFocusProducts:n},a)=>{const i=rt(E=>E.cart),l=rt(E=>E.updateCartItemQuantity),c=rt(E=>E.removeFromCart),d=UA(),[f,m]=g.useState(0),[h,x]=g.useState("none"),v=g.useRef(null),y=g.useRef(null),w=g.useRef(null);g.useImperativeHandle(a,()=>({focusFirstItem:()=>{var E,A;i.length>0?(m(0),x("none"),(E=v.current)==null||E.focus()):(x("checkout"),(A=y.current)==null||A.focus())},focusCheckoutButton:()=>{var E;x("checkout"),(E=y.current)==null||E.focus()}}));const j=(E,A)=>{const z=i.find(O=>O.productId===E);z&&l(E,z.quantity+A)},S=(E,A)=>{c(E),Na("info",`${A} removed from tray`),f>=i.length-1&&m(Math.max(0,i.length-2))};g.useEffect(()=>{var E,A,z,O;t&&(h!=="none"?h==="checkout"?(E=y.current)==null||E.focus():h==="clear"&&((A=w.current)==null||A.focus()):i.length>0?((z=v.current)==null||z.focus(),m(0)):(x("checkout"),(O=y.current)==null||O.focus()))},[t,h]),g.useEffect(()=>{f>=i.length&&i.length>0&&m(i.length-1),i.length===0&&h==="none"&&x("checkout")},[i.length]);const P=E=>{var z,O;if(!t||i.length===0||h!=="none")return;const A=i[f];switch(E.key){case"ArrowUp":E.preventDefault(),f>0&&m(f-1);break;case"ArrowDown":E.preventDefault(),f<i.length-1?m(f+1):(x("checkout"),(z=y.current)==null||z.focus());break;case"ArrowLeft":E.preventDefault(),n==null||n();break;case"ArrowRight":E.preventDefault();break;case"+":case"=":E.preventDefault(),A&&A.quantity<A.stock&&j(A.productId,1);break;case"-":case"_":E.preventDefault(),A&&A.quantity>1&&j(A.productId,-1);break;case"Delete":case"Backspace":E.preventDefault(),A&&S(A.productId,A.name);break;case"Enter":E.preventDefault(),i.length>0&&e();break;case"Escape":E.preventDefault(),r==null||r();break;case"Tab":E.preventDefault(),E.shiftKey?n==null||n():(x("checkout"),(O=y.current)==null||O.focus());break}},k=(E,A)=>{var z,O,T,R,I,D;if(t)switch(E.key){case"ArrowUp":E.preventDefault(),i.length>0&&(x("none"),m(i.length-1),(z=v.current)==null||z.focus());break;case"ArrowDown":E.preventDefault();break;case"ArrowLeft":E.preventDefault(),A==="checkout"?(x("clear"),(O=w.current)==null||O.focus()):n==null||n();break;case"ArrowRight":E.preventDefault(),A==="clear"&&(x("checkout"),(T=y.current)==null||T.focus());break;case"Enter":case" ":E.preventDefault(),A==="checkout"&&i.length>0?e():A==="clear"&&i.length>0&&(rt.getState().clearCart(),Na("info","Cart cleared"),x("none"),r==null||r());break;case"Escape":E.preventDefault(),r==null||r();break;case"Tab":E.preventDefault(),E.shiftKey?A==="checkout"?(x("clear"),(R=w.current)==null||R.focus()):i.length>0?(x("none"),m(i.length-1),(I=v.current)==null||I.focus()):n==null||n():A==="clear"?(x("checkout"),(D=y.current)==null||D.focus()):r==null||r();break}};return g.useEffect(()=>{if(f>=0&&v.current&&h==="none"){const A=v.current.querySelectorAll("[data-cart-item-index]")[f];A&&A.scrollIntoView({behavior:"smooth",block:"nearest"})}},[f,h]),s.jsxs("div",{ref:v,className:"flex flex-col h-full bg-[#09090b] focus:outline-none",onKeyDown:P,tabIndex:t&&h==="none"?0:-1,style:{scrollBehavior:"smooth"},children:[s.jsx("div",{className:"p-8 border-b border-zinc-800/50 bg-zinc-900/20",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl shadow-lg shadow-blue-600/20",children:s.jsx($$,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white tracking-tight italic",children:"CURRENT SALE"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),s.jsxs("p",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:[i.length," Parts in Tray"]})]})]})]})})}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-zinc-950/40",children:i.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20",children:[s.jsx(Os,{className:"w-20 h-20 text-white mb-4 stroke-[1px]"}),s.jsx("p",{className:"text-white font-bold uppercase tracking-widest",children:"Tray is Empty"})]}):i.map((E,A)=>s.jsxs("div",{"data-cart-item-index":A,className:`relative bg-white rounded-[2rem] p-5 shadow-xl transition-all hover:scale-[1.02] ${t&&h==="none"&&f===A?"border-4 border-blue-500 ring-8 ring-blue-500/40 scale-110 shadow-2xl shadow-blue-500/50 z-10":"border border-zinc-200"}`,children:[t&&h==="none"&&f===A&&s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-blue-500 text-white px-3 py-0.5 rounded-full shadow-md z-20",children:s.jsx("p",{className:"text-[9px] font-bold uppercase tracking-wide",children:"Selected"})}),s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-zinc-950 font-black text-lg leading-tight mb-2",children:E.name}),(E.vehicleMake||E.vehicleModel)&&s.jsxs("div",{className:"flex items-center gap-1.5 mb-2 bg-blue-50/80 border border-blue-200/50 rounded-md px-2 py-1 w-fit",children:[s.jsx(qy,{className:"w-3 h-3 text-blue-600 flex-shrink-0"}),s.jsx("span",{className:"text-blue-700 text-[11px] font-bold leading-tight",children:E.vehicleMake&&E.vehicleModel?s.jsxs(s.Fragment,{children:[E.vehicleMake," ",E.vehicleModel]}):s.jsx(s.Fragment,{children:E.vehicleMake||E.vehicleModel})})]}),E.oemNumber&&s.jsxs("span",{className:"px-2 py-0.5 bg-zinc-100 text-zinc-500 text-[10px] font-black rounded-md uppercase",children:["SKU: ",E.oemNumber]})]}),s.jsx("button",{onClick:()=>S(E.productId,E.name),className:"text-zinc-300 hover:text-rose-500 transition-colors p-2",children:s.jsx(vu,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center justify-between mt-6",children:[s.jsxs("div",{className:"flex items-center bg-zinc-100 rounded-2xl p-1 border border-zinc-200",children:[s.jsx("button",{onClick:()=>j(E.productId,-1),className:"w-10 h-10 flex items-center justify-center bg-white text-zinc-900 rounded-xl shadow-sm hover:bg-zinc-50 transition-all disabled:opacity-30",disabled:E.quantity<=1,children:s.jsx(xo,{className:"w-5 h-5 stroke-[3px]"})}),s.jsx("span",{className:"text-zinc-900 font-black text-xl w-14 text-center",children:E.quantity}),s.jsx("button",{onClick:()=>j(E.productId,1),className:"w-10 h-10 flex items-center justify-center bg-white text-zinc-900 rounded-xl shadow-sm hover:bg-zinc-50 transition-all disabled:opacity-30",disabled:E.quantity>=E.stock,children:s.jsx(Tr,{className:"w-5 h-5 stroke-[3px]"})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-[10px] font-black text-zinc-400 uppercase mb-1",children:"Subtotal"}),s.jsxs("p",{className:"text-zinc-950 font-black text-xl tracking-tighter",children:["KES ",(E.price*E.quantity).toLocaleString()]})]})]})]},E.productId))}),s.jsxs("div",{className:"p-8 bg-zinc-900/40 border-t border-zinc-800/50 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-zinc-500 font-black text-lg uppercase tracking-widest",children:"Grand Total"}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"text-emerald-500 font-black text-5xl tracking-tighter drop-shadow-2xl",children:d.toLocaleString()}),s.jsx("span",{className:"text-emerald-500/50 font-bold ml-2 text-sm uppercase",children:"KES"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{ref:w,disabled:i.length===0,onClick:()=>{rt.getState().clearCart(),Na("info","Cart cleared"),x("none"),r==null||r()},onKeyDown:E=>k(E,"clear"),className:`
                relative py-5 bg-zinc-800 hover:bg-zinc-700 text-zinc-400 font-black rounded-3xl
                transition-all uppercase tracking-widest text-sm focus:outline-none
                disabled:opacity-30 disabled:cursor-not-allowed
                ${h==="clear"?"ring-4 ring-zinc-500/60 scale-105 bg-zinc-700 shadow-xl shadow-zinc-500/30":"focus:ring-4 focus:ring-zinc-600/50"}
              `,children:[h==="clear"&&s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-zinc-600 text-white px-3 py-0.5 rounded-full shadow-md whitespace-nowrap",children:s.jsx("p",{className:"text-[9px] font-bold uppercase tracking-wide",children:" Products | Checkout "})}),"Clear"]}),s.jsxs("button",{ref:y,onClick:e,onKeyDown:E=>k(E,"checkout"),disabled:i.length===0,className:`
                relative py-5 bg-blue-600 hover:bg-blue-500 text-white font-black rounded-3xl
                transition-all shadow-xl shadow-blue-600/20 uppercase tracking-widest text-sm
                flex items-center justify-center gap-2 focus:outline-none
                disabled:opacity-30 disabled:cursor-not-allowed
                ${h==="checkout"?"ring-4 ring-blue-400/80 scale-105 bg-blue-500 shadow-2xl shadow-blue-500/50":"focus:ring-4 focus:ring-blue-500/50"}
              `,children:[h==="checkout"&&s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-blue-400 text-white px-3 py-0.5 rounded-full shadow-md whitespace-nowrap",children:s.jsx("p",{className:"text-[9px] font-bold uppercase tracking-wide",children:" Clear |  Items |  Checkout"})}),s.jsx(Or,{className:"w-5 h-5"}),"Checkout"]})]})]})]})});TO.displayName="TransactionTray";class HK{validateKenyanPhone(t){try{let r=t.replace(/\D/g,"");if(!r)return{valid:!1,formatted:"",error:"Phone number is required"};if(r.startsWith("0"))r="254"+r.substring(1);else if(!r.startsWith("254")){if(r.length===9)r="254"+r;else if(r.length<9)return{valid:!1,formatted:"",error:"Phone number is too short"}}if(r.length!==12)return{valid:!1,formatted:"",error:`Invalid phone number length. Expected 12 digits, got ${r.length}`};if(!r.startsWith("254"))return{valid:!1,formatted:"",error:"Phone number must be a Kenyan number (254)"};const n=r.substring(3,4);return n!=="7"&&n!=="1"?{valid:!1,formatted:"",error:"Invalid Kenyan mobile number. Must start with 07 or 01"}:{valid:!0,formatted:r}}catch(r){return console.error("[M-Pesa] Phone validation error:",r),{valid:!1,formatted:"",error:"Failed to validate phone number"}}}async initiateMpesaPayment(t,r,n,a){try{const i=this.validateKenyanPhone(t);if(!i.valid)return{success:!1,message:i.error||"Invalid phone number",error:i.error};if(!r||r<=0)return{success:!1,message:"Amount must be greater than 0",error:"Invalid amount"};if(!n||n.trim().length===0)return{success:!1,message:"Account reference is required",error:"Missing account reference"};if(n.length>12)return{success:!1,message:"Account reference must not exceed 12 characters",error:"Account reference too long"};console.log("[M-Pesa] Initiating payment:",{phone:i.formatted,amount:r,accountReference:n});const l=await we.post("/payment/stk-push",{phone:i.formatted,amount:r,accountReference:n,transactionDesc:a||n});return console.log("[M-Pesa] Payment initiated:",l.data),l.data}catch(i){return console.error("[M-Pesa] Payment initiation error:",i),this.handleError(i)}}async checkPaymentStatus(t){var r;try{return t?(console.log("[M-Pesa] Checking payment status:",t),(await we.get(`/payment/status/${t}`)).data):{success:!1,error:"Checkout Request ID is required"}}catch(n){return console.error("[M-Pesa] Status check error:",n),((r=n.response)==null?void 0:r.status)===404?{success:!1,error:"Transaction not found"}:this.handleError(n)}}async pollPaymentStatus(t,r,n=25){let a=0;const i=4e3;return console.log("[M-Pesa] Starting payment status polling:",{checkoutRequestId:t,maxAttempts:n,pollInterval:i}),new Promise(l=>{setTimeout(()=>{const c=setInterval(async()=>{a++;try{const d=await this.checkPaymentStatus(t);r(d),console.log("[M-Pesa] Poll attempt",a,":",d);const f=["completed","failed","cancelled","timeout"];if(d.data&&f.includes(d.data.status)){console.log("[M-Pesa] Payment reached final status:",d.data.status),clearInterval(c),l(d);return}a>=n&&(console.log("[M-Pesa] Max polling attempts reached"),clearInterval(c),l({success:!0,data:{status:"timeout",resultDesc:"Payment request timed out. Please check status manually."}}))}catch(d){console.error("[M-Pesa] Poll error:",d)}},i);setTimeout(()=>{clearInterval(c)},n*i+5e3)},5e3)})}async verifyPayment(t){try{return t?(console.log("[M-Pesa] Verifying payment:",t),(await we.post("/payment/verify",{checkoutRequestId:t})).data):{success:!1,error:"Checkout Request ID is required"}}catch(r){return console.error("[M-Pesa] Payment verification error:",r),this.handleError(r)}}async verifyMpesaReceipt(t,r){var n,a;try{return!t||t.trim().length<10?{success:!1,error:"Invalid M-Pesa receipt code format"}:(console.log("[M-Pesa] Verifying receipt code:",t),(await we.post("/payment/verify-receipt",{receiptCode:t.trim().toUpperCase(),expectedAmount:r})).data)}catch(i){return console.error("[M-Pesa] Receipt verification error:",i),(a=(n=i.response)==null?void 0:n.data)!=null&&a.error?{success:!1,error:i.response.data.error}:{success:!1,error:i.message||"Failed to verify M-Pesa receipt"}}}handleError(t){var r,n;if(t.response){const a=((r=t.response.data)==null?void 0:r.message)||((n=t.response.data)==null?void 0:n.error)||"M-Pesa payment failed";return{success:!1,message:a,error:a}}else if(t.request){const a="Network error. Please check your internet connection and try again.";return{success:!1,message:a,error:a}}else{const a=t.message||"An unexpected error occurred";return{success:!1,message:a,error:a}}}formatPhoneForDisplay(t){if(!t)return"";const r=t.replace(/\D/g,"");if(r.startsWith("254")&&r.length===12){const n="0"+r.substring(3);return`${n.substring(0,4)} ${n.substring(4,7)} ${n.substring(7)}`}return t}formatAmount(t){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}getStatusMessage(t){return{pending:"Waiting for customer to complete payment...",completed:"Payment completed successfully",failed:"Payment failed",timeout:"Payment request timed out",cancelled:"Payment was cancelled by customer"}[t]||"Unknown status"}getStatusColor(t){return{completed:"success",failed:"error",timeout:"warning",cancelled:"warning",pending:"info"}[t]||"info"}}const Wf=new HK;function GK({isOpen:e,onClose:t,amount:r,phone:n,accountReference:a,onPaymentSuccess:i,onPaymentFailed:l,onCompleteLater:c,tillNumber:d="174379"}){const[f,m]=g.useState("auto"),[h,x]=g.useState("idle"),[v,y]=g.useState(""),[w,j]=g.useState(""),[S,P]=g.useState(""),[k,E]=g.useState(0),[A,z]=g.useState(0),O=g.useRef(null),T=g.useRef(null),R=g.useRef(null),I=g.useRef(null);g.useEffect(()=>{if(!e||h==="success"||h==="failed")return;const V=q=>{if(q.target instanceof HTMLInputElement)return;const te=["auto","stk","manual"],se=te.indexOf(f);if(q.key==="ArrowLeft"||q.key==="ArrowUp"){q.preventDefault();const U=se>0?se-1:te.length-1;ne(te[U])}else if(q.key==="ArrowRight"||q.key==="ArrowDown"){q.preventDefault();const U=se<te.length-1?se+1:0;ne(te[U])}};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[e,f,h]),g.useEffect(()=>{e?(m("auto"),x("processing"),y(""),j(""),P(""),E(0),z(0),T.current=null,setTimeout(()=>_(),100)):(R.current&&(clearInterval(R.current),R.current=null),I.current&&(clearInterval(I.current),I.current=null))},[e]),g.useEffect(()=>{if(e&&h==="processing")return I.current=setInterval(()=>{E(V=>V+1)},1e3),()=>{I.current&&(clearInterval(I.current),I.current=null)}},[e,h]);const D=V=>{const q=Math.floor(V/60),te=V%60;return`${q}:${te.toString().padStart(2,"0")}`},_=async()=>{console.log("[Auto-Detect] Starting C2B detection..."),x("processing"),j(""),z(0),E(0);let V=0;R.current=setInterval(async()=>{V++,z(V);try{const q=await we.get(`/payment/check-payment/${a}`,{params:{amount:r}});q.data.found&&(console.log("[Auto-Detect] Payment found!",q.data),R.current&&(clearInterval(R.current),R.current=null),I.current&&(clearInterval(I.current),I.current=null),P(q.data.receiptNumber),x("success"),setTimeout(()=>{i(q.data.receiptNumber)},2e3))}catch(q){console.error("[Auto-Detect] Polling error:",q)}},3e3)},F=async()=>{var V,q,te,se;console.log("[STK Push] Initiating payment..."),x("processing"),j(""),E(0);try{const U=Wf.validateKenyanPhone(n);if(!U.valid){x("failed"),j(U.error||"Invalid phone number");return}const X=await Wf.initiateMpesaPayment(U.formatted,r,a,`Payment for ${a}`);if(!X.success||!((V=X.data)!=null&&V.checkoutRequestId)){x("failed"),j(X.error||"Failed to send STK Push");return}T.current=X.data.checkoutRequestId,console.log("[STK Push] Prompt sent! Waiting for customer to enter PIN...");const me=await Wf.pollPaymentStatus(X.data.checkoutRequestId,de=>{console.log("[STK Push] Status update:",de)});I.current&&(clearInterval(I.current),I.current=null),((q=me.data)==null?void 0:q.status)==="completed"&&((te=me.data)!=null&&te.mpesaReceiptNumber)?(P(me.data.mpesaReceiptNumber),x("success"),setTimeout(()=>{var de;i(((de=me.data)==null?void 0:de.mpesaReceiptNumber)||"")},2e3)):(x("failed"),j(((se=me.data)==null?void 0:se.resultDesc)||"Payment failed or was cancelled by customer"))}catch(U){console.error("[STK Push] Error:",U),I.current&&(clearInterval(I.current),I.current=null),x("failed"),j(U.message||"Failed to process payment")}},W=async()=>{if(v.trim().length<10){j("Please enter a valid M-Pesa receipt code (at least 10 characters)");return}console.log("[Manual Entry] Verifying code with M-Pesa API:",v),x("processing"),j("");try{const V=await Wf.verifyMpesaReceipt(v.trim(),r);V.success?(P(v.toUpperCase()),x("success"),setTimeout(()=>{i(v.toUpperCase())},2e3)):(x("failed"),j(V.error||"Invalid M-Pesa receipt code or amount mismatch"))}catch(V){console.error("[Manual Entry] Verification error:",V),x("failed"),j(V.message||"Failed to verify M-Pesa code")}},ne=V=>{R.current&&(clearInterval(R.current),R.current=null),I.current&&(clearInterval(I.current),I.current=null),m(V),x("idle"),j(""),y(""),E(0),z(0),V==="auto"&&setTimeout(()=>_(),100),V==="manual"&&setTimeout(()=>{var q;return(q=O.current)==null?void 0:q.focus()},300)},Q=()=>{R.current&&(clearInterval(R.current),R.current=null),I.current&&(clearInterval(I.current),I.current=null),console.log("[Complete Later] Flagging sale for verification"),c()};return e?s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-zinc-950/95 backdrop-blur-2xl",children:s.jsxs("div",{className:"relative w-full max-w-3xl bg-[#09090b] border border-zinc-800 rounded-[2rem] shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-zinc-800/50 flex items-center justify-between bg-zinc-900/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ls,{className:"text-emerald-500",size:20}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-black text-white uppercase italic tracking-tighter",children:"M-Pesa Payment"}),h!=="success"&&h!=="failed"&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("span",{className:`text-xs font-bold uppercase px-2 py-0.5 rounded ${f==="auto"?"bg-emerald-500/20 text-emerald-400":f==="stk"?"bg-blue-500/20 text-blue-400":"bg-amber-500/20 text-amber-400"}`,children:f==="auto"?"Auto-Detect":f==="stk"?"STK Push":"Manual Entry"}),s.jsx("span",{className:"text-zinc-600 text-[10px] font-mono",children:"  to switch"})]})]})]}),s.jsx("button",{onClick:()=>{R.current&&(clearInterval(R.current),R.current=null),I.current&&(clearInterval(I.current),I.current=null),t()},className:"text-zinc-500 hover:text-white transition-colors",children:s.jsx(Ze,{size:20})})]}),s.jsxs("div",{className:"p-6",children:[h==="success"&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 border border-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(ss,{className:"text-emerald-500",size:32})}),s.jsx("h3",{className:"text-2xl font-black text-emerald-500 italic uppercase mb-2",children:"Payment Successful!"}),s.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-xl p-3 inline-block mt-2",children:[s.jsx("p",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-1",children:"Receipt Number"}),s.jsx("p",{className:"text-white font-mono font-bold text-lg",children:S})]})]}),h==="failed"&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 bg-rose-500/10 border border-rose-500/20 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(vl,{className:"text-rose-500",size:32})}),s.jsx("h3",{className:"text-xl font-black text-rose-500 italic uppercase mb-2",children:"Payment Failed"}),s.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:w}),s.jsxs("div",{className:"flex justify-center gap-3 max-w-md mx-auto",children:[s.jsx("button",{onClick:()=>{x("idle"),j("")},className:"flex-1 px-4 py-3 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-xl transition-all text-sm uppercase",children:"Try Again"}),s.jsx("button",{onClick:Q,className:"flex-1 px-4 py-3 bg-zinc-700 hover:bg-zinc-600 text-white font-bold rounded-xl transition-all text-sm uppercase",children:"Complete Later"})]})]}),(h==="idle"||h==="processing")&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-zinc-900/20 border-b border-zinc-800/50 p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-wider mb-1",children:"Amount Due"}),s.jsxs("h3",{className:"text-white font-black text-3xl tracking-tight",children:["KES ",r.toLocaleString()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-wider mb-1",children:"Till Number"}),s.jsx("p",{className:"text-emerald-400 font-mono font-bold text-xl",children:d})]})]}),h==="processing"&&f==="auto"&&s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 pt-3 border-t border-zinc-800/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"text-emerald-400 animate-spin",size:14}),s.jsx("span",{className:"text-emerald-400 font-bold text-xs uppercase",children:"Detecting Payment"})]}),s.jsx("span",{className:"text-zinc-600",children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(zn,{className:"text-zinc-500",size:12}),s.jsx("span",{className:"text-zinc-500 font-mono text-xs",children:D(k)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[s.jsxs("button",{onClick:()=>ne("auto"),disabled:h==="processing"&&f!=="auto",className:`relative p-4 rounded-xl border-2 transition-all text-left ${f==="auto"?"bg-emerald-600/20 border-emerald-500 ring-2 ring-emerald-500/30":"bg-zinc-900/50 border-zinc-800 hover:border-zinc-600"} ${h==="processing"&&f!=="auto"?"opacity-60 cursor-not-allowed":"cursor-pointer"}`,children:[f==="auto"&&h==="processing"&&s.jsx("div",{className:"absolute top-3 right-3",children:s.jsx(vt,{className:"text-emerald-400 animate-spin",size:16})}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ss,{className:f==="auto"?"text-emerald-400":"text-zinc-600",size:18}),f==="auto"&&h==="processing"&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-emerald-500"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-bold text-sm",children:"Auto-Detect"}),f==="auto"?s.jsx("p",{className:"text-emerald-400 text-[9px] font-bold uppercase tracking-wider",children:"Active"}):s.jsx("p",{className:"text-emerald-400 text-[9px] font-bold uppercase tracking-wider",children:"Recommended"})]})]}),s.jsxs("p",{className:"text-zinc-400 text-xs leading-relaxed",children:["Customer pays to Till ",s.jsx("span",{className:"text-white font-mono font-bold",children:d})]}),f==="auto"&&h==="processing"&&s.jsx("div",{className:"mt-3 pt-3 border-t border-zinc-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-emerald-400 text-xs font-bold",children:"Waiting for payment..."}),s.jsxs("span",{className:"text-zinc-600 text-[10px] font-mono",children:[A," checks"]})]})})]}),s.jsxs("button",{onClick:()=>ne("stk"),disabled:h==="processing"&&f!=="stk",className:`relative p-4 rounded-xl border-2 transition-all text-left ${f==="stk"?"bg-blue-600/20 border-blue-500 ring-2 ring-blue-500/30":"bg-zinc-900/50 border-zinc-800 hover:border-zinc-600"} ${h==="processing"&&f!=="stk"?"opacity-60 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ls,{className:f==="stk"?"text-blue-400":"text-zinc-600",size:18}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-bold text-sm",children:"STK Push"}),f==="stk"&&s.jsx("p",{className:"text-blue-400 text-[9px] font-bold uppercase tracking-wider",children:"Active"})]})]}),s.jsxs("p",{className:"text-zinc-400 text-xs leading-relaxed",children:["Send prompt to ",s.jsx("span",{className:"text-white font-mono",children:n})]}),f==="stk"&&h==="idle"&&s.jsx("button",{onClick:V=>{V.stopPropagation(),F()},className:"mt-3 w-full py-2 bg-blue-600 hover:bg-blue-500 text-white font-bold text-xs rounded-lg transition-all uppercase",children:"Send Now"}),f==="stk"&&h==="processing"&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-800",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{className:"text-blue-400 animate-spin",size:14}),s.jsx("p",{className:"text-blue-400 text-xs font-bold",children:"Waiting for PIN..."})]}),s.jsx("span",{className:"text-zinc-600 text-[10px] font-mono",children:D(k)})]}),s.jsx("p",{className:"text-zinc-500 text-[10px] mt-2",children:"Customer should check their phone and enter M-Pesa PIN"})]})]}),s.jsxs("button",{onClick:()=>ne("manual"),disabled:h==="processing"&&f!=="manual",className:`relative p-4 rounded-xl border-2 transition-all text-left ${f==="manual"?"bg-amber-600/20 border-amber-500 ring-2 ring-amber-500/30":"bg-zinc-900/50 border-zinc-800 hover:border-zinc-600"} ${h==="processing"&&f!=="manual"?"opacity-60 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Or,{className:f==="manual"?"text-amber-400":"text-zinc-600",size:18}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-bold text-sm",children:"Manual Entry"}),f==="manual"&&s.jsx("p",{className:"text-amber-400 text-[9px] font-bold uppercase tracking-wider",children:"Active"})]})]}),s.jsx("p",{className:"text-zinc-400 text-xs leading-relaxed",children:"Enter M-Pesa receipt code"}),f==="manual"&&h==="idle"&&s.jsxs("div",{className:"mt-3 space-y-2",onClick:V=>V.stopPropagation(),children:[s.jsx("input",{ref:O,type:"text",value:v,onChange:V=>y(V.target.value.toUpperCase()),onKeyDown:V=>{V.key==="Enter"&&(V.preventDefault(),v.trim().length>=10&&W()),V.stopPropagation()},placeholder:"QH12XYZ789",className:"w-full px-3 py-2 bg-zinc-900 border border-zinc-700 rounded-lg text-white font-mono text-xs focus:outline-none focus:ring-1 focus:ring-amber-500"}),s.jsx("button",{onClick:W,disabled:v.trim().length<10,className:"w-full py-2 bg-amber-600 hover:bg-amber-500 text-white font-bold text-xs rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed uppercase",children:"Verify"})]})]})]}),w&&s.jsxs("div",{className:"bg-rose-500/10 border border-rose-500/30 rounded-xl p-3 mb-3 flex items-start gap-2",children:[s.jsx(tn,{className:"text-rose-400 flex-shrink-0 mt-0.5",size:16}),s.jsx("p",{className:"text-rose-400 text-xs",children:w})]})]})]}),(h==="idle"||h==="processing")&&s.jsxs("div",{className:"bg-zinc-900/80 border-t border-zinc-800 p-4 flex justify-between items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>{R.current&&(clearInterval(R.current),R.current=null),I.current&&(clearInterval(I.current),I.current=null),t()},className:"px-5 py-3 bg-zinc-800 hover:bg-zinc-700 text-white font-bold text-sm rounded-xl transition-all uppercase",children:"Cancel"}),s.jsxs("div",{className:"flex items-center gap-2 text-zinc-600 text-xs",children:[s.jsx(qA,{size:12}),s.jsx(Om,{size:12}),s.jsx("span",{className:"font-mono",children:"Use arrow keys to switch methods"})]})]}),s.jsxs("button",{onClick:Q,className:"px-6 py-3 bg-orange-600 hover:bg-orange-500 text-white font-bold text-sm rounded-xl transition-all flex items-center gap-2 uppercase shadow-lg",children:[s.jsx(tn,{size:16}),"Complete Later"]})]})]})}):null}function YK(e,t){const[r,n]=g.useState(e);return g.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function XK({isOpen:e,onClose:t,onSuccess:r}){const n=sa(),a=rt(B=>B.cart),i=rt(B=>B.clearCart),l=UA(),[c,d]=g.useState(""),[f,m]=g.useState(""),[h,x]=g.useState(!1),[v,y]=g.useState(""),[w,j]=g.useState(""),[S,P]=g.useState([]),[k,E]=g.useState(!1),[A,z]=g.useState(null),[O,T]=g.useState(!1),[R,I]=g.useState(null),[D,_]=g.useState(!1),[F,W]=g.useState(!1),[ne,Q]=g.useState(""),[V,q]=g.useState(null),te=g.useRef(null),se=g.useRef(null),U=g.useRef(null),X=g.useRef(null),me=g.useRef(null),de=g.useRef(null),ve=[te,se,X,U],ke=(B,he)=>{var Te,qe,Be;if(B.key==="ArrowDown"||B.key==="Enter"&&he<ve.length-1){B.preventDefault();const nt=ve[he+1];(Te=nt==null?void 0:nt.current)==null||Te.focus()}else if(B.key==="ArrowUp"){if(B.preventDefault(),he>0){const nt=ve[he-1];(qe=nt==null?void 0:nt.current)==null||qe.focus()}}else B.key==="Enter"&&he===ve.length-1&&(B.preventDefault(),(Be=me.current)==null||Be.focus())},Ee=YK(v,300),G=parseFloat(c)||0,L=parseFloat(f)||0,$=h?Math.max(0,l-G-L):0,ue=G+L+$,ee=Math.max(0,ue-l),Ce=Math.max(0,l-ue),ye=ue>=l-.01;g.useEffect(()=>{(async()=>{if(Ee.trim().length<2){P([]),T(!1);return}E(!0);try{const he=await ln.sales.searchCustomers(Ee.trim());P(he.data),T(he.data.length>0)}catch(he){console.error("Customer search error:",he),P([])}finally{E(!1)}})()},[Ee]);const Xe=B=>{y(B.name),j(B.phone),z(B.id),P([]),T(!1)};g.useEffect(()=>{const B=he=>{de.current&&!de.current.contains(he.target)&&T(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[]),g.useEffect(()=>{if(e&&!V){const B=setTimeout(()=>{var he;return(he=te.current)==null?void 0:he.focus()},300);return()=>clearTimeout(B)}},[e]),g.useEffect(()=>{if(!e||!V)return;const B=he=>{if(!(he.target instanceof HTMLInputElement||he.target instanceof HTMLTextAreaElement))switch(he.key.toLowerCase()){case"p":he.preventDefault(),window.print();break;case"n":he.preventDefault(),re();break;case"escape":he.preventDefault(),re();break}};return window.addEventListener("keydown",B),()=>window.removeEventListener("keydown",B)},[e,V]);const Ue=()=>{d(""),m(""),x(!1),y(""),j(""),z(null),P([]),T(!1),q(null),Q(""),I(null)},re=()=>{i(),Ue(),t(),r==null||r()};g.useEffect(()=>{e||I(null)},[e]);const fe=()=>new Promise(B=>{Pe.current=B,_(!0)}),Pe=g.useRef(null),Je=async B=>{var Te,qe,Be,nt,He,bt;if(B.preventDefault(),F||!ye)return;const he=L>0||h;if(he&&!w.trim()){Q(`Phone number required for ${L>0?"M-Pesa":"DENI"} payment`);return}if(he&&!/^(?:254|\+254|0)?(7|1)\d{8}$/.test(w)){Q("Invalid phone number format (use 07XX or 01XX)");return}if(h&&!v.trim()){Q("Customer name required for DENI/Credit sales");return}W(!0);try{const Vt=parseFloat(f)||0;let Nt=!1;if(Vt>0){const ft=await fe();if(!ft.success){W(!1);return}Nt=ft.flagged}const Kr=[],J=Vt+$,Ae=Math.max(0,l-J);G>0&&Kr.push({method:"CASH",amount:Ae}),Vt>0&&Kr.push({method:"MPESA",amount:Vt,reference:R||void 0}),$>0&&Kr.push({method:"CREDIT",amount:$});const $e=v.trim().length>0,it={customerName:$e?v.trim():"Walk-in Customer",customerPhone:w.trim()||null,saveToCustomerDB:$e},At={items:a.map(ft=>({productId:ft.productId,quantity:ft.quantity,unitPrice:ft.price})),payments:Kr,discount:0,...it,flagForVerification:Nt&&Vt>0,mpesaReceiptNumber:R||null};console.log(" [Complete Later] Sale payload:",{total:l,payments:At.payments,flagForVerification:At.flagForVerification,shouldFlagSale:Nt,mpesaAmount:Vt});const et=(await we.post("/sales",At)).data;q({receiptNumber:et.receiptNumber,change:ee,total:Number(et.total),subtotal:Number(et.subtotal),cashPaid:G>0?Math.max(0,l-Vt-$):0,mpesaPaid:Vt,creditAmount:$,customerName:et.customerName||"Walk-in Customer",customerPhone:et.customerPhone||"",mpesaReceiptNumber:et.mpesaReceiptNumber||R||null,isFlagged:Nt&&Vt>0,items:a.map(ft=>({name:ft.name,quantity:ft.quantity,price:ft.price,total:ft.price*ft.quantity,vehicleMake:ft.vehicleMake,vehicleModel:ft.vehicleModel})),servedBy:((Te=et.user)==null?void 0:Te.name)||"Staff",branchName:((qe=et.branch)==null?void 0:qe.name)||"Branch",branchPhone:((Be=et.branch)==null?void 0:Be.phone)||"",timestamp:new Date}),v$(et.receiptNumber,l,()=>{},()=>{})}catch(Vt){console.error(" [Sale Creation Error]:",((nt=Vt.response)==null?void 0:nt.data)||Vt.message);const Nt=((bt=(He=Vt.response)==null?void 0:He.data)==null?void 0:bt.message)||"Transaction Failed";Q(Nt),Ku("Checkout Error",Nt)}finally{W(!1)}};return s.jsxs(s.Fragment,{children:[s.jsx(Ve,{children:e&&s.jsxs(s.Fragment,{children:[s.jsx("style",{children:`
            @media print {
              @page {
                size: 80mm auto;
                margin: 0;
              }

              html, body {
                width: 80mm;
                margin: 0 !important;
                padding: 0 !important;
                background: white !important;
              }

              body * {
                visibility: hidden;
              }

              #print-receipt, #print-receipt * {
                visibility: visible;
              }

              #print-receipt {
                position: fixed;
                left: 0;
                top: 0;
                width: 80mm;
                background: white !important;
                color: black !important;
                font-family: 'Courier New', monospace !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
              }

              .no-print {
                display: none !important;
              }
            }

            @media screen {
              #print-receipt {
                display: none;
              }
            }
          `}),V&&s.jsx("div",{id:"print-receipt",children:s.jsxs("div",{style:{width:"80mm",padding:"4mm",fontFamily:"'Courier New', monospace",fontSize:"12px",lineHeight:"1.4",color:"#000",background:"#fff"},children:[s.jsxs("div",{style:{textAlign:"center",marginBottom:"3mm"},children:[s.jsx("div",{style:{fontSize:"18px",fontWeight:"bold",letterSpacing:"1px"},children:"PRAM AUTO SPARES"}),s.jsx("div",{style:{fontSize:"11px",marginTop:"1mm"},children:V.branchName}),V.branchPhone&&s.jsxs("div",{style:{fontSize:"10px"},children:["Tel: ",V.branchPhone]})]}),s.jsx("div",{style:{borderTop:"1px dashed #000",margin:"2mm 0"}}),s.jsx("div",{style:{textAlign:"center",marginBottom:"2mm"},children:s.jsx("div",{style:{fontSize:"14px",fontWeight:"bold",padding:"2mm",background:V.creditAmount>0?"#000":"transparent",color:V.creditAmount>0?"#fff":"#000"},children:V.creditAmount>0?"CREDIT INVOICE":"SALES RECEIPT"})}),s.jsxs("div",{style:{fontSize:"10px",marginBottom:"3mm"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Receipt #:"}),s.jsx("span",{style:{fontWeight:"bold"},children:V.receiptNumber})]}),V.mpesaReceiptNumber&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px dotted #ddd",paddingTop:"1mm",marginTop:"1mm"},children:[s.jsx("span",{children:"M-Pesa Code:"}),s.jsx("span",{style:{fontWeight:"bold",fontFamily:"monospace"},children:V.mpesaReceiptNumber})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"1mm"},children:[s.jsx("span",{children:"Date:"}),s.jsx("span",{children:V.timestamp.toLocaleDateString("en-GB")})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Time:"}),s.jsx("span",{children:V.timestamp.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Served by:"}),s.jsx("span",{children:V.servedBy})]})]}),V.customerName!=="Walk-in Customer"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{borderTop:"1px dashed #000",margin:"2mm 0"}}),s.jsxs("div",{style:{fontSize:"10px",marginBottom:"2mm"},children:[s.jsx("div",{style:{fontWeight:"bold",marginBottom:"1mm"},children:"CUSTOMER:"}),s.jsx("div",{children:V.customerName}),V.customerPhone&&s.jsxs("div",{children:["Tel: ",V.customerPhone]})]})]}),s.jsx("div",{style:{borderTop:"1px dashed #000",margin:"2mm 0"}}),s.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",marginBottom:"1mm"},children:s.jsxs("div",{style:{display:"flex"},children:[s.jsx("span",{style:{flex:1},children:"ITEM"}),s.jsx("span",{style:{width:"50px",textAlign:"right"},children:"TOTAL"})]})}),s.jsx("div",{style:{fontSize:"10px",marginBottom:"2mm"},children:V.items.map((B,he)=>s.jsxs("div",{style:{marginBottom:"2mm",paddingBottom:"1mm",borderBottom:"1px dotted #ccc"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{style:{flex:1,fontWeight:"bold"},children:B.name}),s.jsx("span",{style:{fontWeight:"bold"},children:B.total.toLocaleString()})]}),(B.vehicleMake||B.vehicleModel)&&s.jsxs("div",{style:{fontSize:"8px",color:"#0066cc",marginTop:"0.5mm"},children:["Fits: ",B.vehicleMake&&B.vehicleModel?`${B.vehicleMake} ${B.vehicleModel}`:B.vehicleMake||B.vehicleModel]}),s.jsxs("div",{style:{fontSize:"9px",color:"#555"},children:[B.quantity," x ",B.price.toLocaleString()]})]},he))}),s.jsx("div",{style:{borderTop:"2px solid #000",margin:"2mm 0"}}),s.jsxs("div",{style:{fontSize:"11px",marginBottom:"2mm"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1mm"},children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{children:["KES ",V.subtotal.toLocaleString()]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"13px",padding:"1mm 0",borderTop:"1px solid #000",borderBottom:"1px solid #000"},children:[s.jsx("span",{children:"TOTAL:"}),s.jsxs("span",{children:["KES ",V.total.toLocaleString()]})]})]}),s.jsxs("div",{style:{fontSize:"10px",marginBottom:"2mm"},children:[s.jsx("div",{style:{fontWeight:"bold",marginBottom:"1mm"},children:"PAYMENT:"}),V.cashPaid>0&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"Cash:"}),s.jsxs("span",{children:["KES ",V.cashPaid.toLocaleString()]})]}),V.mpesaPaid>0&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[s.jsx("span",{children:"M-Pesa:"}),s.jsxs("span",{children:["KES ",V.mpesaPaid.toLocaleString()]})]}),V.creditAmount>0&&s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",color:"#000"},children:[s.jsx("span",{children:"Credit (DENI):"}),s.jsxs("span",{children:["KES ",V.creditAmount.toLocaleString()]})]})]}),V.change>0&&s.jsx("div",{style:{background:"#f0f0f0",padding:"2mm",marginBottom:"2mm",border:"1px solid #000"},children:s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",fontSize:"12px"},children:[s.jsx("span",{children:"CHANGE:"}),s.jsxs("span",{children:["KES ",V.change.toLocaleString()]})]})}),V.creditAmount>0&&s.jsxs("div",{style:{border:"2px solid #000",padding:"3mm",marginBottom:"3mm",textAlign:"center"},children:[s.jsx("div",{style:{fontWeight:"bold",fontSize:"11px",marginBottom:"1mm"},children:"BALANCE DUE"}),s.jsxs("div",{style:{fontSize:"16px",fontWeight:"bold"},children:["KES ",V.creditAmount.toLocaleString()]}),s.jsx("div",{style:{fontSize:"9px",marginTop:"1mm"},children:"Please settle this amount at your earliest convenience"})]}),s.jsx("div",{style:{borderTop:"1px dashed #000",margin:"3mm 0"}}),s.jsxs("div",{style:{textAlign:"center",fontSize:"10px",marginBottom:"2mm"},children:[s.jsx("div",{style:{marginBottom:"1mm"},children:"Thank you for your business!"}),s.jsx("div",{style:{fontSize:"9px"},children:"Goods once sold cannot be returned"}),s.jsx("div",{style:{fontSize:"9px"},children:"Please keep this receipt for reference"})]}),s.jsxs("div",{style:{borderTop:"1px dashed #000",borderBottom:"1px dashed #000",padding:"2mm 0",margin:"2mm 0",textAlign:"center",fontSize:"9px"},children:[s.jsx("div",{children:"eTIMS: Pending Integration"}),s.jsx("div",{style:{fontFamily:"monospace",letterSpacing:"1px"},children:"----------------"})]}),s.jsxs("div",{style:{textAlign:"center",paddingTop:"2mm",fontSize:"8px",borderTop:"1px solid #000"},children:[s.jsx("div",{style:{fontWeight:"bold",letterSpacing:"0.5px"},children:"Powered by Josea Software Solutions"}),s.jsx("div",{style:{marginTop:"1mm",fontSize:"7px"},children:"www.joseasoftware.com"})]})]})}),s.jsxs("div",{className:"checkout-modal-wrapper fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-zinc-950/95 backdrop-blur-2xl",onClick:()=>!F&&!V&&(Ue(),t())}),s.jsx(Z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"relative w-full max-w-4xl bg-[#09090b] border border-zinc-800 rounded-[2rem] shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:V?s.jsxs("div",{className:"receipt-container flex flex-col h-full",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-8 flex flex-col items-center text-center",children:[V.isFlagged?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"w-20 h-20 bg-orange-500/10 border border-orange-500/20 rounded-full flex items-center justify-center mb-4 relative",children:[s.jsx(zn,{className:"w-10 h-10 text-orange-500"}),s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-6 w-6",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-6 w-6 bg-orange-500"})]})]}),s.jsx("h2",{className:"text-3xl font-black text-orange-500 italic uppercase mb-1 receipt-header",children:"WAITING FOR M-PESA"}),s.jsxs("p",{className:"text-zinc-500 font-mono mb-4 italic text-sm",children:["RECEIPT: ",V.receiptNumber]}),s.jsxs("div",{className:"w-full max-w-md bg-orange-500/10 border-2 border-orange-500/30 rounded-2xl p-6 mb-4",children:[s.jsx("p",{className:"text-orange-300 text-sm font-bold mb-3",children:"Sale Created - Awaiting Payment Confirmation"}),s.jsxs("div",{className:"text-left space-y-2 text-xs text-zinc-400",children:[s.jsx("p",{children:" Sale has been recorded in the system"}),s.jsx("p",{children:" Stock has been deducted"}),s.jsx("p",{children:" Waiting for M-Pesa payment confirmation"}),s.jsx("p",{className:"text-orange-400 font-bold mt-3",children:"Verify this sale in the Sales page"})]})]}),s.jsx("div",{className:"w-full max-w-md bg-zinc-900/50 border border-zinc-800 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("div",{className:"text-zinc-500",children:"M-Pesa Expected:"}),s.jsxs("div",{className:"text-orange-400 font-bold text-right",children:["KES ",V.mpesaPaid.toLocaleString()]})]})})]}):V.creditAmount>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-20 h-20 bg-rose-500/10 border border-rose-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Or,{className:"w-10 h-10 text-rose-500"})}),s.jsx("h2",{className:"text-3xl font-black text-rose-500 italic uppercase mb-1 receipt-header",children:"CREDIT SALE"}),s.jsxs("p",{className:"text-zinc-500 font-mono mb-3 italic text-sm",children:["RECEIPT: ",V.receiptNumber]}),s.jsxs("div",{className:"w-full max-w-md bg-rose-500/10 border-2 border-rose-500/30 rounded-2xl p-5 mb-4",children:[s.jsx("p",{className:"text-rose-300 text-[10px] font-black uppercase tracking-widest mb-1",children:"Outstanding Balance"}),s.jsxs("h4",{className:"text-4xl font-black text-rose-400 receipt-amount",children:["KES ",V.creditAmount.toLocaleString()]}),s.jsx("p",{className:"text-rose-300/60 text-xs mt-2",children:"To be collected from customer"})]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-xl px-4 py-3 mb-4",children:[s.jsx("p",{className:"text-white font-bold",children:V.customerName}),V.customerPhone&&s.jsx("p",{className:"text-zinc-400 font-mono text-sm",children:V.customerPhone})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-20 h-20 bg-emerald-500/10 border border-emerald-500/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(ss,{className:"w-10 h-10 text-emerald-500"})}),s.jsx("h2",{className:"text-3xl font-black text-emerald-500 italic uppercase mb-1 receipt-header",children:"SALE COMPLETED"}),s.jsxs("p",{className:"text-zinc-500 font-mono mb-1 italic text-sm",children:["RECEIPT: ",V.receiptNumber]}),V.mpesaReceiptNumber&&s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 mb-3",children:[s.jsx("p",{className:"text-emerald-400 text-[9px] font-bold uppercase tracking-wider mb-0.5",children:"M-Pesa Code"}),s.jsx("p",{className:"text-white font-mono font-bold text-sm",children:V.mpesaReceiptNumber})]})]}),V.change>0&&V.creditAmount===0&&s.jsxs("div",{className:"w-full max-w-md bg-emerald-500/10 border-2 border-emerald-500/30 rounded-2xl p-5 mb-4",children:[s.jsx("p",{className:"text-emerald-300 text-[10px] font-black uppercase tracking-widest mb-1",children:"Give Change"}),s.jsxs("h4",{className:"text-4xl font-black text-emerald-400 receipt-change",children:["KES ",V.change.toLocaleString()]})]}),!V.isFlagged&&s.jsx("div",{className:"w-full max-w-md bg-zinc-900/50 border border-zinc-800 rounded-xl p-4 mb-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("div",{className:"text-zinc-500",children:"Total:"}),s.jsxs("div",{className:"text-white font-bold text-right",children:["KES ",V.total.toLocaleString()]}),V.cashPaid>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-zinc-500",children:"Cash:"}),s.jsxs("div",{className:"text-emerald-400 text-right",children:["KES ",V.cashPaid.toLocaleString()]})]}),V.mpesaPaid>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-zinc-500",children:"M-Pesa:"}),s.jsxs("div",{className:"text-blue-400 text-right",children:["KES ",V.mpesaPaid.toLocaleString()]})]}),V.creditAmount>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-zinc-500",children:"Credit (DENI):"}),s.jsxs("div",{className:"text-rose-400 font-bold text-right",children:["KES ",V.creditAmount.toLocaleString()]})]})]})})]}),s.jsxs("div",{className:"flex-shrink-0 p-6 bg-zinc-900/80 border-t border-zinc-800",children:[V.isFlagged?s.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-lg mx-auto mb-4 no-print",children:[s.jsxs("button",{onClick:()=>{re(),n("/sales")},className:"flex items-center justify-center gap-2 py-4 bg-orange-600 text-white font-black rounded-2xl hover:bg-orange-500 transition-all uppercase italic shadow-lg shadow-orange-600/20",children:[s.jsx(fn,{size:18})," VERIFY PAYMENT"]}),s.jsxs("button",{onClick:re,className:"flex items-center justify-center gap-2 py-4 bg-blue-600 text-white font-black rounded-2xl hover:bg-blue-500 transition-all uppercase italic shadow-lg shadow-blue-600/20",children:[s.jsx(MS,{size:18})," NEW SALE"]})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full max-w-lg mx-auto mb-4 no-print",children:[s.jsxs("button",{onClick:()=>window.print(),className:"flex items-center justify-center gap-3 py-4 bg-white text-black font-black rounded-2xl hover:bg-zinc-200 transition-all uppercase italic",children:[s.jsx(Es,{size:20})," PRINT"]}),s.jsxs("button",{onClick:re,className:"flex items-center justify-center gap-3 py-4 bg-blue-600 text-white font-black rounded-2xl hover:bg-blue-500 transition-all uppercase italic shadow-lg shadow-blue-600/20",children:[s.jsx(MS,{size:20})," NEW SALE"]})]}),!V.isFlagged&&s.jsxs("div",{className:"flex justify-center gap-6 text-zinc-600 text-[10px] font-mono mb-3",children:[s.jsx("span",{children:"P = Print"}),s.jsx("span",{children:"N = New Sale"}),s.jsx("span",{children:"ESC = Close"})]}),s.jsx("p",{className:"text-zinc-600 text-[10px] font-black uppercase tracking-[0.3em] text-center",children:"Powered by Josea Software Solutions"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-6 border-b border-zinc-800/50 flex justify-between items-center bg-zinc-900/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(bu,{className:"text-emerald-500",fill:"currentColor",size:20}),s.jsx("h2",{className:"text-xl font-black text-white uppercase italic tracking-tighter",children:"Terminal Checkout"})]}),s.jsx("button",{onClick:()=>{Ue(),t()},className:"text-zinc-500 hover:text-white",children:s.jsx(Ze,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 flex-1 overflow-hidden relative",children:[s.jsxs("div",{className:"p-6 bg-zinc-900/20 border-r border-zinc-800/50 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-zinc-500 text-[9px] font-black uppercase tracking-wider mb-1",children:"Amount Due"}),s.jsxs("h3",{className:"text-5xl font-black text-white tracking-tight",children:["KES ",l.toLocaleString()]})]}),s.jsx("div",{className:"space-y-3 opacity-40 max-h-64 overflow-y-auto",children:a.map(B=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs font-bold",children:[s.jsxs("span",{className:"text-zinc-400 truncate",children:[B.name," x",B.quantity]}),s.jsx("span",{className:"text-white ml-2",children:(B.price*B.quantity).toLocaleString()})]}),(B.vehicleMake||B.vehicleModel)&&s.jsxs("div",{className:"flex items-center gap-1 text-[10px]",children:[s.jsx(qy,{className:"w-2.5 h-2.5 text-blue-500 flex-shrink-0"}),s.jsx("span",{className:"text-blue-400 font-medium",children:B.vehicleMake&&B.vehicleModel?s.jsxs(s.Fragment,{children:[B.vehicleMake," ",B.vehicleModel]}):s.jsx(s.Fragment,{children:B.vehicleMake||B.vehicleModel})})]})]},B.productId))})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("button",{onClick:()=>x(!h),className:`w-full py-3 rounded-xl font-black uppercase text-sm transition-all ${h?"bg-rose-600 text-white border-2 border-rose-500":"bg-zinc-800 text-zinc-400 border-2 border-zinc-700 hover:border-zinc-600"}`,children:h?" DENI":"DENI OFF"}),h&&$>0&&s.jsx("div",{className:"mt-2 text-center",children:s.jsxs("p",{className:"text-rose-400 font-black text-lg",children:["KES ",$.toLocaleString()]})})]})]}),s.jsxs("div",{className:"p-6 flex flex-col bg-zinc-950 h-full",children:[s.jsx("div",{className:`px-4 py-3 rounded-xl border transition-all mb-4 ${ye?"bg-blue-500/10 border-blue-500/40":"bg-emerald-500/10 border-emerald-500/40"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-[9px] font-black uppercase text-zinc-500 tracking-wider",children:ye?"Change Due":"Balance Remaining"}),s.jsxs("p",{className:`text-xl font-black ${ye?"text-blue-400":"text-emerald-400"}`,children:["KES ",ye?ee.toLocaleString():Ce.toLocaleString()]})]})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative group",children:[s.jsx(xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-700 group-focus-within:text-white transition-colors",size:18}),s.jsx("input",{ref:te,type:"number",value:c,onChange:B=>d(B.target.value),onKeyDown:B=>ke(B,0),placeholder:"Cash Amount",className:"w-full bg-zinc-900 border border-zinc-800 rounded-xl py-3.5 pl-12 pr-4 text-lg font-bold text-white placeholder:text-zinc-600 outline-none focus:border-white focus:ring-2 focus:ring-white/20 transition-all"})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(ls,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-700 group-focus-within:text-emerald-500 transition-colors",size:18}),s.jsx("input",{ref:se,type:"number",value:f,onChange:B=>m(B.target.value),onKeyDown:B=>ke(B,1),placeholder:"M-Pesa Amount",className:"w-full bg-zinc-900 border border-zinc-800 rounded-xl py-3.5 pl-12 pr-4 text-lg font-bold text-white placeholder:text-zinc-600 outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/20 transition-all"})]}),s.jsxs("div",{className:"relative group",children:[s.jsx(os,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-700 group-focus-within:text-blue-500 transition-colors",size:18}),s.jsx("input",{ref:X,type:"tel",value:w,onChange:B=>j(B.target.value),onKeyDown:B=>ke(B,2),placeholder:L>0||h?"Phone Number (Required)":"Phone Number (Optional)",className:`w-full bg-zinc-900 border rounded-xl py-3.5 pl-12 pr-4 text-lg font-bold text-white placeholder:text-zinc-600 outline-none transition-all ${(L>0||h)&&!w.trim()?"border-rose-500 focus:border-rose-400 focus:ring-2 focus:ring-rose-500/20":"border-zinc-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20"}`})]}),s.jsxs("div",{className:"relative",ref:de,children:[s.jsxs("div",{className:"relative group",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-700 group-focus-within:text-zinc-400 transition-colors",size:18}),s.jsx("input",{ref:U,type:"text",value:v,onChange:B=>{y(B.target.value),T(!0)},onFocus:()=>T(S.length>0),onKeyDown:B=>{O&&S.length>0&&B.key==="ArrowDown"||ke(B,3)},placeholder:h?"Customer Name (Required)":"Customer Name (Optional)",className:`w-full bg-zinc-900 border rounded-xl py-3.5 pl-12 pr-4 text-lg font-bold text-white placeholder:text-zinc-600 outline-none transition-all ${h&&!v.trim()?"border-rose-500 focus:border-rose-400 focus:ring-2 focus:ring-rose-500/20":"border-zinc-800 focus:border-zinc-600 focus:ring-2 focus:ring-zinc-500/20"}`})]}),O&&S.length>0&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl max-h-48 overflow-y-auto",children:S.map(B=>s.jsxs("button",{onClick:()=>Xe(B),className:"w-full px-3 py-2 text-left hover:bg-zinc-800 transition-colors border-b border-zinc-800 last:border-0",children:[s.jsx("p",{className:"text-white font-bold text-sm",children:B.name}),s.jsx("p",{className:"text-zinc-500 text-xs font-mono",children:B.phone}),B.totalDebt>0&&s.jsxs("p",{className:"text-rose-400 text-xs font-black mt-0.5",children:["DEBT: KES ",B.totalDebt.toLocaleString()]})]},B.id))})]})]})}),s.jsxs("div",{className:"pt-4",children:[s.jsx("button",{ref:me,onClick:Je,onKeyDown:B=>{var he;B.key==="ArrowUp"&&(B.preventDefault(),(he=U.current)==null||he.focus())},disabled:!ye||F,className:"w-full py-4 bg-white text-black font-black text-lg rounded-xl hover:scale-[1.01] active:scale-[0.99] transition-all disabled:opacity-10 flex items-center justify-center gap-2 uppercase shadow-xl focus:ring-2 focus:ring-white/30 focus:outline-none",children:F?"PROCESSING...":s.jsxs(s.Fragment,{children:["FINALIZE SALE ",s.jsx(Om,{size:20})]})}),ne&&s.jsx("p",{className:"text-rose-500 text-[9px] font-black text-center mt-2 uppercase tracking-wider",children:ne})]})]})]})]})})]})]})}),s.jsx(GK,{isOpen:D,onClose:()=>{var B;_(!1),W(!1),(B=Pe.current)==null||B.call(Pe,{success:!1,flagged:!1}),Pe.current=null},amount:L,phone:w,accountReference:`SALE${Date.now().toString().slice(-8)}`,tillNumber:"174379",onPaymentSuccess:B=>{var he;I(B),_(!1),(he=Pe.current)==null||he.call(Pe,{success:!0,flagged:!1}),Pe.current=null},onPaymentFailed:B=>{var he;Q(B),_(!1),W(!1),(he=Pe.current)==null||he.call(Pe,{success:!1,flagged:!1}),Pe.current=null},onCompleteLater:async()=>{var B;_(!1),W(!1),(B=Pe.current)==null||B.call(Pe,{success:!0,flagged:!0}),Pe.current=null}})]})}function QK(e,t=300){const[r,n]=g.useState(e);return g.useEffect(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),r}function ZK(){const e=rt(D=>D.branchId),t=rt(D=>D),[r,n]=g.useState([]),[a,i]=g.useState(!0),[l,c]=g.useState(""),[d,f]=g.useState(""),m=QK(d,300),[h,x]=g.useState(!1),[v,y]=g.useState(-1),[w,j]=g.useState("search"),S=g.useRef(null),P=g.useRef(null),k=g.useRef(null),E=async()=>{var D,_;i(!0),c("");try{const W=(await we.get("/products",{params:{branchId:e||t.branchId}})).data,ne=Array.isArray(W)?W:W.products||W.data||[];n(ne)}catch(F){console.error("Error fetching products:",F);const W=((_=(D=F.response)==null?void 0:D.data)==null?void 0:_.message)||"Failed to sync branch inventory.";c(W),Ku(W,"Unable to load product inventory for this branch.")}finally{i(!1)}};g.useEffect(()=>{E()},[e]);const A=r.filter(D=>{var F;const _=m.toLowerCase();return D.name.toLowerCase().includes(_)||((F=D.partNumber)==null?void 0:F.toLowerCase().includes(_))});g.useEffect(()=>{var D;(D=S.current)==null||D.focus()},[]),g.useEffect(()=>{w==="products"&&P.current?setTimeout(()=>{var D;(D=P.current)==null||D.focus()},10):w==="search"&&S.current&&setTimeout(()=>{var D;(D=S.current)==null||D.focus()},10)},[w]),g.useEffect(()=>{y(-1),j("search")},[m]);const z=()=>{const D=window.innerWidth;return D>=1536?3:D>=768?2:1},O=D=>{var _,F,W,ne;D.key==="ArrowDown"&&A.length>0?(D.preventDefault(),y(0),j("products"),(_=P.current)==null||_.focus()):D.key==="Escape"?(D.preventDefault(),f(""),(F=S.current)==null||F.focus()):D.key==="Tab"&&D.shiftKey===!1&&(D.preventDefault(),rt.getState().cart.length>0?(j("tray"),(W=k.current)==null||W.focusFirstItem()):A.length>0&&(y(0),j("products"),(ne=P.current)==null||ne.focus()))},T=D=>{var te,se,U,X;if(w!=="products"||A.length===0)return;const _=z(),F=A.length-1,W=v%_,ne=Math.ceil(A.length/_),Q=W===_-1,q=rt.getState().cart.length>0;switch(D.key){case"ArrowUp":if(D.preventDefault(),v<_){const ve=(ne-1)*_+W;y(Math.min(ve,F))}else y(v-_);break;case"ArrowDown":D.preventDefault();const me=v+_;me<=F?y(me):y(W);break;case"ArrowLeft":D.preventDefault(),v>0?y(v-1):y(F);break;case"ArrowRight":D.preventDefault(),Q||v===F?q?(j("tray"),(te=k.current)==null||te.focusFirstItem()):(y(0),requestAnimationFrame(()=>{var de;return(de=P.current)==null?void 0:de.focus()})):y(v+1);break;case"Enter":case" ":if(D.preventDefault(),v>=0&&v<=F){const de=A[v];R(de)}break;case"Escape":D.preventDefault(),j("search"),y(-1),(se=S.current)==null||se.focus();break;case"Tab":D.preventDefault(),D.shiftKey?(j("search"),y(-1),(U=S.current)==null||U.focus()):q?(j("tray"),(X=k.current)==null||X.focusFirstItem()):requestAnimationFrame(()=>{var de;return(de=P.current)==null?void 0:de.focus()});break}},R=D=>{var F,W;const _=((W=(F=D.inventory)==null?void 0:F[0])==null?void 0:W.quantity)||0;_>0&&rt.getState().addToCart({productId:D.id,name:D.name,price:parseFloat(D.sellingPrice),stock:_,oemNumber:D.partNumber,vehicleMake:D.vehicleMake,vehicleModel:D.vehicleModel})},I=D=>{y(-1),j("search")};return g.useEffect(()=>{if(v>=0&&P.current){const _=P.current.querySelectorAll("[data-product-index]")[v];_&&_.scrollIntoView({behavior:"smooth",block:"center"}),w==="products"&&requestAnimationFrame(()=>{var F;(F=P.current)==null||F.focus()})}},[v,w]),g.useEffect(()=>{const D=_=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(_.key)&&(w==="products"||w==="tray")&&_.preventDefault()};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[w]),g.useEffect(()=>{let D;const _=()=>{clearTimeout(D),D=setTimeout(()=>{w==="products"&&v>=0&&y(-1)},150)};return window.addEventListener("mousemove",_),()=>{window.removeEventListener("mousemove",_),clearTimeout(D)}},[w,v]),s.jsxs("div",{className:"flex h-[calc(100vh-var(--topbar-height))] overflow-hidden bg-[#09090b]",onKeyDown:D=>{["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(D.key)&&D.preventDefault()},children:[s.jsxs("div",{className:"w-[60%] flex flex-col overflow-hidden border-r border-zinc-800/50",children:[s.jsxs("div",{className:"p-6 border-b border-zinc-800/50 bg-[#09090b]",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),s.jsx("input",{ref:S,type:"text",autoFocus:!0,value:d,onChange:D=>f(D.target.value),onKeyDown:O,placeholder:"Search by product name, OEM, or model...",className:"w-full pl-12 pr-4 py-3.5 bg-zinc-900/50 border border-zinc-800 rounded-xl text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all shadow-inner"})]}),s.jsx("button",{onClick:E,disabled:a,className:"bg-zinc-900 border border-zinc-800 hover:border-blue-500/50 hover:bg-zinc-800 text-white p-3.5 rounded-xl transition-all disabled:opacity-50 shadow-sm",title:"Refresh products",children:s.jsx(rn,{className:`w-5 h-5 ${a?"animate-spin":"text-zinc-400"}`})})]}),d&&s.jsxs("p",{className:"text-xs font-medium text-zinc-500 mt-3 uppercase tracking-wider",children:["Results: ",A.length," items found"]})]}),s.jsx("div",{ref:P,className:"flex-1 overflow-y-auto p-6 bg-zinc-950/30 focus:outline-none transition-all relative",onKeyDown:T,onBlur:D=>{w==="products"&&!D.currentTarget.contains(D.relatedTarget)&&requestAnimationFrame(()=>{var _;(_=P.current)==null||_.focus()})},tabIndex:w==="products"?0:-1,style:{scrollBehavior:"smooth"},children:a?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(vt,{className:"w-10 h-10 text-blue-500 animate-spin"})}):l?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"bg-red-500/5 border border-red-500/20 rounded-2xl p-8 max-w-md text-center",children:[s.jsx(tn,{className:"w-12 h-12 text-red-500/50 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Sync Error"}),s.jsx("p",{className:"text-zinc-400 text-sm mb-6",children:l}),s.jsx("button",{onClick:E,className:"px-6 py-2.5 bg-red-500/10 hover:bg-red-500/20 text-red-500 text-sm font-semibold rounded-xl border border-red-500/20 transition-all",children:"Reconnect Inventory"})]})}):A.length===0?s.jsx("div",{className:"flex items-center justify-center h-full opacity-40",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gr,{className:"w-16 h-16 text-zinc-800 mx-auto mb-4"}),s.jsx("p",{className:"text-zinc-500 font-medium",children:"No matching parts found"})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6",children:A.map((D,_)=>{var F,W;return s.jsx(qK,{productId:D.id,name:D.name,partNumber:D.partNumber,vehicleMake:D.vehicleMake,vehicleModel:D.vehicleModel,price:parseFloat(D.sellingPrice),stock:((W=(F=D.inventory)==null?void 0:F[0])==null?void 0:W.quantity)||0,lowStockThreshold:D.lowStockThreshold,isSelected:v===_,dataIndex:_,onMouseEnter:()=>I()},D.id)})})})]}),s.jsx("div",{className:"w-[40%] flex flex-col bg-[#09090b] shadow-2xl z-10",children:s.jsx(TO,{ref:k,onCheckout:()=>x(!0),isFocused:w==="tray",onFocusSearch:()=>{var D;j("search"),(D=S.current)==null||D.focus()},onFocusProducts:()=>{var D;j("products"),v<0&&A.length>0&&y(0),(D=P.current)==null||D.focus()}})}),s.jsx(XK,{isOpen:h,onClose:()=>x(!1),onSuccess:E})]})}function JK(){var Ee;const e=rt(G=>G.branchId),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,l]=g.useState(""),[c,d]=g.useState(""),[f,m]=g.useState(new Date),[h,x]=g.useState(!1),[v,y]=g.useState(null),[w,j]=g.useState(""),[S,P]=g.useState(""),[k,E]=g.useState(!1),[A,z]=g.useState(!1),[O,T]=g.useState(!1),[R,I]=g.useState(!1),[D,_]=g.useState(!1),[F,W]=g.useState(""),[ne,Q]=g.useState(!1),q=(()=>{let G=0,L=0,$=0;return t.forEach(ue=>{ue.payments.forEach(ee=>{const Ce=Number(ee.amount);ee.method==="CASH"?G+=Ce:ee.method==="MPESA"&&(L+=Ce)}),$+=Number(ue.total)}),{cash:Math.round(G),mpesa:Math.round(L),total:Math.round($)}})(),te=q.cash,se=q.mpesa,U=q.total,X=async()=>{var G,L;a(!0),l("");try{const $=new Date(f);$.setHours(0,0,0,0);const ue=new Date(f);ue.setHours(23,59,59,999);const ee=await we.get("/sales",{params:{branchId:e||void 0,startDate:$.toISOString(),endDate:ue.toISOString(),limit:1e3}});r(ee.data.sales||[])}catch($){console.error("Error fetching sales:",$),l(((L=(G=$.response)==null?void 0:G.data)==null?void 0:L.message)||"Failed to load sales data")}finally{a(!1)}};g.useEffect(()=>{X()},[f,e]),g.useEffect(()=>{const G=L=>{L.key==="Escape"&&R&&I(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[R]);const me=t.filter(G=>{const L=c.toLowerCase();return G.receiptNumber.toLowerCase().includes(L)||G.customerName.toLowerCase().includes(L)}),de=async()=>{var G,L;if(!v||!F.trim()){xe.error("Please enter M-Pesa code");return}if(F.trim().length<10){xe.error("M-Pesa code must be at least 10 characters");return}Q(!0);try{await we.post(`/sales/${v.id}/verify-mpesa`,{mpesaCode:F.trim().toUpperCase()}),xe.success(" M-Pesa payment verified successfully!"),_(!1),W(""),y(null),X()}catch($){console.error("Verification error:",$);const ue=((L=(G=$.response)==null?void 0:G.data)==null?void 0:L.message)||"Failed to verify M-Pesa code";xe.error(ue)}finally{Q(!1)}},ve=async()=>{var L,$;if(!v||!w.trim()){xe.error("Please provide a reversal reason");return}const G=parseFloat(S);if(!S||isNaN(G)||G<=0){xe.error("Please enter a valid amount to reverse");return}if(G>v.total){xe.error("Amount to reverse cannot exceed sale total",{description:`Maximum: KES ${new Intl.NumberFormat("en-KE").format(v.total)}`});return}E(!0);try{await we.post(`/sales/${v.id}/request-reversal`,{reason:w.trim(),amount:G}),xe.success("Reversal Request Submitted",{description:"Admin will review your request"}),x(!1),j(""),P(""),y(null),X()}catch(ue){xe.error("Failed to Submit Request",{description:(($=(L=ue.response)==null?void 0:L.data)==null?void 0:$.message)||"Please try again"})}finally{E(!1)}},ke=G=>G.flaggedForVerification&&G.mpesaVerificationStatus==="PENDING"?s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-600 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-600"})]}),s.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-black bg-red-600 text-white uppercase tracking-wide animate-pulse",children:"VERIFY"})]}),s.jsx("span",{className:"text-[9px] text-red-600 font-bold",children:"Click now"})]}):G.reversalStatus==="PENDING"?s.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-yellow-500 text-black uppercase",children:"PENDING"}):G.isCredit&&G.creditStatus==="PENDING"?s.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-rose-500 text-white uppercase",children:"DENI"}):G.isCredit&&G.creditStatus==="PARTIAL"?s.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-orange-500 text-white uppercase",children:"PARTIAL"}):G.isCredit&&G.creditStatus==="PAID"?s.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-emerald-500 text-white uppercase",children:"CLEARED"}):s.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold bg-emerald-500 text-white uppercase",children:"PAID"});return s.jsxs("div",{className:"min-h-screen bg-zinc-950 p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-black text-white mb-2 uppercase italic tracking-tight",children:"Sales Report"}),s.jsx("p",{className:"text-zinc-500 text-sm",children:"Track and manage all sales transactions for your branch"})]}),LK(f)&&s.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-emerald-500/20 rounded-lg",children:s.jsx(Jr,{className:"w-5 h-5 text-emerald-400"})}),s.jsx("p",{className:"text-xs font-bold text-emerald-400 uppercase tracking-wider",children:"Today's Cash"})]}),s.jsxs("p",{className:"text-3xl font-black text-white",children:["KES ",new Intl.NumberFormat("en-KE").format(te)]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:s.jsx(ls,{className:"w-5 h-5 text-blue-400"})}),s.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase tracking-wider",children:"Today's M-Pesa"})]}),s.jsxs("p",{className:"text-3xl font-black text-white",children:["KES ",new Intl.NumberFormat("en-KE").format(se)]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/5 border border-purple-500/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:s.jsx(hn,{className:"w-5 h-5 text-purple-400"})}),s.jsx("p",{className:"text-xs font-bold text-purple-400 uppercase tracking-wider",children:"Daily Total"})]}),s.jsxs("p",{className:"text-3xl font-black text-white",children:["KES ",new Intl.NumberFormat("en-KE").format(U)]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),s.jsx("input",{type:"text",value:c,onChange:G=>d(G.target.value),placeholder:"Search by receipt or customer name...",className:"w-full pl-12 pr-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Ca,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 pointer-events-none"}),s.jsx("input",{type:"date",value:Cn(f,"yyyy-MM-dd"),onChange:G=>m(new Date(G.target.value)),className:"pl-12 pr-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500"})]})]}),s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[s.jsx(ct,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Click on any transaction to view full details"})]}),s.jsxs("div",{className:"text-xs text-zinc-500 font-medium",children:["Showing ",me.length," transactions"]})]}),s.jsxs("div",{className:`bg-white rounded-xl shadow-2xl overflow-hidden transition-all duration-300 ${R?"fixed inset-4 z-50 max-w-none flex flex-col":"relative"}`,children:[s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsx("button",{onClick:()=>I(!R),className:`group flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm transition-all shadow-lg ${R?"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800":"bg-gradient-to-r from-indigo-600 to-blue-600 text-white hover:from-indigo-700 hover:to-blue-700"}`,title:R?"Exit Fullscreen (ESC)":"Expand Fullscreen",children:R?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:"w-4 h-4"}),s.jsx("span",{children:"Exit Fullscreen"})]}):s.jsxs(s.Fragment,{children:[s.jsx(To,{className:"w-4 h-4"}),s.jsx("span",{children:"Fullscreen"})]})})}),n?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(vt,{className:"w-10 h-10 text-blue-500 animate-spin"})}):i?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(tn,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-red-600 font-semibold",children:i})]})}):me.length===0?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gr,{className:"w-16 h-16 text-zinc-300 mx-auto mb-4"}),s.jsx("p",{className:"text-zinc-500 font-medium",children:"No sales found"})]})}):s.jsx("div",{className:`overflow-x-auto ${R?"flex-1":""}`,children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-950 border-b border-zinc-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-3 py-4 text-left text-xs font-black text-white uppercase tracking-wider w-[100px]",children:"Receipt"}),s.jsx("th",{className:"px-3 py-4 text-left text-xs font-black text-white uppercase tracking-wider w-[120px]",children:"Date & Time"}),s.jsx("th",{className:"px-3 py-4 text-left text-xs font-black text-white uppercase tracking-wider w-[140px]",children:"Customer"}),s.jsx("th",{className:"px-3 py-4 text-left text-xs font-black text-white uppercase tracking-wider w-[180px]",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(ct,{className:"w-3 h-3"}),"Products"]})}),s.jsx("th",{className:"px-3 py-4 text-left text-xs font-black text-white uppercase tracking-wider w-[100px]",children:"Payment"}),s.jsx("th",{className:"px-3 py-4 text-right text-xs font-black text-white uppercase tracking-wider w-[110px]",children:"Amounts"}),s.jsx("th",{className:"px-3 py-4 text-left text-xs font-black text-white uppercase tracking-wider w-[120px]",children:"Status"}),s.jsx("th",{className:"px-3 py-4 text-center text-xs font-black text-white uppercase tracking-wider w-[100px]",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-200",children:me.map(G=>s.jsxs("tr",{className:`transition-all cursor-pointer ${G.flaggedForVerification&&G.mpesaVerificationStatus==="PENDING"?"animate-pulse bg-red-50 border-l-4 border-l-red-600 hover:bg-red-100 relative":"hover:bg-blue-50 border-l-4 border-l-transparent hover:border-l-blue-500 hover:shadow-md"}`,onClick:()=>{G.flaggedForVerification&&G.mpesaVerificationStatus==="PENDING"?(y(G),_(!0)):(y(G),T(!0))},style:G.flaggedForVerification&&G.mpesaVerificationStatus==="PENDING"?{boxShadow:"0 0 20px rgba(220, 38, 38, 0.3)",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}:void 0,children:[s.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[G.flaggedForVerification&&G.mpesaVerificationStatus==="PENDING"&&s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-600 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-600"})]}),s.jsx("span",{className:`font-mono font-bold text-xs ${G.flaggedForVerification&&G.mpesaVerificationStatus==="PENDING"?"text-red-700 font-black":"text-zinc-900"}`,title:`Full Receipt: ${G.receiptNumber}`,children:G.receiptNumber.length>10?`...${G.receiptNumber.slice(-8)}`:G.receiptNumber})]})}),s.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-semibold text-zinc-900",children:Cn(new Date(G.createdAt),"dd MMM yy")}),s.jsx("p",{className:"text-[10px] text-zinc-500",children:Cn(new Date(G.createdAt),"hh:mm a")})]})}),s.jsx("td",{className:"px-3 py-3",children:G.isWalkIn?s.jsxs("div",{className:"flex items-center gap-1.5 text-zinc-500 italic",children:[s.jsx(Un,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs",children:"Walk-in"})]}):s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-xs text-zinc-900 truncate max-w-[130px]",title:G.customerName,children:G.customerName}),G.customerPhone&&s.jsxs("p",{className:"text-[10px] text-zinc-500 font-mono",children:[G.customerPhone.slice(0,10),"..."]})]})}),s.jsx("td",{className:"px-3 py-3",children:s.jsx("div",{className:"flex flex-col gap-0.5",children:G.items&&G.items.length>0?s.jsxs(s.Fragment,{children:[G.items.slice(0,1).map((L,$)=>s.jsxs("div",{className:"text-xs font-semibold text-zinc-700 truncate max-w-[170px]",title:L.product.name,children:[L.quantity,"x ",L.product.name]},$)),G.items.length>1&&s.jsxs("span",{className:"text-[10px] text-zinc-500 font-bold",children:["+",G.items.length-1," more..."]})]}):s.jsx("span",{className:"text-[10px] text-zinc-400 italic",children:"No items"})})}),s.jsx("td",{className:"px-3 py-3",children:s.jsx("div",{className:"space-y-0.5",children:G.payments.map((L,$)=>s.jsxs("div",{className:"flex items-center gap-1 text-[10px]",children:[L.method==="CASH"&&s.jsxs(s.Fragment,{children:[s.jsx(Jr,{className:"w-2.5 h-2.5 text-emerald-600"}),s.jsx("span",{className:"font-bold text-zinc-700",children:"CASH"})]}),L.method==="MPESA"&&s.jsxs(s.Fragment,{children:[s.jsx(ls,{className:"w-2.5 h-2.5 text-blue-600"}),s.jsx("span",{className:"font-bold text-zinc-700",children:"MPESA"})]}),L.method==="CREDIT"&&s.jsx(s.Fragment,{children:s.jsx("span",{className:"text-[10px] font-bold text-rose-600 uppercase",children:"DENI"})})]},$))})}),s.jsx("td",{className:"px-3 py-3 text-right",children:s.jsx("div",{className:"space-y-0.5",children:G.payments.map((L,$)=>s.jsx("div",{className:"text-[10px]",children:s.jsx("span",{className:"font-mono font-bold text-zinc-900",children:new Intl.NumberFormat("en-KE").format(L.amount)})},$))})}),s.jsx("td",{className:"px-3 py-3 whitespace-nowrap",children:ke(G)}),s.jsx("td",{className:"px-3 py-3 whitespace-nowrap",onClick:L=>L.stopPropagation(),children:s.jsxs("div",{className:"relative group flex justify-center",children:[s.jsx("button",{className:"p-1.5 hover:bg-zinc-200 rounded-lg transition-colors",children:s.jsx(Wr,{className:"w-3.5 h-3.5 text-zinc-600"})}),s.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border border-zinc-200 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-20 min-w-[180px]",children:[G.reversalStatus==="NONE"&&s.jsxs("button",{onClick:L=>{L.stopPropagation(),y(G),P(G.total.toString()),x(!0)},className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(Pl,{className:"w-3.5 h-3.5"}),"Reversal"]}),s.jsxs("button",{onClick:L=>{L.stopPropagation(),y(G),T(!0)},className:`w-full flex items-center gap-2 px-3 py-2 text-xs text-zinc-700 hover:bg-zinc-50 transition-colors ${G.reversalStatus==="NONE"?"border-t border-zinc-100":""}`,children:[s.jsx(ct,{className:"w-3.5 h-3.5"}),"Details"]}),s.jsxs("button",{onClick:L=>{L.stopPropagation(),window.print()},className:"w-full flex items-center gap-2 px-3 py-2 text-xs text-zinc-700 hover:bg-zinc-50 transition-colors border-t border-zinc-100",children:[s.jsx(Es,{className:"w-3.5 h-3.5"}),"Print"]})]})]})})]},G.id))})]})})]}),s.jsx(Ve,{children:h&&v&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>{x(!1),j(""),P("")},children:s.jsxs(Z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:G=>G.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-2xl font-black text-zinc-900",children:"Request Sale Reversal"}),s.jsx("button",{onClick:()=>{x(!1),j(""),P("")},className:"p-2 hover:bg-zinc-100 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5 text-zinc-600"})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-xl flex items-start gap-3",children:[s.jsx(tn,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-amber-900",children:"Pending Administrative Approval"}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"This request will be reviewed by an administrator before the reversal is processed."})]})]}),s.jsxs("div",{className:"mb-6 p-4 bg-zinc-100 rounded-xl",children:[s.jsx("p",{className:"text-xs text-zinc-600 mb-1",children:"Receipt Number"}),s.jsxs("p",{className:"font-mono font-bold text-zinc-900",children:["#",v.receiptNumber]}),s.jsx("p",{className:"text-xs text-zinc-600 mt-2 mb-1",children:"Total Amount"}),s.jsxs("p",{className:"font-bold text-zinc-900",children:["KES ",new Intl.NumberFormat("en-KE").format(v.total)]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("label",{className:"block text-sm font-bold text-zinc-900",children:["Amount to Reverse (KES) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("button",{onClick:()=>P(v.total.toString()),className:"px-3 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded-lg hover:bg-blue-200 transition-colors",children:"Quick Fill (Full Amount)"})]}),s.jsx("input",{type:"number",value:S,onChange:G=>P(G.target.value),placeholder:"0.00",min:"0",max:v.total,step:"0.01",className:"w-full px-4 py-3 bg-zinc-50 border border-zinc-300 rounded-xl text-zinc-900 placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 font-mono text-lg"}),s.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["Maximum: KES ",new Intl.NumberFormat("en-KE").format(v.total)]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-bold text-zinc-900 mb-2",children:["Reversal Reason ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:w,onChange:G=>j(G.target.value),placeholder:"Explain why this sale needs to be reversed...",rows:4,className:"w-full px-4 py-3 bg-zinc-50 border border-zinc-300 rounded-xl text-zinc-900 placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{x(!1),j(""),P("")},disabled:k,className:"flex-1 px-6 py-3 bg-zinc-200 text-zinc-800 font-bold rounded-xl hover:bg-zinc-300 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:ve,disabled:k||!w.trim()||!S,className:"flex-1 px-6 py-3 bg-red-600 text-white font-bold rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:k?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Pl,{className:"w-4 h-4"}),"Submit Request"]})})]})]})})}),s.jsx(Ve,{children:A&&v&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>{z(!1),y(null)},children:s.jsxs(Z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:G=>G.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-black text-zinc-900",children:"Sale Items"}),s.jsx("button",{onClick:()=>{z(!1),y(null)},className:"p-2 hover:bg-zinc-100 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5 text-zinc-600"})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-zinc-100 rounded-xl",children:[s.jsx("p",{className:"text-xs text-zinc-600 mb-1",children:"Receipt Number"}),s.jsxs("p",{className:"font-mono font-bold text-zinc-900",children:["#",v.receiptNumber]}),s.jsx("p",{className:"text-xs text-zinc-600 mt-2 mb-1",children:"Customer"}),s.jsx("p",{className:"font-semibold text-zinc-900",children:v.isWalkIn?"Walk-in Customer":v.customerName})]}),s.jsx("div",{className:"bg-zinc-50 rounded-xl overflow-hidden mb-6",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-black text-white uppercase",children:"Part Number"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-black text-white uppercase",children:"Item Name"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-black text-white uppercase",children:"Qty"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-black text-white uppercase",children:"Unit Price"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-black text-white uppercase",children:"Total"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-200",children:v.items&&v.items.length>0?v.items.map(G=>s.jsxs("tr",{className:"hover:bg-zinc-100 transition-colors",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-mono text-zinc-700",children:G.product.partNumber}),s.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-zinc-900",children:G.product.name}),s.jsx("td",{className:"px-4 py-3 text-sm text-center font-bold text-zinc-900",children:G.quantity}),s.jsx("td",{className:"px-4 py-3 text-sm text-right font-mono text-zinc-700",children:new Intl.NumberFormat("en-KE").format(G.unitPrice)}),s.jsx("td",{className:"px-4 py-3 text-sm text-right font-mono font-bold text-zinc-900",children:new Intl.NumberFormat("en-KE").format(G.total)})]},G.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-zinc-500",children:"No items found for this sale"})})}),s.jsx("tfoot",{className:"bg-zinc-900",children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:4,className:"px-4 py-3 text-right text-sm font-black text-white uppercase",children:"Grand Total:"}),s.jsxs("td",{className:"px-4 py-3 text-right text-lg font-black text-emerald-400",children:["KES ",new Intl.NumberFormat("en-KE").format(v.total)]})]})})]})}),s.jsx("button",{onClick:()=>{z(!1),y(null)},className:"w-full px-6 py-3 bg-zinc-900 text-white font-bold rounded-xl hover:bg-zinc-800 transition-colors",children:"Close"})]})})}),s.jsx(Ve,{children:D&&v&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border-4 border-red-600",style:{boxShadow:"0 0 40px rgba(220, 38, 38, 0.5)"},children:[s.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 p-6 relative",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-red-900 opacity-50 animate-pulse"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsxs("span",{className:"flex h-12 w-12",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-white opacity-40"}),s.jsx("span",{className:"relative inline-flex items-center justify-center rounded-full h-12 w-12 bg-white",children:s.jsx(tn,{className:"w-6 h-6 text-red-600"})})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:" Verify M-Pesa"}),s.jsx("p",{className:"text-red-100 text-xs font-bold",children:"Security Check Required"})]})]}),s.jsx("button",{onClick:()=>{_(!1),W(""),y(null)},className:"text-white hover:bg-white/20 p-2 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(tn,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-bold text-red-900 uppercase tracking-wider mb-2",children:"Flagged Sale - Awaiting Payment"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-red-700 font-semibold",children:"Receipt:"}),s.jsxs("span",{className:"font-mono font-black text-red-900",children:["#",v.receiptNumber]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-red-700 font-semibold",children:"Amount:"}),s.jsxs("span",{className:"font-black text-red-900",children:["KES"," ",v.payments.filter(G=>G.method==="MPESA").reduce((G,L)=>G+Number(L.amount),0).toLocaleString()]})]}),v.flaggedAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-red-700 font-semibold",children:"Flagged:"}),s.jsxs("span",{className:"text-red-900 text-xs",children:[Math.floor((Date.now()-new Date(v.flaggedAt).getTime())/1e3/60)," ","min ago"]})]})]})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-bold text-zinc-900 mb-2 uppercase tracking-wider",children:"Enter M-Pesa Receipt Code"}),s.jsx("input",{type:"text",value:F,onChange:G=>W(G.target.value.toUpperCase()),onKeyDown:G=>{G.key==="Enter"&&F.trim().length>=10&&!ne&&de()},placeholder:"e.g., QH12ABC789",className:"w-full px-4 py-3 bg-white border-2 border-zinc-300 rounded-xl text-center font-mono text-lg font-bold text-zinc-900 uppercase placeholder:text-zinc-400 focus:outline-none focus:ring-4 focus:ring-red-500/50 focus:border-red-500 transition-all",autoFocus:!0,maxLength:15}),s.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Ask customer for their M-Pesa confirmation code"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{onClick:()=>{_(!1),W(""),y(null)},disabled:ne,className:"px-6 py-3 bg-zinc-200 text-zinc-700 font-bold rounded-xl hover:bg-zinc-300 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{onClick:de,disabled:ne||F.trim().length<10,className:"px-6 py-3 bg-red-600 text-white font-black rounded-xl hover:bg-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed uppercase tracking-wider shadow-lg",children:ne?s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Verifying..."]}):" Verify & Unflag"})]})]})]})})}),s.jsx(Ve,{children:O&&v&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>{T(!1),y(null)},children:s.jsxs(Z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:G=>G.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Transaction Details"}),s.jsxs("p",{className:"text-blue-100 text-sm font-mono mt-1",children:["Receipt: #",v.receiptNumber]})]}),s.jsx("button",{onClick:()=>{T(!1),y(null)},className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5 text-white"})})]})}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6 p-5 bg-zinc-50 rounded-2xl border border-zinc-200",children:s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 font-bold uppercase tracking-wider mb-1.5",children:"Date & Time"}),s.jsx("p",{className:"text-zinc-900 font-bold",children:Cn(new Date(v.createdAt),"dd MMM yyyy")}),s.jsx("p",{className:"text-sm text-zinc-600",children:Cn(new Date(v.createdAt),"hh:mm a")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 font-bold uppercase tracking-wider mb-1.5",children:"Customer"}),s.jsx("p",{className:"text-zinc-900 font-bold",children:v.isWalkIn?"Walk-in Customer":v.customerName}),v.customerPhone&&s.jsx("p",{className:"text-xs text-zinc-600 font-mono",children:v.customerPhone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 font-bold uppercase tracking-wider mb-1.5",children:"Cashier"}),s.jsx("p",{className:"text-zinc-900 font-bold",children:v.user.name})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-sm font-black text-zinc-900 uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(ct,{className:"w-4 h-4"}),"Products Sold (",((Ee=v.items)==null?void 0:Ee.length)||0,")"]}),s.jsx("div",{className:"border border-zinc-200 rounded-2xl overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-black text-white uppercase",children:"Part Number"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-black text-white uppercase",children:"Product Name"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-black text-white uppercase",children:"Qty"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-black text-white uppercase",children:"Unit Price"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-black text-white uppercase",children:"Subtotal"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-200",children:v.items&&v.items.length>0?v.items.map((G,L)=>s.jsxs("tr",{className:"hover:bg-zinc-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3 text-sm font-mono text-zinc-700",children:G.product.partNumber}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("p",{className:"text-sm font-bold text-zinc-900",children:G.product.name})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-900 rounded-lg text-sm font-bold",children:G.quantity})}),s.jsxs("td",{className:"px-4 py-3 text-right text-sm font-mono text-zinc-700",children:["KES ",new Intl.NumberFormat("en-KE").format(G.unitPrice)]}),s.jsxs("td",{className:"px-4 py-3 text-right text-sm font-bold text-zinc-900",children:["KES ",new Intl.NumberFormat("en-KE").format(G.total)]})]},L)):s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-zinc-500",children:"No items found"})})}),s.jsx("tfoot",{className:"bg-zinc-900",children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:4,className:"px-4 py-4 text-right text-base font-black text-white uppercase",children:"Grand Total:"}),s.jsxs("td",{className:"px-4 py-4 text-right text-2xl font-black text-emerald-400",children:["KES ",new Intl.NumberFormat("en-KE").format(v.total)]})]})})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-sm font-black text-zinc-900 uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4"}),"Payment Breakdown"]}),s.jsx("div",{className:"space-y-3",children:v.payments.map((G,L)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-zinc-50 to-zinc-100 border border-zinc-200 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[G.method==="CASH"&&s.jsx(Jr,{className:"w-5 h-5 text-emerald-600"}),G.method==="MPESA"&&s.jsx(ls,{className:"w-5 h-5 text-blue-600"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm font-bold text-zinc-900",children:G.method})})]}),s.jsxs("span",{className:"text-lg font-black text-zinc-900",children:["KES ",new Intl.NumberFormat("en-KE").format(G.amount)]})]},L))})]}),s.jsx("div",{className:"flex items-center justify-center py-4",children:ke(v)}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsxs("button",{onClick:()=>window.print(),className:"flex-1 px-6 py-3 bg-zinc-900 text-white font-bold rounded-xl hover:bg-zinc-800 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Es,{className:"w-4 h-4"}),"Print Receipt"]}),s.jsx("button",{onClick:()=>{T(!1),y(null)},className:"flex-1 px-6 py-3 bg-zinc-200 text-zinc-800 font-bold rounded-xl hover:bg-zinc-300 transition-colors",children:"Close"})]})]})]})})}),R&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>I(!1)})]})}const k5="pram-restock-history",eq=()=>{try{const e=new Audio("/sounds/info.mp3");e.volume=.5,e.play().catch(t=>console.log("Audio play failed:",t))}catch(e){console.log("Audio load failed:",e)}};function tq(){const e=rt(I=>I.branchId),t=rt(I=>I.branchName),[r,n]=g.useState([]),[a,i]=g.useState(!0),[l,c]=g.useState(""),[d,f]=g.useState(""),[m,h]=g.useState(!1),[x,v]=g.useState(!1),[y,w]=g.useState(!1),[j,S]=g.useState(null),[P,k]=g.useState(""),E=async()=>{var I,D;i(!0),c("");try{const _=await we.get("/inventory",{params:{branchId:e||void 0}});n(_.data||[])}catch(_){console.error("Error fetching inventory:",_),c(((D=(I=_.response)==null?void 0:I.data)==null?void 0:D.message)||"Failed to load inventory data"),xe.error("Failed to load inventory")}finally{i(!1)}};g.useEffect(()=>{E()},[e]),g.useEffect(()=>{const I=D=>{D.key==="Escape"&&x&&v(!1)};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[x]);const A=r.length,z=r.filter(I=>I.quantity<=I.product.lowStockThreshold).length,O=r.filter(I=>{var F,W;const D=d.toLowerCase();return(((F=I.product.partNumber)==null?void 0:F.toLowerCase().includes(D))??!1)||I.product.name.toLowerCase().includes(D)||(((W=I.product.vehicleMake)==null?void 0:W.toLowerCase().includes(D))??!1)?m?I.quantity<=I.product.lowStockThreshold:!0:!1}),T=I=>I?OW(new Date,new Date(I))>90:!0,R=()=>{if(!j||!P){xe.error("Please enter a valid quantity");return}const I=parseInt(P);if(isNaN(I)||I<=0){xe.error("Quantity must be greater than 0");return}const D=j.product.vehicleMake?`${j.product.vehicleMake} ${j.product.vehicleModel||""}`.trim():void 0,_={id:j.productId,name:j.product.name,fitment:D,partNumber:j.product.partNumber||void 0,currentStock:j.quantity,threshold:j.product.lowStockThreshold,orderQuantity:I},F={id:`order-${Date.now()}`,items:[_],timestamp:new Date().toISOString(),branch:t};try{const W=localStorage.getItem(k5),ne=W?JSON.parse(W):[],Q=[F,...ne];localStorage.setItem(k5,JSON.stringify(Q))}catch(W){console.error("Failed to save order history:",W)}eq(),xe.success("Items have been ordered successfully to be restocked soon...",{duration:4e3}),w(!1),k(""),S(null)};return s.jsxs("div",{className:"min-h-screen bg-zinc-950 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-white mb-2 uppercase italic tracking-tight",children:"Inventory Master"}),s.jsx("p",{className:"text-zinc-500 text-sm",children:"Complete stock monitoring with dead stock detection"})]}),s.jsxs("button",{onClick:E,disabled:a,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50",children:[s.jsx(rn,{className:`w-5 h-5 ${a?"animate-spin":""}`}),"Refresh"]})]}),s.jsxs(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:s.jsx(ct,{className:"w-5 h-5 text-blue-400"})}),s.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase tracking-wider",children:"Total Items"})]}),s.jsxs("p",{className:"text-3xl font-black text-white",children:[new Intl.NumberFormat("en-KE").format(A)," Items"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-red-500/10 to-red-600/5 border border-red-500/20 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2 bg-red-500/20 rounded-lg",children:s.jsx(St,{className:"w-5 h-5 text-red-400"})}),s.jsx("p",{className:"text-xs font-bold text-red-400 uppercase tracking-wider",children:"Low Stock Alerts"})]}),s.jsxs("p",{className:"text-3xl font-black text-white",children:[new Intl.NumberFormat("en-KE").format(z)," Alerts"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),s.jsx("input",{type:"text",value:d,onChange:I=>f(I.target.value),placeholder:"Search by Name, Part Number or Vehicle Make...",className:"w-full pl-12 pr-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500"})]}),s.jsxs("div",{className:"flex items-center gap-3 bg-zinc-900 border border-zinc-800 rounded-xl px-6 py-3",children:[s.jsx("label",{htmlFor:"reorder-toggle",className:"text-sm font-bold text-white cursor-pointer select-none",children:"Reorder Mode"}),s.jsx("button",{id:"reorder-toggle",onClick:()=>h(!m),className:`relative w-12 h-6 rounded-full transition-colors ${m?"bg-red-500":"bg-zinc-700"}`,children:s.jsx("span",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform ${m?"translate-x-6":"translate-x-0"}`})})]})]}),s.jsxs("div",{className:`bg-white rounded-xl shadow-2xl overflow-hidden transition-all duration-300 ${x?"fixed inset-4 z-50 max-w-none flex flex-col":"relative"}`,children:[s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsx("button",{onClick:()=>v(!x),className:`group flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm transition-all shadow-lg ${x?"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800":"bg-gradient-to-r from-indigo-600 to-blue-600 text-white hover:from-indigo-700 hover:to-blue-700"}`,title:x?"Exit Fullscreen (ESC)":"Expand Fullscreen",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:"w-4 h-4"}),s.jsx("span",{children:"Exit Fullscreen"})]}):s.jsxs(s.Fragment,{children:[s.jsx(To,{className:"w-4 h-4"}),s.jsx("span",{children:"Fullscreen"})]})})}),a?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(vt,{className:"w-10 h-10 text-blue-500 animate-spin"})}):l?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(tn,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-red-600 font-semibold",children:l})]})}):O.length===0?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx(gr,{className:"w-16 h-16 text-zinc-300 mx-auto mb-4"}),s.jsx("p",{className:"text-zinc-500 font-medium",children:m?"No items need reordering":"No inventory items found"})]})}):s.jsx("div",{className:`overflow-x-auto ${x?"flex-1":""}`,children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-950 border-b border-zinc-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-white uppercase tracking-wider",children:"Part Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-white uppercase tracking-wider",children:"Fitment"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-white uppercase tracking-wider",children:"Stock Level"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-white uppercase tracking-wider",children:"Selling Price"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-white uppercase tracking-wider",children:"Last Sold"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-white uppercase tracking-wider",children:"Last Restock"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-black text-white uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-200",children:O.map(I=>{const D=I.quantity<=I.product.lowStockThreshold,_=T(I.lastSoldAt);return s.jsxs("tr",{className:"hover:bg-zinc-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-mono font-bold text-sm text-zinc-900",children:["#",I.product.partNumber||"N/A"]}),s.jsx("p",{className:"text-sm text-zinc-600 mt-1",children:I.product.name})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm text-zinc-900",children:I.product.vehicleMake||"Universal"}),s.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:I.product.vehicleModel||"All Models"})]})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:`font-bold text-sm ${D?"text-red-600":"text-emerald-600"}`,children:[I.quantity," Units"]}),D&&s.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-bold rounded",children:"LOW"})]}),s.jsxs("p",{className:"text-xs text-zinc-500 mt-1",children:["Min: ",I.product.lowStockThreshold]})]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("p",{className:"font-mono font-bold text-sm text-zinc-900",children:["KES ",new Intl.NumberFormat("en-KE").format(I.product.sellingPrice)]})}),s.jsx("td",{className:"px-6 py-4",children:_?s.jsx("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-amber-100 text-amber-800 text-xs font-bold rounded-full",children:" DEAD STOCK"}):I.lastSoldAt?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-zinc-700",children:Cn(new Date(I.lastSoldAt),"d MMM")}),s.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:Vm(new Date(I.lastSoldAt),{addSuffix:!0})})]}):s.jsx("span",{className:"text-sm text-zinc-400",children:"Never sold"})}),s.jsx("td",{className:"px-6 py-4",children:I.lastRestockAt?s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-zinc-700",children:Cn(new Date(I.lastRestockAt),"d MMM")}),s.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:Vm(new Date(I.lastRestockAt),{addSuffix:!0})})]}):s.jsx("span",{className:"text-sm text-zinc-400",children:"-"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>{S(I),w(!0)},className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Create Order",children:s.jsx(Os,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>window.print(),className:"p-2 bg-zinc-100 text-zinc-700 rounded-lg hover:bg-zinc-200 transition-colors",title:"Print",children:s.jsx(Es,{className:"w-4 h-4"})})]})})]},I.id)})})]})})]}),s.jsx(Ve,{children:y&&j&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",onClick:()=>{w(!1),k(""),S(null)},children:s.jsxs(Z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:I=>I.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg",children:[s.jsxs("div",{className:"bg-zinc-950 p-6 rounded-t-2xl flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black text-white",children:"Create Order"}),s.jsx("p",{className:"text-zinc-400 text-sm mt-1",children:"Request stock replenishment"})]}),s.jsx("button",{onClick:()=>{w(!1),k(""),S(null)},className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5 text-zinc-400"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6 p-4 bg-zinc-100 rounded-xl",children:[s.jsx("p",{className:"text-xs text-zinc-600 mb-1",children:"Product"}),s.jsx("p",{className:"font-bold text-zinc-900",children:j.product.name}),s.jsx("p",{className:"text-xs text-zinc-600 mt-2 mb-1",children:"Part Number"}),s.jsxs("p",{className:"font-mono text-sm text-zinc-900",children:["#",j.product.partNumber||"N/A"]}),s.jsx("p",{className:"text-xs text-zinc-600 mt-2 mb-1",children:"Current Stock"}),s.jsxs("p",{className:`font-bold text-sm ${j.quantity<=j.product.lowStockThreshold?"text-red-600":"text-emerald-600"}`,children:[j.quantity," Units"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-bold text-zinc-900 mb-2",children:["Quantity to Order ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:P,onChange:I=>k(I.target.value),placeholder:"Enter quantity...",min:"1",className:"w-full px-4 py-3 bg-zinc-50 border border-zinc-300 rounded-xl text-zinc-900 placeholder-zinc-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-lg",autoFocus:!0})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{w(!1),k(""),S(null)},className:"flex-1 px-6 py-3 bg-zinc-200 text-zinc-800 font-bold rounded-xl hover:bg-zinc-300 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:R,disabled:!P,className:"flex-1 px-6 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[s.jsx(Os,{className:"w-4 h-4"}),"Submit Order"]})]})]})]})})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>v(!1)})]})}const MO=e=>Number(e.totalDebt),P5=e=>{const t=MO(e);return t>0?{type:"DEBT",label:"Owes Debt",amount:t,bgColor:"bg-rose-100",textColor:"text-rose-600",icon:tn}:{type:"GOOD",label:"Good Standing",amount:0,bgColor:"bg-emerald-100",textColor:"text-emerald-600",icon:ss}},ug=e=>{let t=e.replace(/\s+/g,"").replace(/[^\d]/g,"");return t.startsWith("07")||t.startsWith("01")?t="254"+t.substring(1):t.startsWith("254")||t.length===9&&(t="254"+t),t},rq=e=>{const t=e.timeline.filter(n=>n.type==="PAYMENT");if(t.length===0)return null;const r=t[0];return{amount:r.amount,txId:r.receiptNumber||"N/A"}};function nq(){var Je;const e=rt(B=>B.branchName),[t,r]=g.useState([]),[n,a]=g.useState(!0),[i,l]=g.useState(""),[c,d]=g.useState(null),[f,m]=g.useState(!1),[h,x]=g.useState("history"),[v,y]=g.useState(!1),[w,j]=g.useState(""),[S,P]=g.useState(""),[k,E]=g.useState(new Set),[A,z]=g.useState(!1),[O,T]=g.useState(!1),[R,I]=g.useState("all"),[D,_]=g.useState({open:!1,transaction:null}),[F,W]=g.useState({open:!1,sale:null}),[ne,Q]=g.useState(""),[V,q]=g.useState("CASH"),[te,se]=g.useState(!1),U=g.useRef(null);g.useEffect(()=>{X()},[i]),g.useEffect(()=>{const B=he=>{he.key==="Escape"&&O&&T(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[O]);const X=async()=>{try{a(!0);const B=await ln.customers.list({search:i});r(B.data.customers)}catch(B){console.error("Failed to fetch customers:",B)}finally{a(!1)}},me=async B=>{try{const he=await ln.customers.get(B.id);d(he.data),j(he.data.name),P(he.data.phone),m(!0),x("history"),E(new Set)}catch(he){console.error("Failed to fetch customer details:",he)}},de=async()=>{if(c)try{await ln.customers.update(c.id,{name:w,phone:S}),y(!1),X();const B=await ln.customers.get(c.id);d(B.data),xe.success("Customer updated successfully")}catch(B){console.error("Failed to update customer:",B),xe.error("Failed to update customer")}},ve=B=>{E(he=>{const Te=new Set(he);return Te.has(B)?Te.delete(B):Te.add(B),Te})},ke=B=>{const he=B.payments.filter(Be=>Be.method==="CREDIT").reduce((Be,nt)=>Be+Number(nt.amount),0),Te=B.creditPayments.reduce((Be,nt)=>Be+Number(nt.amount),0),qe=he-Te;Q(qe>0?qe.toString():""),W({open:!0,sale:B})},Ee=()=>{W({open:!1,sale:null}),Q(""),q("CASH")},G=async()=>{var B,he;if(!(!F.sale||!c)){se(!0);try{await ln.sales.recordCreditPayment(F.sale.id,{amount:parseFloat(ne),paymentMethod:V}),new Audio("/sounds/success.mp3").play().catch(Be=>console.log("Audio play failed:",Be)),xe.success("Payment recorded successfully!"),Ee();const qe=await ln.customers.get(c.id);d(qe.data),X()}catch(Te){console.error("Failed to record payment:",Te),xe.error(((he=(B=Te.response)==null?void 0:B.data)==null?void 0:he.message)||"Failed to record payment")}finally{se(!1)}}},L=B=>{_({open:!0,transaction:B})},$=()=>{_({open:!1,transaction:null})},ue=()=>{window.print()},ee=B=>B.split(" ").map(he=>he[0]).join("").toUpperCase().slice(0,2),Ce=B=>new Date(B).toLocaleDateString("en-KE",{day:"numeric",month:"short",year:"numeric"}),ye=B=>new Date(B).toLocaleTimeString("en-KE",{hour:"2-digit",minute:"2-digit"}),Xe=B=>Cn(new Date(B),"dd MMM yyyy, HH:mm"),Ue=B=>Vm(new Date(B),{addSuffix:!0}),re=()=>{if(!c)return[];switch(R){case"sales":return c.timeline.filter(B=>B.type==="CREDIT_SALE"||B.type==="CASH_SALE");case"payments":return c.timeline.filter(B=>B.type==="PAYMENT");default:return c.timeline}},Pe=(()=>{if(!c)return{totalTransactions:0,avgTransaction:0,cashSales:0,creditSales:0};const B=c.timeline.filter(He=>He.type==="CREDIT_SALE"||He.type==="CASH_SALE"),he=B.length,Te=B.reduce((He,bt)=>He+bt.amount,0),qe=he>0?Te/he:0,Be=B.filter(He=>He.type==="CASH_SALE").length,nt=B.filter(He=>He.type==="CREDIT_SALE").length;return{totalTransactions:he,avgTransaction:qe,cashSales:Be,creditSales:nt}})();return s.jsxs("div",{className:"min-h-screen bg-zinc-950 p-8",children:[s.jsx("style",{children:`
        @media print {
          @page {
            size: 80mm auto;
            margin: 0;
          }

          body * {
            visibility: hidden;
          }

          #reprint-receipt, #reprint-receipt * {
            visibility: visible;
          }

          #reprint-receipt {
            position: absolute;
            left: 0;
            top: 0;
            width: 80mm;
            background: white !important;
            color: black !important;
          }
        }
      `}),s.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-white rounded-2xl flex items-center justify-center",children:s.jsx(Un,{className:"text-zinc-900",size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"Customers"}),s.jsx("p",{className:"text-zinc-500 text-sm font-medium",children:"CRM & Customer Management"})]})]}),s.jsxs("div",{className:"relative w-80",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500",size:18}),s.jsx("input",{type:"text",placeholder:"Search by name or phone...",value:i,onChange:B=>l(B.target.value),className:"w-full bg-zinc-900 border border-zinc-800 rounded-xl py-3 pl-12 pr-4 text-white placeholder:text-zinc-500 focus:outline-none focus:border-zinc-700"})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:`bg-white rounded-[2.5rem] shadow-2xl border border-zinc-200 overflow-hidden transition-all duration-300 ${O?"fixed inset-4 z-50 max-w-none rounded-xl":"relative"}`,children:[s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsx("button",{onClick:()=>T(!O),className:`group flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm transition-all shadow-lg ${O?"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800":"bg-gradient-to-r from-indigo-600 to-blue-600 text-white hover:from-indigo-700 hover:to-blue-700"}`,title:O?"Exit Fullscreen (ESC)":"Expand Fullscreen",children:O?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:"w-4 h-4"}),s.jsx("span",{children:"Exit Fullscreen"})]}):s.jsxs(s.Fragment,{children:[s.jsx(To,{className:"w-4 h-4"}),s.jsx("span",{children:"Fullscreen"})]})})}),s.jsx("div",{className:"bg-zinc-50 border-b border-zinc-100 px-8 py-6",children:s.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[s.jsx("div",{className:"col-span-4 text-xs font-black uppercase tracking-[0.2em] text-zinc-400",children:"Customer"}),s.jsx("div",{className:"col-span-2 text-xs font-black uppercase tracking-[0.2em] text-zinc-400",children:"Status"}),s.jsx("div",{className:"col-span-2 text-xs font-black uppercase tracking-[0.2em] text-zinc-400",children:"Total Spent"}),s.jsx("div",{className:"col-span-2 text-xs font-black uppercase tracking-[0.2em] text-zinc-400",children:"Debt"}),s.jsx("div",{className:"col-span-2 text-xs font-black uppercase tracking-[0.2em] text-zinc-400",children:"Last Visit"})]})}),s.jsx("div",{className:"divide-y divide-zinc-100",children:n?s.jsx("div",{className:"py-20 text-center text-zinc-400",children:s.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-zinc-300 border-t-zinc-900"})}):t.length===0?s.jsxs("div",{className:"py-20 text-center text-zinc-400",children:[s.jsx(Un,{className:"mx-auto mb-4",size:48}),s.jsx("p",{className:"font-bold",children:"No customers found"})]}):t.map(B=>s.jsxs("div",{onClick:()=>me(B),className:"grid grid-cols-12 gap-4 items-center px-8 h-20 hover:bg-blue-50/50 cursor-pointer transition-all group",children:[s.jsxs("div",{className:"col-span-4 flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-100 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-zinc-900 font-black text-sm",children:ee(B.name)})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-black text-lg text-zinc-900 tracking-tight group-hover:text-blue-600 transition-colors",children:B.name}),s.jsx("p",{className:"text-sm text-zinc-500 font-mono",children:B.phone})]})]}),s.jsx("div",{className:"col-span-2",children:(()=>{const he=P5(B),Te=he.icon;return s.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full ${he.bgColor} ${he.textColor} text-xs font-black uppercase`,children:[s.jsx(Te,{size:12}),he.label]})})()}),s.jsx("div",{className:"col-span-2",children:s.jsxs("p",{className:"font-black text-zinc-900",children:["KES ",Number(B.totalSpent).toLocaleString()]})}),s.jsx("div",{className:"col-span-2",children:Number(B.totalDebt)>0?s.jsxs("p",{className:"font-medium text-rose-600",children:["KES ",Number(B.totalDebt).toLocaleString()]}):s.jsx("p",{className:"font-medium text-zinc-300",children:""})}),s.jsx("div",{className:"col-span-2",children:s.jsx("p",{className:"text-sm text-zinc-600",children:Ue(B.lastVisitAt)})})]},B.id))})]})}),s.jsx(Ve,{children:f&&c&&s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40"}),s.jsxs(Z.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed right-0 top-0 bottom-0 w-[700px] bg-zinc-950 border-l border-zinc-800 shadow-2xl z-50 overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-zinc-950/95 backdrop-blur-xl border-b border-zinc-800 p-6 z-10",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"flex-1",children:v?s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",value:w,onChange:B=>j(B.target.value),className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-2 text-white font-bold"}),s.jsx("input",{type:"tel",value:S,onChange:B=>P(B.target.value),className:"w-full bg-zinc-900 border border-zinc-800 rounded-lg px-4 py-2 text-white font-mono"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:de,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-bold",children:"Save"}),s.jsx("button",{onClick:()=>{y(!1),j(c.name),P(c.phone)},className:"px-4 py-2 bg-zinc-800 text-white rounded-lg text-sm font-bold",children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h2",{className:"text-2xl font-black text-white",children:c.name}),s.jsx("button",{onClick:()=>y(!0),className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors",children:s.jsx(ab,{size:16,className:"text-zinc-500"})})]}),s.jsxs("p",{className:"text-zinc-400 font-mono flex items-center gap-2 mb-4",children:[s.jsx(os,{size:14}),c.phone]}),c.frequentItems.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:c.frequentItems.map((B,he)=>s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 text-xs font-bold",children:[B.name," ",s.jsxs("span",{className:"text-blue-300",children:["",B.count]})]},he))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs font-black uppercase text-zinc-500 tracking-wider",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[P5(c).type==="DEBT"&&s.jsxs("a",{href:`https://wa.me/${ug(c.phone)}?text=${encodeURIComponent(`Hello ${c.name}, kindly note an outstanding balance of KES ${MO(c).toLocaleString()} at Pram Auto Spares.`)}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center gap-1 py-3 bg-rose-600 hover:bg-rose-500 text-white rounded-xl transition-all min-h-[44px]",children:[s.jsx(Ky,{size:16}),s.jsx("span",{className:"text-[10px] font-black uppercase",children:"Remind"})]}),s.jsxs("a",{href:`https://wa.me/${ug(c.phone)}?text=${encodeURIComponent((()=>{const B=rq(c);return B?`Hello ${c.name}, here is your receipt for the recent payment of KES ${B.amount.toLocaleString()}. Transaction ID: ${B.txId}.`:`Hello ${c.name}, thank you for your business at Pram Auto Spares.`})())}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center gap-1 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-xl transition-all min-h-[44px]",children:[s.jsx(Hs,{size:16}),s.jsx("span",{className:"text-[10px] font-black uppercase",children:"Receipt"})]}),s.jsxs("a",{href:`https://wa.me/${ug(c.phone)}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center gap-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-xl transition-all min-h-[44px]",children:[s.jsx(Gy,{size:16}),s.jsx("span",{className:"text-[10px] font-black uppercase",children:"Chat"})]})]})]})]})}),s.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors ml-4",children:s.jsx(Ze,{size:20,className:"text-zinc-500"})})]}),s.jsx("div",{className:"flex gap-2 mt-6",children:["history","debts"].map(B=>s.jsx("button",{onClick:()=>x(B),className:`flex-1 py-2 px-4 rounded-lg text-sm font-black uppercase transition-all ${h===B?"bg-white text-zinc-900":"bg-zinc-900 text-zinc-500 hover:bg-zinc-800"}`,children:B==="history"?"Transaction History":"Debt Sales"},B))})]}),s.jsx("div",{className:"p-6",children:s.jsxs(Ve,{mode:"wait",children:[h==="history"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[s.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(_S,{size:14,className:"text-blue-400"}),s.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-500",children:"Total Orders"})]}),s.jsx("p",{className:"text-2xl font-black text-white",children:Pe.totalTransactions})]}),s.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(hn,{size:14,className:"text-emerald-400"}),s.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-500",children:"Avg. Order"})]}),s.jsxs("p",{className:"text-2xl font-black text-white",children:["KES ",Math.round(Pe.avgTransaction).toLocaleString()]})]}),s.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xr,{size:14,className:"text-green-400"}),s.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-500",children:"Cash Sales"})]}),s.jsx("p",{className:"text-2xl font-black text-white",children:Pe.cashSales})]}),s.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Or,{size:14,className:"text-rose-400"}),s.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-500",children:"Credit Sales"})]}),s.jsx("p",{className:"text-2xl font-black text-white",children:Pe.creditSales})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-xs font-black uppercase text-zinc-500",children:"Transaction Timeline"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hu,{size:14,className:"text-zinc-500"}),s.jsxs("select",{value:R,onChange:B=>I(B.target.value),className:"bg-zinc-900 border border-zinc-800 rounded-lg px-3 py-1.5 text-xs font-bold text-white focus:outline-none focus:border-zinc-700",children:[s.jsx("option",{value:"all",children:"All Transactions"}),s.jsx("option",{value:"sales",children:"Sales Only"}),s.jsx("option",{value:"payments",children:"Payments Only"})]})]})]}),s.jsx("div",{className:"space-y-4",children:re().length===0?s.jsxs("div",{className:"bg-zinc-900 rounded-xl p-8 text-center border border-zinc-800",children:[s.jsx(mn,{className:"mx-auto mb-3 text-zinc-600",size:48}),s.jsx("p",{className:"text-white font-bold",children:"No transactions found"}),s.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"This customer hasn't made any purchases yet"})]}):re().map((B,he)=>{const Te=B.type==="CREDIT_SALE"||B.type==="CASH_SALE",qe=B.saleId&&k.has(B.saleId);return s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:he*.05},className:"bg-zinc-900 rounded-2xl border border-zinc-800 overflow-hidden hover:border-zinc-700 transition-colors",children:[s.jsx("div",{className:`p-4 ${Te?"cursor-pointer":""}`,onClick:()=>Te&&B.saleId&&ve(B.saleId),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${B.type==="PAYMENT"?"bg-emerald-500/10 border border-emerald-500/20":B.type==="CREDIT_SALE"?"bg-rose-500/10 border border-rose-500/20":"bg-blue-500/10 border border-blue-500/20"}`,children:B.type==="PAYMENT"?s.jsx(Jr,{className:"text-emerald-400",size:20}):B.type==="CREDIT_SALE"?s.jsx(Or,{className:"text-rose-400",size:20}):s.jsx(_S,{className:"text-blue-400",size:20})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-bold text-white",children:B.type==="PAYMENT"?"Payment Received":B.type==="CREDIT_SALE"?"Credit Sale":"Cash Sale"}),B.type==="CREDIT_SALE"&&B.creditStatus&&s.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded ${B.creditStatus==="PAID"?"bg-emerald-500/20 text-emerald-400":B.creditStatus==="PARTIAL"?"bg-amber-500/20 text-amber-400":"bg-rose-500/20 text-rose-400"}`,children:B.creditStatus})]}),B.receiptNumber&&s.jsxs("p",{className:"text-sm font-mono text-zinc-400 mb-1",children:["Receipt: ",s.jsxs("span",{className:"text-white font-bold",children:["#",B.receiptNumber]})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-zinc-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ca,{size:12}),Ce(B.date)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(zn,{size:12}),ye(B.date)]}),B.branch&&s.jsxs("span",{className:"text-zinc-600",children:[" ",B.branch]})]})]})]}),s.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[s.jsxs("p",{className:`font-black text-xl ${B.type==="PAYMENT"?"text-emerald-400":"text-white"}`,children:["KES ",B.amount.toLocaleString()]}),Te&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:Be=>{Be.stopPropagation(),L(B)},className:"flex items-center gap-1 px-3 py-1.5 bg-zinc-800 hover:bg-zinc-700 rounded-lg text-xs font-bold text-white transition-colors",children:[s.jsx(Es,{size:12}),"Reprint"]}),s.jsx("button",{className:"p-1.5 hover:bg-zinc-800 rounded-lg transition-colors",children:qe?s.jsx(ru,{size:16,className:"text-zinc-400"}):s.jsx(Wr,{size:16,className:"text-zinc-400"})})]})]})]})}),s.jsx(Ve,{children:Te&&qe&&B.items&&s.jsx(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t border-zinc-800 bg-zinc-950/50 overflow-hidden",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"grid grid-cols-12 gap-2 text-[10px] font-black uppercase text-zinc-500 mb-3 px-2",children:[s.jsx("div",{className:"col-span-6",children:"Item"}),s.jsx("div",{className:"col-span-2 text-center",children:"Qty"}),s.jsx("div",{className:"col-span-2 text-right",children:"Price"}),s.jsx("div",{className:"col-span-2 text-right",children:"Total"})]}),s.jsx("div",{className:"space-y-2",children:B.items.map((Be,nt)=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 bg-zinc-900 rounded-lg px-3 py-2 items-center",children:[s.jsxs("div",{className:"col-span-6 flex items-center gap-2",children:[s.jsx(ct,{size:14,className:"text-zinc-600"}),s.jsx("span",{className:"text-sm text-white font-medium truncate",children:Be.name})]}),s.jsx("div",{className:"col-span-2 text-center",children:s.jsxs("span",{className:"text-sm text-zinc-400",children:["",Be.quantity]})}),s.jsx("div",{className:"col-span-2 text-right",children:s.jsx("span",{className:"text-sm text-zinc-400",children:Be.price.toLocaleString()})}),s.jsx("div",{className:"col-span-2 text-right",children:s.jsx("span",{className:"text-sm text-white font-bold",children:Be.total.toLocaleString()})})]},nt))}),B.payments&&B.payments.length>0&&s.jsxs("div",{className:"mt-4 pt-3 border-t border-zinc-800",children:[s.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-500 mb-2",children:"Payment Breakdown"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:B.payments.map((Be,nt)=>s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold ${Be.method==="CASH"?"bg-green-500/10 text-green-400 border border-green-500/20":Be.method==="MPESA"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-rose-500/10 text-rose-400 border border-rose-500/20"}`,children:[Be.method==="CASH"?s.jsx(xr,{size:12}):Be.method==="MPESA"?s.jsx(ls,{size:12}):s.jsx(Or,{size:12}),Be.method,": KES ",Be.amount.toLocaleString()]},nt))})]})]})})})]},he)})})]},"history"),h==="debts"&&s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[c.activeDebts.length>0&&s.jsx("div",{className:"bg-gradient-to-r from-rose-500/10 to-rose-600/5 border border-rose-500/20 rounded-2xl p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-rose-500/20 rounded-xl flex items-center justify-center",children:s.jsx(tn,{className:"text-rose-400",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-rose-400 font-bold uppercase",children:"Total Outstanding"}),s.jsxs("p",{className:"text-2xl font-black text-rose-400",children:["KES ",c.activeDebts.reduce((B,he)=>{const Te=he.payments.filter(Be=>Be.method==="CREDIT").reduce((Be,nt)=>Be+Number(nt.amount),0),qe=he.creditPayments.reduce((Be,nt)=>Be+Number(nt.amount),0);return B+(Te-qe)},0).toLocaleString()]})]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-xs text-zinc-500",children:[c.activeDebts.length," Active Debt(s)"]})})]})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black uppercase text-zinc-500 mb-4",children:"Active Debts"}),c.activeDebts.length===0?s.jsxs("div",{className:"bg-zinc-900 rounded-xl p-8 text-center border border-zinc-800",children:[s.jsx(ss,{className:"mx-auto mb-3 text-emerald-500",size:48}),s.jsx("p",{className:"text-white font-bold",children:"No Active Debts"}),s.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"All debts have been settled"})]}):s.jsx("div",{className:"space-y-4",children:c.activeDebts.map(B=>{const he=B.creditPayments.reduce((He,bt)=>He+Number(bt.amount),0),Te=B.payments.filter(He=>He.method==="CREDIT").reduce((He,bt)=>He+Number(bt.amount),0),qe=Te-he,Be=Te>0?he/Te*100:0,nt=k.has(B.id);return s.jsxs("div",{className:"bg-zinc-900 rounded-2xl border border-zinc-800 overflow-hidden",children:[s.jsxs("div",{className:"p-4 cursor-pointer hover:bg-zinc-800/30 transition-colors",onClick:()=>ve(B.id),children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${B.creditStatus==="PARTIAL"?"bg-amber-500/10 border border-amber-500/20":"bg-rose-500/10 border border-rose-500/20"}`,children:s.jsx(Or,{className:B.creditStatus==="PARTIAL"?"text-amber-400":"text-rose-400",size:18})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-bold text-white",children:["Receipt #",B.receiptNumber]}),s.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded ${B.creditStatus==="PARTIAL"?"bg-amber-500/20 text-amber-400":"bg-rose-500/20 text-rose-400"}`,children:B.creditStatus})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-zinc-500 mt-1",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ca,{size:12}),Ce(B.createdAt)]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(zn,{size:12}),ye(B.createdAt)]})]})]})]}),s.jsxs("div",{className:"text-right flex items-start gap-2",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-rose-400 font-black text-xl",children:["KES ",qe.toLocaleString()]}),s.jsx("p",{className:"text-[10px] text-zinc-500 uppercase",children:"Remaining Debt"})]}),s.jsx("button",{className:"p-1 hover:bg-zinc-800 rounded transition-colors mt-1",children:nt?s.jsx(ru,{size:16,className:"text-zinc-400"}):s.jsx(Wr,{size:16,className:"text-zinc-400"})})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-[10px] text-zinc-500 mb-1",children:[s.jsxs("span",{children:["Paid: KES ",he.toLocaleString()," of KES ",Te.toLocaleString()]}),s.jsxs("span",{children:[Math.round(Be),"%"]})]}),s.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all ${Be>=100?"bg-emerald-500":Be>=50?"bg-amber-500":"bg-rose-500"}`,style:{width:`${Math.min(Be,100)}%`}})})]})]}),s.jsx(Ve,{children:nt&&s.jsxs(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-zinc-800 overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-zinc-950/50",children:[s.jsxs("p",{className:"text-[10px] font-black uppercase text-zinc-500 mb-3 flex items-center gap-2",children:[s.jsx(ct,{size:12}),"Items Purchased"]}),s.jsx("div",{className:"space-y-2",children:B.items.map((He,bt)=>s.jsxs("div",{className:"flex justify-between items-center bg-zinc-900 rounded-lg px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-zinc-500 font-mono",children:[He.quantity,"x"]}),s.jsx("span",{className:"text-sm text-white",children:He.product.name})]}),s.jsxs("span",{className:"text-sm text-white font-bold",children:["KES ",(Number(He.unitPrice)*He.quantity).toLocaleString()]})]},bt))}),s.jsxs("div",{className:"flex justify-between items-center mt-3 pt-3 border-t border-zinc-800",children:[s.jsx("span",{className:"text-xs text-zinc-400 font-bold uppercase",children:"Transaction Total"}),s.jsxs("span",{className:"text-lg text-white font-black",children:["KES ",Number(B.total).toLocaleString()]})]})]}),s.jsxs("div",{className:"p-4 border-t border-zinc-800",children:[s.jsxs("p",{className:"text-[10px] font-black uppercase text-zinc-500 mb-3 flex items-center gap-2",children:[s.jsx(xr,{size:12}),"Payment at Checkout"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:B.payments.map((He,bt)=>s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-bold ${He.method==="CASH"?"bg-green-500/10 text-green-400 border border-green-500/20":He.method==="MPESA"?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-rose-500/10 text-rose-400 border border-rose-500/20"}`,children:[He.method==="CASH"?s.jsx(xr,{size:12}):He.method==="MPESA"?s.jsx(ls,{size:12}):s.jsx(Or,{size:12}),He.method,": KES ",Number(He.amount).toLocaleString()]},bt))})]}),B.creditPayments.length>0&&s.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-emerald-500/5",children:[s.jsxs("p",{className:"text-[10px] font-black uppercase text-emerald-400 mb-3 flex items-center gap-2",children:[s.jsx(zn,{size:12}),"Payment History (",B.creditPayments.length," payment",B.creditPayments.length>1?"s":"",")"]}),s.jsx("div",{className:"space-y-2",children:B.creditPayments.sort((He,bt)=>new Date(bt.createdAt).getTime()-new Date(He.createdAt).getTime()).map((He,bt)=>s.jsxs("div",{className:"flex items-center justify-between bg-zinc-900 rounded-lg px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-500/20 rounded-full flex items-center justify-center",children:s.jsx(Jr,{size:14,className:"text-emerald-400"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-white font-bold",children:["KES ",Number(He.amount).toLocaleString()]}),s.jsxs("p",{className:"text-[10px] text-zinc-500",children:[Ce(He.createdAt)," at ",ye(He.createdAt)]})]})]}),s.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${He.paymentMethod==="CASH"?"bg-green-500/10 text-green-400":"bg-emerald-500/10 text-emerald-400"}`,children:He.paymentMethod})]},bt))})]}),s.jsxs("div",{className:"p-4 border-t border-zinc-800 bg-rose-500/5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-black uppercase text-rose-400",children:"Outstanding Balance"}),s.jsxs("p",{className:"text-3xl font-black text-rose-400",children:["KES ",qe.toLocaleString()]})]}),s.jsxs("div",{className:"text-right text-xs text-zinc-500",children:[s.jsxs("p",{children:["Original Debt: KES ",Te.toLocaleString()]}),s.jsxs("p",{children:["Total Paid: KES ",he.toLocaleString()]})]})]}),s.jsxs("button",{onClick:He=>{He.stopPropagation(),ke(B)},className:"w-full py-4 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-black rounded-xl uppercase text-base flex items-center justify-center gap-2 transition-all shadow-lg shadow-emerald-600/20",children:[s.jsx(Jr,{size:20}),"RECORD PAYMENT"]})]})]})}),!nt&&s.jsx("div",{className:"px-4 pb-4",children:s.jsxs("button",{onClick:He=>{He.stopPropagation(),ke(B)},className:"w-full py-3 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-black rounded-xl uppercase text-sm flex items-center justify-center gap-2 transition-all",children:[s.jsx(Jr,{size:16}),"RECORD PAYMENT"]})})]},B.id)})})]}),c.settledDebts.length>0&&s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>z(!A),className:"w-full flex items-center justify-between text-xs font-black uppercase text-zinc-500 hover:text-zinc-400 transition-colors mb-3 py-2",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(ss,{size:14,className:"text-emerald-500"}),"Settled Debts (",c.settledDebts.length,")"]}),A?s.jsx(ru,{size:16}):s.jsx(Wr,{size:16})]}),s.jsx(Ve,{children:A&&s.jsx(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"space-y-3 overflow-hidden",children:c.settledDebts.map(B=>{const he=k.has(`settled-${B.id}`);return s.jsxs("div",{className:"bg-zinc-900/50 rounded-xl border border-emerald-500/20 overflow-hidden",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-zinc-800/30 transition-colors",onClick:()=>ve(`settled-${B.id}`),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-emerald-500/20 rounded-lg flex items-center justify-center",children:s.jsx(ss,{size:16,className:"text-emerald-400"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-bold text-white",children:["Receipt #",B.receiptNumber]}),s.jsx("p",{className:"text-xs text-zinc-500",children:Ce(B.createdAt)})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-emerald-400 font-bold",children:["KES ",Number(B.total).toLocaleString()]}),s.jsx("p",{className:"text-[10px] text-emerald-500 uppercase font-bold",children:"FULLY PAID"})]}),he?s.jsx(ru,{size:16,className:"text-zinc-500"}):s.jsx(Wr,{size:16,className:"text-zinc-500"})]})]})}),s.jsx(Ve,{children:he&&s.jsxs(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-zinc-800 overflow-hidden",children:[s.jsxs("div",{className:"p-4 bg-zinc-950/50",children:[s.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-500 mb-2",children:"Items"}),B.items.map((Te,qe)=>s.jsxs("p",{className:"text-xs text-zinc-400",children:[Te.quantity,"x ",Te.product.name," @ KES ",Number(Te.unitPrice).toLocaleString()]},qe))]}),B.creditPayments.length>0&&s.jsxs("div",{className:"p-4 border-t border-zinc-800",children:[s.jsx("p",{className:"text-[10px] font-black uppercase text-emerald-400 mb-2",children:"Payment History"}),s.jsx("div",{className:"space-y-1",children:B.creditPayments.sort((Te,qe)=>new Date(Te.createdAt).getTime()-new Date(qe.createdAt).getTime()).map((Te,qe)=>s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{className:"text-zinc-500",children:Ce(Te.createdAt)}),s.jsxs("span",{className:"text-emerald-400 font-bold",children:["+KES ",Number(Te.amount).toLocaleString()," (",Te.paymentMethod,")"]})]},qe))})]})]})})]},B.id)})})})]})]},"debts")]})})]})]})}),s.jsx(Ve,{children:D.open&&D.transaction&&c&&s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:$,className:"fixed inset-0 bg-black/70 backdrop-blur-md z-[60] flex items-center justify-center"}),s.jsx(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"fixed z-[60] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-lg",children:s.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-zinc-800",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center",children:s.jsx(Es,{className:"text-zinc-900",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-black text-white",children:"Reprint Receipt"}),s.jsxs("p",{className:"text-xs text-zinc-500",children:["Receipt #",D.transaction.receiptNumber]})]})]}),s.jsx("button",{onClick:$,className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors",children:s.jsx(Ze,{size:20,className:"text-zinc-500"})})]}),s.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto bg-zinc-950",children:s.jsxs("div",{id:"reprint-receipt",ref:U,className:"bg-white text-black p-6 rounded-xl font-mono text-sm",children:[s.jsxs("div",{className:"text-center border-b-2 border-dashed border-black pb-4 mb-4",children:[s.jsx("h1",{className:"text-xl font-black uppercase tracking-wide",children:"PRAM AUTO SPARES"}),s.jsx("p",{className:"text-xs mt-1",children:e||"Branch"}),s.jsx("p",{className:"text-xs",children:"Tel: 0712 345 678"})]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("h2",{className:"text-lg font-black uppercase",children:D.transaction.type==="CREDIT_SALE"?"CREDIT INVOICE":"OFFICIAL RECEIPT"}),s.jsxs("p",{className:"text-xs mt-1",children:["Receipt: ",D.transaction.receiptNumber]}),s.jsx("p",{className:"text-xs",children:Xe(D.transaction.date)}),s.jsx("p",{className:"text-[10px] text-gray-500 mt-1 italic",children:"** REPRINT **"})]}),s.jsxs("div",{className:"border-b border-dashed border-gray-400 pb-3 mb-3",children:[s.jsxs("p",{className:"text-xs font-bold",children:["Customer: ",c.name]}),s.jsxs("p",{className:"text-xs",children:["Phone: ",c.phone]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-xs font-bold uppercase border-b border-black pb-1 mb-2",children:"Items Purchased"}),(Je=D.transaction.items)==null?void 0:Je.map((B,he)=>s.jsxs("div",{className:"flex justify-between py-1 border-b border-dashed border-gray-300 text-xs",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold",children:B.name}),s.jsxs("p",{className:"text-gray-600",children:["Qty: ",B.quantity," @ KES ",B.price.toLocaleString()]})]}),s.jsxs("p",{className:"font-bold ml-2",children:["KES ",B.total.toLocaleString()]})]},he))]}),s.jsxs("div",{className:"border-t-2 border-black pt-3 mb-4",children:[s.jsxs("div",{className:"flex justify-between text-base font-black",children:[s.jsx("span",{children:"TOTAL:"}),s.jsxs("span",{children:["KES ",D.transaction.amount.toLocaleString()]})]}),D.transaction.payments&&D.transaction.payments.length>0&&s.jsx("div",{className:"mt-2 pt-2 border-t border-dashed border-gray-400",children:D.transaction.payments.map((B,he)=>s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{children:[B.method,":"]}),s.jsxs("span",{children:["KES ",B.amount.toLocaleString()]})]},he))})]}),s.jsxs("div",{className:"text-center border-t-2 border-dashed border-black pt-4 mt-4",children:[s.jsx("p",{className:"text-[9px] font-black uppercase tracking-widest",children:"SYSTEM BY JOSEA SOFTWARE SOLUTIONS"}),s.jsx("p",{className:"text-[8px] mt-1",children:"Thank you for your business!"})]})]})}),s.jsxs("div",{className:"p-4 border-t border-zinc-800 flex gap-3",children:[s.jsx("button",{onClick:$,className:"flex-1 py-3 bg-zinc-800 hover:bg-zinc-700 text-white font-bold rounded-xl transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:ue,className:"flex-1 py-3 bg-white hover:bg-zinc-200 text-black font-black rounded-xl transition-colors flex items-center justify-center gap-2",children:[s.jsx(Es,{size:18}),"PRINT"]})]})]})})]})}),s.jsx(Ve,{children:F.open&&F.sale&&(()=>{const B=F.sale.payments.filter(qe=>qe.method==="CREDIT").reduce((qe,Be)=>qe+Number(Be.amount),0),he=F.sale.creditPayments.reduce((qe,Be)=>qe+Number(Be.amount),0),Te=B-he;return s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:Ee,className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center"}),s.jsx(Z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md",children:s.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-zinc-800 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-500/20 rounded-xl flex items-center justify-center",children:s.jsx(Jr,{className:"text-emerald-400",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-black text-white",children:"Record Payment"}),s.jsxs("p",{className:"text-xs text-zinc-500",children:["Receipt #",F.sale.receiptNumber]})]})]}),s.jsx("button",{onClick:Ee,className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors",children:s.jsx(Ze,{size:20,className:"text-zinc-500"})})]}),s.jsx("div",{className:"p-4 bg-zinc-950 border-b border-zinc-800",children:s.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold",children:"Original Debt"}),s.jsxs("p",{className:"text-lg font-black text-white",children:["KES ",B.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold",children:"Paid So Far"}),s.jsxs("p",{className:"text-lg font-black text-emerald-400",children:["KES ",he.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold",children:"Remaining"}),s.jsxs("p",{className:"text-lg font-black text-rose-400",children:["KES ",Te.toLocaleString()]})]})]})}),s.jsxs("div",{className:"p-4 border-b border-zinc-800",children:[s.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-500 mb-2",children:"Items on this Transaction"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[F.sale.items.slice(0,3).map((qe,Be)=>s.jsxs("span",{className:"text-xs bg-zinc-800 text-zinc-300 px-2 py-1 rounded",children:[qe.quantity,"x ",qe.product.name]},Be)),F.sale.items.length>3&&s.jsxs("span",{className:"text-xs text-zinc-500 px-2 py-1",children:["+",F.sale.items.length-3," more"]})]})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-xs font-black uppercase text-zinc-500",children:"Payment Amount"}),s.jsx("button",{onClick:()=>Q(Te.toString()),className:"text-[10px] font-bold text-blue-400 hover:text-blue-300 uppercase",children:"Fill Full Amount"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500 font-bold",children:"KES"}),s.jsx("input",{type:"number",value:ne,onChange:qe=>Q(qe.target.value),className:`w-full bg-zinc-950 border rounded-xl pl-14 pr-4 py-4 text-white font-black text-2xl focus:outline-none transition-colors ${parseFloat(ne)>Te?"border-amber-500 focus:border-amber-400":"border-zinc-800 focus:border-emerald-500"}`,placeholder:"0"})]}),Te>500&&s.jsx("div",{className:"flex gap-2 mt-2",children:[500,1e3,Math.round(Te/2)].filter((qe,Be,nt)=>nt.indexOf(qe)===Be&&qe<=Te).map(qe=>s.jsxs("button",{onClick:()=>Q(qe.toString()),className:"flex-1 py-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 text-xs font-bold rounded-lg transition-colors",children:["KES ",qe.toLocaleString()]},qe))}),parseFloat(ne)>0&&parseFloat(ne)<Te&&s.jsx("div",{className:"mt-2 p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:s.jsxs("p",{className:"text-xs text-blue-400",children:[s.jsx("span",{className:"font-bold",children:"Partial Payment:"})," After this payment,",s.jsxs("span",{className:"font-black",children:[" KES ",(Te-parseFloat(ne)).toLocaleString()]})," will remain."]})}),parseFloat(ne)>=Te&&parseFloat(ne)>0&&s.jsx("div",{className:"mt-2 p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-lg",children:s.jsxs("p",{className:"text-xs text-emerald-400 flex items-center gap-2",children:[s.jsx(ss,{size:14}),s.jsx("span",{className:"font-bold",children:"Full Settlement:"})," This will clear the entire debt!"]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-black uppercase text-zinc-500 mb-2 block",children:"Payment Method"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>q("CASH"),className:`py-4 px-4 rounded-xl font-bold transition-all flex items-center justify-center gap-2 border-2 ${V==="CASH"?"bg-white text-zinc-900 border-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 border-transparent"}`,children:[s.jsx(xr,{size:20}),"CASH"]}),s.jsxs("button",{onClick:()=>q("MPESA"),className:`py-4 px-4 rounded-xl font-bold transition-all flex items-center justify-center gap-2 border-2 ${V==="MPESA"?"bg-emerald-600 text-white border-emerald-600":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700 border-transparent"}`,children:[s.jsx(ls,{size:20}),"M-PESA"]})]})]}),s.jsx("button",{onClick:G,disabled:te||!ne||parseFloat(ne)<=0,className:"w-full py-4 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 disabled:from-zinc-800 disabled:to-zinc-800 disabled:text-zinc-600 text-white font-black rounded-xl uppercase transition-all flex items-center justify-center gap-2",children:te?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ss,{size:20}),"Confirm Payment"]})})]})]})})]})})()}),O&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>T(!1)})]})}const sq=()=>{try{const e=new Audio("/sounds/info.mp3");e.volume=.5,e.play().catch(t=>console.log("Audio play failed:",t))}catch(e){console.log("Audio load failed:",e)}};function aq(){const e=rt(L=>L.branchName),t=rt(L=>L.branchId),[r,n]=g.useState("action"),[a,i]=g.useState([]),[l,c]=g.useState(!0),[d,f]=g.useState(""),[m,h]=g.useState([]),[x,v]=g.useState(null),[y,w]=g.useState([]),[j,S]=g.useState(new Map),[P,k]=g.useState([]),[E,A]=g.useState(!1),[z,O]=g.useState(!1),[T,R]=g.useState(""),[I,D]=g.useState(""),[_,F]=g.useState(1),[W,ne]=g.useState(!1);g.useEffect(()=>{Q(),V(),q()},[]);const Q=async()=>{try{const L=await we.get("/admin/branches"),$=L.data.data||L.data||[];h($);const ue=$.find(ee=>ee.isHeadOffice||ee.name.toLowerCase().includes("head")||ee.name.toLowerCase().includes("main")||ee.name.toLowerCase().includes("hq"));if(ue)v(ue.id);else if($.length>0){const ee=$.find(Ce=>Ce.isActive);ee&&v(ee.id)}}catch(L){console.error("Failed to fetch branches:",L)}},V=async()=>{c(!0),f("");try{const ue=(await we.get("/inventory")).data.filter(ee=>ee.quantity<=ee.product.lowStockThreshold).sort((ee,Ce)=>ee.quantity===0&&Ce.quantity!==0?-1:ee.quantity!==0&&Ce.quantity===0?1:ee.quantity-Ce.quantity);i(ue)}catch(L){console.error("Fetch error:",L),f("Failed to load inventory. Please check connection.")}finally{c(!1)}},q=async()=>{try{const[L,$]=await Promise.all([we.get("/transfers",{params:{status:"REQUESTED"}}),we.get("/transfers",{params:{status:"RECEIVED"}})]),ue=L.data.data||L.data||[],ee=$.data.data||$.data||[];w(ue);const Ce=new Map;ue.forEach(ye=>{var Xe;(Xe=ye.items)==null||Xe.forEach(Ue=>{const re=Ce.get(Ue.productId);re?re.quantity+=Ue.quantityRequested:Ce.set(Ue.productId,{quantity:Ue.quantityRequested,transferId:ye.id,transferNumber:ye.transferNumber,requestedAt:ye.requestedAt,status:ye.status})})}),ee.forEach(ye=>{var Xe;(Xe=ye.items)==null||Xe.forEach(Ue=>{const re=Ce.get(Ue.productId);re?(re.status="RECEIVED",re.quantity+=Ue.quantityRequested):Ce.set(Ue.productId,{quantity:Ue.quantityRequested,transferId:ye.id,transferNumber:ye.transferNumber,requestedAt:ye.requestedAt,status:"RECEIVED"})})}),S(Ce)}catch(L){console.error("Failed to fetch pending transfers:",L)}},te=L=>{if(P.find(ye=>ye.id===L.productId))return;const ue=L.product.vehicleMake?`${L.product.vehicleMake} ${L.product.vehicleModel||""}`.trim():void 0,ee=Math.max(L.product.lowStockThreshold*2-L.quantity,L.product.lowStockThreshold),Ce={id:L.productId,name:L.product.name,fitment:ue,partNumber:L.product.partNumber||void 0,currentStock:L.quantity,threshold:L.product.lowStockThreshold,orderQuantity:ee};k([...P,Ce])},se=L=>{k(P.filter($=>$.id!==L))},U=(L,$)=>{$<1||k(P.map(ue=>ue.id===L?{...ue,orderQuantity:$}:ue))},X=()=>{if(!T||!I)return;const L={id:`special-${Date.now()}`,name:T,fitment:I,currentStock:0,threshold:0,orderQuantity:_,isSpecialRequest:!0};k([...P,L]),R(""),D(""),F(1),O(!1),A(!0)},me=()=>{let L=`*RESTOCK ORDER*
*Branch:* ${e}
*Date:* ${new Date().toLocaleString()}

`;P.forEach(($,ue)=>{L+=`${ue+1}. *${$.name}*
`,$.partNumber&&(L+=`   Part #: ${$.partNumber}
`),$.fitment&&(L+=`   Fitment: ${$.fitment}
`),L+=`   Quantity: *${$.orderQuantity}* units
`,$.isSpecialRequest&&(L+=`   Special Request
`),L+=`
`}),L+=`---
Total Items: ${P.length}`,navigator.clipboard.writeText(L),xe.success("Order copied to clipboard! Ready to paste in WhatsApp.",{duration:3e3})},de=async()=>{if(P.length!==0){if(!x){xe.error("Unable to find Head Office. Please contact admin.");return}ne(!0);try{const L=P.filter(ye=>!ye.isSpecialRequest).map(ye=>({productId:ye.id,quantity:ye.orderQuantity})),$=P.filter(ye=>ye.isSpecialRequest);let ue="";$.length>0&&(ue=`SPECIAL REQUESTS:
`+$.map(ye=>`- ${ye.name} (${ye.fitment}) x${ye.orderQuantity}`).join(`
`)),await we.post("/transfers/request",{items:L,toBranchId:x,fromBranchId:t,notes:ue||void 0}),sq(),xe.success("Restock request submitted!",{description:"Your order has been sent to Head Office for processing.",duration:4e3});const ee=new Date().toISOString(),Ce=`TRF-PENDING-${Date.now()}`;S(ye=>{const Xe=new Map(ye);return P.filter(Ue=>!Ue.isSpecialRequest).forEach(Ue=>{const re=Xe.get(Ue.id);re?re.quantity+=Ue.orderQuantity:Xe.set(Ue.id,{quantity:Ue.orderQuantity,transferId:Ce,transferNumber:Ce,requestedAt:ee,status:"REQUESTED"})}),Xe}),k([]),A(!1),await q()}catch(L){console.error("Submit error:",L),xe.error("Submission failed. Please check your connection.")}finally{ne(!1)}}},ve=(L,$)=>$===0?0:Math.min(L/($*2)*100,100),ke=(L,$)=>L===0?"bg-red-600":L<=$?"bg-red-500":L<=$*1.5?"bg-yellow-500":"bg-green-500",Ee=(L,$)=>L===0?"OUT OF STOCK":L<=$?"CRITICAL":L<=$*1.5?"LOW":"ADEQUATE",G=L=>{const $=Math.floor((Date.now()-new Date(L).getTime())/1e3);return $<60?"Just now":$<3600?`${Math.floor($/60)}m ago`:$<86400?`${Math.floor($/3600)}h ago`:`${Math.floor($/86400)}d ago`};return s.jsxs("div",{className:"min-h-screen bg-zinc-950",children:[s.jsxs("div",{className:"bg-zinc-950 border-b border-zinc-800 px-8 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-black text-white mb-2 tracking-tight",children:"Restock Hub"}),s.jsxs("p",{className:"text-slate-400 text-sm",children:[e," - Inventory Management System"]})]}),s.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold text-lg transition-all shadow-2xl",children:[s.jsx(Tr,{className:"w-6 h-6"}),"Request Special Part"]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>n("action"),className:`flex items-center gap-3 px-8 py-4 rounded-xl font-bold text-base transition-all ${r==="action"?"bg-red-600 text-white shadow-xl scale-105":"bg-zinc-900 text-slate-400 hover:bg-zinc-800"}`,children:[s.jsx(vo,{className:"w-6 h-6"}),"Action Needed",a.length>0&&s.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm font-bold",children:a.length})]}),s.jsxs("button",{onClick:()=>n("history"),className:`flex items-center gap-3 px-8 py-4 rounded-xl font-bold text-base transition-all ${r==="history"?"bg-blue-600 text-white shadow-xl scale-105":"bg-zinc-900 text-slate-400 hover:bg-zinc-800"}`,children:[s.jsx(IS,{className:"w-6 h-6"}),"Pending Orders",y.length>0&&s.jsx("span",{className:"px-3 py-1 bg-white/20 rounded-full text-sm font-bold",children:y.length})]})]})]}),s.jsx("div",{className:"px-8 py-8",children:r==="action"?s.jsx("div",{className:"space-y-5",children:l?s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"inline-block w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-slate-400 mt-6 text-lg font-medium",children:"Loading inventory..."})]}):d?s.jsxs("div",{className:"text-center py-20 bg-zinc-900 rounded-2xl border-2 border-red-500/20",children:[s.jsx(tn,{className:"w-20 h-20 text-red-500 mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Error Loading Inventory"}),s.jsx("p",{className:"text-red-400 mb-6",children:d}),s.jsx("button",{onClick:V,className:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold",children:"Retry"})]}):a.length===0?s.jsxs("div",{className:"text-center py-20 bg-zinc-900 rounded-2xl border border-zinc-800",children:[s.jsx(ct,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"All Stock Levels Good!"}),s.jsx("p",{className:"text-slate-400",children:"No items need restocking at the moment."})]}):a.map(L=>{const $=P.some(Ue=>Ue.id===L.productId),ue=ve(L.quantity,L.product.lowStockThreshold),ee=ke(L.quantity,L.product.lowStockThreshold),Ce=Ee(L.quantity,L.product.lowStockThreshold),ye=j.get(L.productId),Xe=L.product.vehicleMake?`${L.product.vehicleMake} ${L.product.vehicleModel||""}`.trim():"Universal";return s.jsx(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-zinc-900 border-2 border-zinc-800 rounded-2xl p-8 hover:border-blue-500/30 transition-all shadow-xl",children:s.jsxs("div",{className:"flex items-center gap-8",children:[s.jsxs("div",{className:"flex-shrink-0 w-80",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:L.product.name}),s.jsx("p",{className:"text-base text-slate-400 mb-1",children:Xe}),L.product.partNumber&&s.jsxs("p",{className:"text-sm text-slate-500 font-mono",children:["Part #: ",L.product.partNumber]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-lg font-bold text-white",children:[L.quantity," / ",L.product.lowStockThreshold," Units"]}),ye&&(ye.status==="RECEIVED"?s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-500/20 border border-green-500/30 rounded-lg",children:[s.jsx(tr,{className:"w-4 h-4 text-green-400"}),s.jsxs("span",{className:"text-sm font-bold text-green-400",children:["RESTOCKED: ",ye.quantity]}),s.jsxs("span",{className:"text-xs text-green-500/70",children:["(",G(ye.requestedAt),")"]})]}):s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-amber-500/20 border border-amber-500/30 rounded-lg",children:[s.jsx(zn,{className:"w-4 h-4 text-amber-400"}),s.jsxs("span",{className:"text-sm font-bold text-amber-400",children:["ORDERED: ",ye.quantity]}),s.jsxs("span",{className:"text-xs text-amber-500/70",children:["(",G(ye.requestedAt),")"]})]}))]}),s.jsx("span",{className:`text-sm font-black px-4 py-2 rounded-lg ${Ce==="OUT OF STOCK"?"bg-red-600 text-white":Ce==="CRITICAL"?"bg-red-500 text-white":Ce==="LOW"?"bg-yellow-500 text-black":"bg-green-500 text-white"}`,children:Ce})]}),s.jsx("div",{className:"w-full h-4 bg-zinc-800 rounded-full overflow-hidden border border-zinc-700",children:s.jsx("div",{className:`h-full ${ee} transition-all duration-700`,style:{width:`${ue}%`}})})]}),s.jsx("div",{className:"flex-shrink-0",children:$?s.jsxs("button",{disabled:!0,className:"px-8 py-4 bg-zinc-800 text-slate-500 rounded-xl font-bold cursor-not-allowed flex items-center gap-3 text-lg",children:[s.jsx(Os,{className:"w-6 h-6"}),"Added"]}):(ye==null?void 0:ye.status)==="RECEIVED"?s.jsxs("button",{onClick:()=>te(L),className:"px-8 py-4 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold transition-all shadow-lg hover:shadow-2xl hover:scale-105 flex items-center gap-3 text-lg",children:[s.jsx(Tr,{className:"w-6 h-6"}),"Order More"]}):ye?s.jsxs("button",{onClick:()=>te(L),className:"px-8 py-4 bg-amber-600 hover:bg-amber-700 text-white rounded-xl font-bold transition-all shadow-lg hover:shadow-2xl hover:scale-105 flex items-center gap-3 text-lg",children:[s.jsx(rn,{className:"w-6 h-6"}),"Update Order"]}):s.jsxs("button",{onClick:()=>te(L),className:"px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold transition-all shadow-lg hover:shadow-2xl hover:scale-105 flex items-center gap-3 text-lg",children:[s.jsx(Tr,{className:"w-6 h-6"}),"Add to Order"]})})]})},L.id)})}):s.jsxs("div",{className:"space-y-5",children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 bg-zinc-800 hover:bg-zinc-700 text-zinc-300 rounded-lg font-medium text-sm transition-colors",children:[s.jsx(rn,{className:"w-4 h-4"}),"Refresh"]})}),y.length===0?s.jsxs("div",{className:"text-center py-20 bg-zinc-900 rounded-2xl border border-zinc-800",children:[s.jsx(Ca,{className:"w-20 h-20 text-slate-600 mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"No Pending Orders"}),s.jsx("p",{className:"text-slate-400",children:"Your submitted orders will appear here while awaiting approval."})]}):y.map(L=>{var $,ue;return s.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:L.transferNumber}),s.jsxs("p",{className:"text-sm text-slate-400 flex items-center gap-2",children:[s.jsx(zn,{className:"w-4 h-4"}),new Date(L.requestedAt).toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"px-4 py-2 rounded-lg bg-amber-500/20 border border-amber-500/30",children:s.jsx("span",{className:"text-amber-400 font-bold text-sm uppercase",children:L.status})}),s.jsx("div",{className:"px-4 py-2 rounded-lg bg-blue-500/20 border border-blue-500/30",children:s.jsxs("span",{className:"text-blue-400 font-bold text-sm",children:[(($=L.items)==null?void 0:$.length)||0," Items"]})})]})]}),s.jsx("div",{className:"space-y-3",children:(ue=L.items)==null?void 0:ue.map((ee,Ce)=>{const ye=a.find(Ue=>Ue.productId===ee.productId),Xe=(ye==null?void 0:ye.product.name)||`Product ${ee.productId.slice(-6)}`;return s.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-zinc-800/50 rounded-lg border border-zinc-700",children:[s.jsx("div",{className:"flex-1",children:s.jsx("span",{className:"text-white font-semibold text-base",children:Xe})}),s.jsxs("span",{className:"text-white font-bold text-lg",children:[ee.quantityRequested," units"]})]},Ce)})})]},L.id)})]})}),P.length>0&&!E&&s.jsxs(Z.button,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",damping:15},onClick:()=>A(!0),className:"fixed bottom-10 right-10 px-8 py-5 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-2xl font-black text-xl flex items-center gap-4 z-40 hover:scale-110 transition-transform",children:[s.jsx(Os,{className:"w-7 h-7"}),"Review Order (",P.length,")"]}),s.jsx(Ve,{children:E&&s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>A(!1),className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-40"}),s.jsxs(Z.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed top-0 right-0 h-screen w-96 bg-zinc-900 border-l-2 border-zinc-700 z-50 flex flex-col shadow-2xl",children:[s.jsxs("div",{className:"px-6 py-5 border-b-2 border-zinc-800 flex items-center justify-between bg-zinc-950",children:[s.jsx("h2",{className:"text-2xl font-black text-white",children:"Current Order"}),s.jsx("button",{onClick:()=>A(!1),className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors text-slate-400 hover:text-white",children:s.jsx(Ze,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4",children:P.map(L=>s.jsxs("div",{className:"bg-zinc-800 border border-zinc-700 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-bold text-base",children:L.name}),L.fitment&&s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:L.fitment}),L.partNumber&&s.jsxs("p",{className:"text-xs text-slate-500 mt-1 font-mono",children:["Part #: ",L.partNumber]}),L.isSpecialRequest&&s.jsx("span",{className:"inline-block mt-2 text-xs bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded font-bold",children:"SPECIAL REQUEST"})]}),s.jsx("button",{onClick:()=>se(L.id),className:"p-1 hover:bg-red-500/20 rounded text-red-500 hover:text-red-400 transition-colors",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Qty:"}),s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("button",{onClick:()=>U(L.id,L.orderQuantity-1),className:"p-2 bg-zinc-700 hover:bg-zinc-600 rounded text-white transition-colors",children:s.jsx(xo,{className:"w-4 h-4"})}),s.jsx("input",{type:"number",min:"1",value:L.orderQuantity,onChange:$=>U(L.id,parseInt($.target.value)||1),className:"flex-1 px-3 py-2 bg-zinc-700 border border-zinc-600 rounded text-white text-center font-bold focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.jsx("button",{onClick:()=>U(L.id,L.orderQuantity+1),className:"p-2 bg-zinc-700 hover:bg-zinc-600 rounded text-white transition-colors",children:s.jsx(Tr,{className:"w-4 h-4"})})]})]})]},L.id))}),s.jsxs("div",{className:"px-6 py-5 border-t-2 border-zinc-800 space-y-4 bg-zinc-950",children:[s.jsxs("div",{className:"flex items-center justify-between text-white",children:[s.jsx("span",{className:"font-bold text-lg",children:"Total Items:"}),s.jsx("span",{className:"text-3xl font-black text-blue-500",children:P.length})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:me,className:"w-full flex items-center justify-center gap-3 px-4 py-4 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold transition-all text-base",children:[s.jsx(Gy,{className:"w-5 h-5"}),"Copy for WhatsApp"]}),s.jsx("button",{onClick:de,disabled:W,className:"w-full flex items-center justify-center gap-3 px-4 py-4 bg-blue-600 hover:bg-blue-700 disabled:bg-zinc-700 disabled:text-slate-500 text-white rounded-xl font-bold transition-all text-base shadow-lg disabled:cursor-not-allowed",children:W?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(IS,{className:"w-5 h-5"}),"Submit Order"]})})]})]})]})]})}),s.jsx(Ve,{children:z&&s.jsxs(s.Fragment,{children:[s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>O(!1),className:"fixed inset-0 bg-black/80 backdrop-blur-md z-50 flex items-center justify-center"}),s.jsx(Z.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:L=>L.stopPropagation(),children:s.jsxs("div",{className:"bg-zinc-900 border-2 border-zinc-700 rounded-2xl shadow-2xl w-full max-w-lg",children:[s.jsxs("div",{className:"px-8 py-6 border-b-2 border-zinc-800 flex items-center justify-between bg-zinc-950",children:[s.jsx("h2",{className:"text-2xl font-black text-white",children:"Request Special Part"}),s.jsx("button",{onClick:()=>O(!1),className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors text-slate-400 hover:text-white",children:s.jsx(Ze,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"px-8 py-6 space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-300 mb-2",children:["Part Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:T,onChange:L=>R(L.target.value),placeholder:"e.g., Brake Pads",className:"w-full px-4 py-3 bg-zinc-800 border-2 border-zinc-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-300 mb-2",children:["Car Model ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:I,onChange:L=>D(L.target.value),placeholder:"e.g., Toyota Corolla 2015",className:"w-full px-4 py-3 bg-zinc-800 border-2 border-zinc-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-bold text-slate-300 mb-2",children:["Quantity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",min:"1",value:_,onChange:L=>F(parseInt(L.target.value)||1),className:"w-full px-4 py-3 bg-zinc-800 border-2 border-zinc-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-bold"})]})]}),s.jsxs("div",{className:"px-8 py-6 border-t-2 border-zinc-800 flex gap-4 bg-zinc-950",children:[s.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-6 py-3 bg-zinc-800 hover:bg-zinc-700 text-white rounded-xl font-bold transition-all",children:"Cancel"}),s.jsx("button",{onClick:X,disabled:!T||!I,className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 disabled:bg-zinc-700 disabled:text-slate-500 text-white rounded-xl font-bold transition-all disabled:cursor-not-allowed shadow-lg",children:"Add to Order"})]})]})})]})})]})}function iq({activeTab:e,onTabChange:t,activeCount:r,settledCount:n}){return s.jsxs("div",{className:"flex gap-2 p-1 bg-slate-900/50 rounded-lg border border-slate-800",children:[s.jsxs("button",{onClick:()=>t("ACTIVE"),className:`
          flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200
          ${e==="ACTIVE"?"bg-amber-500 text-white shadow-lg shadow-amber-500/30":"text-slate-400 hover:text-white hover:bg-slate-800/50"}
        `,children:["Active Debts",r>0&&s.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-white/20",children:r})]}),s.jsxs("button",{onClick:()=>t("SETTLED"),className:`
          flex-1 px-6 py-3 rounded-md font-medium transition-all duration-200
          ${e==="SETTLED"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/30":"text-slate-400 hover:text-white hover:bg-slate-800/50"}
        `,children:["Settled History",n>0&&s.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-white/20",children:n})]})]})}function Nm(e){const r=(e.payments||[]).filter(c=>c.method!=="CREDIT").reduce((c,d)=>c+parseFloat(d.amount.toString()),0),a=(e.creditPayments||[]).reduce((c,d)=>c+parseFloat(d.amount.toString()),0);return parseFloat(e.total.toString())-r-a}function oq({sale:e,onClose:t,onSuccess:r}){const[n,a]=g.useState(!1),i=Nm(e),[l,c]=g.useState(i.toFixed(2)),[d,f]=g.useState("CASH"),[m,h]=g.useState(""),x=async v=>{var w,j,S,P,k;v.preventDefault();const y=parseFloat(l);if(console.log("=== PAYMENT MODAL SUBMIT ==="),console.log("Sale ID:",e.id),console.log("Payment Amount:",y),console.log("Payment Method:",d),console.log("Remaining Balance:",i),isNaN(y)||y<=0){console.error("Validation failed: Invalid amount"),tb("Invalid amount",{description:"Please enter a valid payment amount"});return}if(y>i){console.error("Validation failed: Amount exceeds balance"),tb("Amount exceeds balance",{description:`Maximum payable amount is ${Re(i)}`});return}try{a(!0),console.log("Sending payment request to API..."),console.log("URL:",`/sales/${e.id}/payment`),console.log("Payload:",{amount:y,paymentMethod:d,notes:m.trim()||void 0});const E=await we.post(`/sales/${e.id}/payment`,{amount:y,paymentMethod:d,notes:m.trim()||void 0});console.log("Payment recorded successfully!"),console.log("Response:",E.data),VA("Payment Recorded!",{description:`${Re(y)} received from ${e.customerName}`}),r(),t()}catch(E){console.error("=== PAYMENT ERROR ==="),console.error("Full error:",E),console.error("Error message:",E.message),console.error("Error response:",E.response),console.error("Error response data:",(w=E.response)==null?void 0:w.data),console.error("Error response status:",(j=E.response)==null?void 0:j.status),console.error("Error response headers:",(S=E.response)==null?void 0:S.headers);const A=((k=(P=E.response)==null?void 0:P.data)==null?void 0:k.message)||E.message||"Failed to record payment";Ku("Payment Error",A)}finally{a(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-[var(--color-card-bg)] border border-[var(--color-border)] rounded-xl max-w-md w-full shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-800",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Record Payment"}),s.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[e.customerName,"  ",e.receiptNumber]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5 text-slate-400"})})]}),s.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-amber-400 mb-1",children:"Outstanding Balance"}),s.jsx("p",{className:"text-2xl font-bold text-white font-money",children:Re(i)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Payment Amount (KES)"}),s.jsx("input",{type:"number",step:"0.01",value:l,onChange:v=>c(v.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white focus:border-blue-500 focus:outline-none font-money",placeholder:"Enter amount",required:!0,max:i})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Payment Method"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{type:"button",onClick:()=>f("CASH"),className:`
                  px-4 py-3 rounded-lg border-2 font-medium transition-all
                  ${d==="CASH"?"border-blue-500 bg-blue-500/10 text-blue-400":"border-slate-700 text-slate-400 hover:border-slate-600"}
                `,children:"Cash"}),s.jsx("button",{type:"button",onClick:()=>f("MPESA"),className:`
                  px-4 py-3 rounded-lg border-2 font-medium transition-all
                  ${d==="MPESA"?"border-green-500 bg-green-500/10 text-green-400":"border-slate-700 text-slate-400 hover:border-slate-600"}
                `,children:"M-Pesa"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Notes (Optional)"}),s.jsx("textarea",{value:m,onChange:v=>h(v.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white focus:border-blue-500 focus:outline-none resize-none",rows:3,placeholder:"Add payment notes..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors font-medium",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-3 bg-emerald-500 text-white rounded-lg hover:bg-emerald-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Or,{className:"w-4 h-4"}),"Record Payment"]})})]})]})]})})}function lq({sale:e,onClose:t}){const n=(e.payments||[]).filter(c=>c.method!=="CREDIT").reduce((c,d)=>c+parseFloat(d.amount.toString()),0),a=e.creditPayments||[],i=a.reduce((c,d)=>c+parseFloat(d.amount.toString()),0),l=n+i;return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-[var(--color-card-bg)] border border-[var(--color-border)] rounded-xl max-w-lg w-full shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-800",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Payment Voucher"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:e.receiptNumber})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-800 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5 text-slate-400"})})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-slate-400",children:"Customer"}),s.jsx("p",{className:"text-lg font-bold text-white",children:e.customerName}),e.customerPhone&&s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:e.customerPhone})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-slate-400 mb-1",children:"Total Amount"}),s.jsx("p",{className:"text-xl font-bold text-white font-money",children:Re(parseFloat(e.total.toString()))})]}),s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-emerald-400 mb-1",children:"Total Paid"}),s.jsx("p",{className:"text-xl font-bold text-white font-money",children:Re(l)})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Payment History"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.length===0?s.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No payments recorded"}):a.map(c=>s.jsx("div",{className:"bg-slate-900/50 rounded-lg p-3 border border-slate-800",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-white",children:Re(parseFloat(c.amount.toString()))}),s.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[c.paymentMethod,"  Received by ",c.receivedBy]}),c.notes&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:c.notes})]}),s.jsx("p",{className:"text-xs text-slate-500",children:new Date(c.createdAt).toLocaleDateString("en-KE",{month:"short",day:"numeric",year:"numeric"})})]})},c.id))})]})]}),s.jsx("div",{className:"p-6 border-t border-slate-800",children:s.jsx("button",{onClick:t,className:"w-full px-4 py-3 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors font-medium",children:"Close"})})]})})}function cq({type:e}){return s.jsxs("div",{className:"bg-[var(--color-card-bg)] border border-[var(--color-border)] rounded-xl p-12 text-center",children:[s.jsx(ct,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:e==="ACTIVE"?"No Active Debts":"No Settled Debts"}),s.jsx("p",{className:"text-slate-400 text-sm",children:e==="ACTIVE"?"All credit sales are fully paid. Great work!":"No payment history available yet."})]})}function uq(){const e=rt(k=>k.branchName),t="0712345678",[r,n]=g.useState("ACTIVE"),[a,i]=g.useState([]),[l,c]=g.useState(!0),[d,f]=g.useState(null),[m,h]=g.useState(null),x=g.useCallback(async()=>{var k,E,A;try{c(!0);const z=await we.get("/sales",{params:{isCredit:"true",limit:1e3}}),O=((k=z==null?void 0:z.data)==null?void 0:k.sales)||[];i(O)}catch(z){console.error("Fetch debts error:",z);const O=((A=(E=z.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to fetch debts";Ku("Fetch Error",O),i([])}finally{c(!1)}},[]);g.useEffect(()=>{x()},[x]);const v=a.filter(k=>(k==null?void 0:k.creditStatus)==="PENDING"||(k==null?void 0:k.creditStatus)==="PARTIAL"),y=a.filter(k=>(k==null?void 0:k.creditStatus)==="PAID"),w=r==="ACTIVE"?v:y,j=(k,E)=>`Hello ${k.customerName}, this is PRAM Auto Spares (${e}). Reminder of pending balance ${Re(E)}. Call ${t}.`,S=k=>{if(!k.customerPhone)return"#";const E=Nm(k),A=encodeURIComponent(j(k,E));return`https://wa.me/${k.customerPhone.replace(/\D/g,"")}?text=${A}`},P=k=>{if(!k.customerPhone)return"#";const E=Nm(k),A=encodeURIComponent(j(k,E));return`sms:${k.customerPhone}?body=${A}`};return s.jsxs("div",{className:"space-y-6 relative pb-20",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Debt Management"}),s.jsx("p",{className:"text-slate-400",children:"Track and settle credit sales"})]}),s.jsx(iq,{activeTab:r,onTabChange:n,activeCount:v.length,settledCount:y.length}),l&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(vt,{className:"w-8 h-8 text-blue-500 animate-spin"})}),!l&&w.length===0&&s.jsx(cq,{type:r}),!l&&r==="ACTIVE"&&w.length>0&&s.jsx("div",{className:"space-y-3",children:w.map(k=>{const E=Nm(k);return s.jsx("div",{className:"bg-white text-slate-800 rounded-lg shadow-sm mb-3 border border-slate-200 p-5 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 items-center",children:[s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-medium mb-1",children:"Customer"}),s.jsx("p",{className:"text-sm font-bold text-slate-900",children:k.customerName}),s.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:k.customerPhone||"N/A"})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-medium mb-1",children:"Receipt"}),s.jsx("p",{className:"text-sm font-mono text-slate-800",children:k.receiptNumber}),s.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:new Date(k.createdAt).toLocaleDateString("en-KE",{month:"short",day:"numeric",year:"numeric"})})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-medium mb-1",children:"Balance Due"}),s.jsx("p",{className:"text-lg font-bold text-red-600 font-money",children:Re(E)})]}),s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-medium mb-2",children:"Contact"}),s.jsxs("div",{className:"flex items-center gap-2",children:[k.customerPhone&&s.jsx("a",{href:S(k),target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"WhatsApp",children:s.jsx(Gy,{className:"w-4 h-4"})}),k.customerPhone&&s.jsx("a",{href:P(k),className:"p-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",title:"Send SMS",children:s.jsx(R$,{className:"w-4 h-4"})}),k.customerPhone&&s.jsx("a",{href:`tel:${k.customerPhone}`,className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Call",children:s.jsx(os,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-medium mb-2",children:"Settlement"}),s.jsxs("button",{onClick:()=>f(k),className:"w-full px-4 py-2.5 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors font-semibold text-sm flex items-center justify-center gap-2 shadow-sm",children:[s.jsx(Or,{className:"w-4 h-4"}),"RECORD PAYMENT"]})]})]})},k.id)})}),!l&&r==="SETTLED"&&w.length>0&&s.jsx("div",{className:"bg-[var(--color-card-bg)] border border-[var(--color-border)] rounded-xl overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-900/50 border-b border-slate-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Receipt"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Date Settled"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Total Amount"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-800",children:w.map(k=>{const E=k.creditPayments||[],A=E[E.length-1];return s.jsxs("tr",{className:"hover:bg-slate-900/30 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 text-sm text-white font-medium",children:k.customerName}),s.jsx("td",{className:"px-6 py-4 text-sm text-slate-300 font-mono",children:k.receiptNumber}),s.jsx("td",{className:"px-6 py-4 text-sm text-slate-400",children:A?new Date(A.createdAt).toLocaleDateString("en-KE",{month:"short",day:"numeric",year:"numeric"}):"N/A"}),s.jsx("td",{className:"px-6 py-4 text-sm font-bold text-emerald-400 font-money",children:Re(parseFloat(k.total.toString()))}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("button",{onClick:()=>h(k),className:"p-2 bg-blue-500/10 text-blue-400 rounded-lg hover:bg-blue-500/20 transition-colors",title:"View Voucher",children:s.jsx(fn,{className:"w-4 h-4"})})})]},k.id)})})]})})}),d&&s.jsx(oq,{sale:d,onClose:()=>f(null),onSuccess:x}),m&&s.jsx(lq,{sale:m,onClose:()=>h(null)}),s.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 pointer-events-none z-10",children:s.jsx("p",{className:"text-xs text-gray-400/50 font-mono uppercase tracking-wider text-center",children:"Powered by Josea Software Solutions"})})]})}function dq(){const e=sa(),{setAuth:t,setUser:r,setBranch:n,setDrawerOpen:a}=rt(),[i,l]=g.useState(""),[c,d]=g.useState(""),[f,m]=g.useState(""),[h,x]=g.useState(!1),[v,y]=g.useState(!1),[w,j]=g.useState(!1),S=k=>{const E=k.target.value;l(E),j(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E))},P=async k=>{var E,A;k.preventDefault(),m(""),x(!0);try{const z=await ln.auth.login(i,c),{token:O,user:T}=z.data,R=new Audio("/sounds/login-success.mp3");R.volume=.3,R.play().catch(I=>{console.debug("Audio autoplay blocked:",I)}),xe.success("Access Granted: System Ready",{description:`Welcome back, ${T.name}`,duration:3e3}),t(O),r(T.name,T.role,T.id),T.branchId&&T.branch&&n(T.branch.name,T.branchId),a(!1),T.role==="ADMIN"||T.role==="OWNER"?e("/admin/command-center"):(T.role,e("/pos"))}catch(z){m(((A=(E=z.response)==null?void 0:E.data)==null?void 0:A.message)||"System access denied. Please check your credentials and network connection.")}finally{x(!1)}};return s.jsxs("div",{className:"min-h-screen bg-[#0a0a0c] flex items-center justify-center p-4 relative overflow-hidden font-sans antialiased",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("div",{className:"absolute top-[-10%] left-[-5%] w-[600px] h-[600px] bg-purple-900/10 rounded-full blur-[120px]"}),s.jsx("div",{className:"absolute bottom-[-10%] right-[-5%] w-[600px] h-[600px] bg-indigo-900/10 rounded-full blur-[120px]"}),s.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:"radial-gradient(#ffffff 1px, transparent 1px)",backgroundSize:"40px 40px"}})]}),s.jsxs(Z.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},className:"relative z-10 w-full max-w-[480px]",children:[s.jsx(Z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center mb-6",children:s.jsxs("div",{className:"inline-flex flex-col items-center bg-gradient-to-br from-purple-900/20 to-indigo-900/20 border border-purple-500/30 rounded-2xl px-8 py-4 backdrop-blur-xl shadow-2xl relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-purple-500/10 to-transparent animate-pulse"}),s.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-[0.3em] mb-1.5 relative z-10",children:"System Powered by"}),s.jsxs("p",{className:"text-sm font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-purple-300 to-indigo-400 uppercase italic tracking-wider relative z-10",children:["JOSEA ",s.jsx("span",{className:"text-slate-300 font-bold",children:"SOFTWARE SOLUTIONS"})]}),s.jsx("div",{className:"absolute top-2 left-2 w-3 h-3 border-t-2 border-l-2 border-purple-500/40"}),s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 border-t-2 border-r-2 border-purple-500/40"}),s.jsx("div",{className:"absolute bottom-2 left-2 w-3 h-3 border-b-2 border-l-2 border-purple-500/40"}),s.jsx("div",{className:"absolute bottom-2 right-2 w-3 h-3 border-b-2 border-r-2 border-purple-500/40"})]})}),s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex items-center justify-center gap-2 mb-8",children:[s.jsx(Gu,{className:"w-4 h-4 text-emerald-500 animate-pulse"}),s.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-[0.3em]",children:"Authorized Access Only"})]}),s.jsxs("div",{className:"bg-white/[0.02] border border-white/[0.08] rounded-[2.5rem] p-12 backdrop-blur-2xl shadow-2xl relative overflow-hidden",children:[s.jsx(Z.div,{className:"absolute inset-x-0 h-[2px] bg-gradient-to-r from-transparent via-purple-500 to-transparent opacity-50 blur-sm",animate:{top:["0%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),s.jsx(Z.div,{className:"absolute inset-x-0 h-[1px] bg-gradient-to-r from-transparent via-purple-300 to-transparent",animate:{top:["0%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-400 rounded-2xl mb-6 shadow-inner border border-white/20",children:s.jsx(M$,{className:"w-8 h-8 text-slate-900"})}),s.jsxs("h1",{className:"text-4xl font-black text-white tracking-tighter uppercase italic",children:["PRAM ",s.jsx("span",{className:"text-purple-500",children:"AUTO"})]}),s.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-[0.5em] mt-2",children:"Bussiness Management System"})]}),s.jsxs("form",{onSubmit:P,className:"space-y-6",children:[s.jsx(Ve,{children:f&&s.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-red-500/10 border border-red-500/20 p-4 rounded-xl flex items-center gap-3",children:[s.jsx(tn,{className:"w-4 h-4 text-red-500 shrink-0"}),s.jsx("p",{className:"text-[11px] font-bold text-red-200 uppercase tracking-wider leading-relaxed",children:f})]})}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2.5",children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Email Identifier"}),s.jsxs("div",{className:"relative group",children:[s.jsx($l,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-purple-500 transition-colors"}),s.jsx("input",{type:"email",value:i,onChange:S,required:!0,placeholder:"Enter your email address",className:"w-full pl-11 pr-4 py-4 bg-white/[0.03] border border-white/[0.08] rounded-xl text-sm text-white focus:outline-none focus:border-purple-500/50 transition-all placeholder:text-slate-600 shadow-inner",disabled:h}),w&&s.jsx(tr,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-emerald-500"})]})]}),s.jsxs("div",{className:"space-y-2.5",children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest ml-1",children:"Secure Passkey"}),s.jsxs("div",{className:"relative group",children:[s.jsx(wi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-focus-within:text-purple-500 transition-colors"}),s.jsx("input",{type:v?"text":"password",value:c,onChange:k=>d(k.target.value),required:!0,placeholder:"",className:"w-full pl-11 pr-12 py-4 bg-white/[0.03] border border-white/[0.08] rounded-xl text-sm text-white focus:outline-none focus:border-purple-500/50 transition-all placeholder:text-slate-600 shadow-inner",disabled:h}),s.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors",children:v?s.jsx(bl,{size:16}):s.jsx(fn,{size:16})})]})]})]}),s.jsxs("button",{type:"submit",disabled:h,className:"w-full bg-white text-black font-black py-4 rounded-xl text-xs uppercase tracking-[0.2em] flex items-center justify-center gap-2 hover:bg-slate-200 active:scale-[0.98] transition-all disabled:opacity-50 mt-4 shadow-xl",children:[h?"Authenticating...":"Sign In To Terminal",!h&&s.jsx(Xs,{size:14,className:"opacity-50"})]})]})]})]}),s.jsx("div",{className:"mt-8 flex items-center justify-center border-t border-white/5 pt-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase tracking-widest",children:"System Online"})]})})]})]})}function IO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=IO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ut(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=IO(e))&&(n&&(n+=" "),n+=t);return n}var fq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Lw(e){if(typeof e!="string")return!1;var t=fq;return t.includes(e)}var mq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hq=new Set(mq);function DO(e){return typeof e!="string"?!1:hq.has(e)}function RO(e){return typeof e=="string"&&e.startsWith("data-")}function pn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(DO(r)||RO(r))&&(t[r]=e[r]);return t}function jo(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return pn(t)}return typeof e=="object"&&!Array.isArray(e)?pn(e):null}function sn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(DO(r)||RO(r)||Lw(r))&&(t[r]=e[r]);return t}function pq(e){return e==null?null:g.isValidElement(e)?sn(e.props):typeof e=="object"&&!Array.isArray(e)?sn(e):null}var xq=["children","width","height","viewBox","className","style","title","desc"];function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(null,arguments)}function gq(e,t){if(e==null)return{};var r,n,a=vq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _O=g.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:c,title:d,desc:f}=e,m=gq(e,xq),h=i||{width:n,height:a,x:0,y:0},x=ut("recharts-surface",l);return g.createElement("svg",Tb({},sn(m),{className:x,width:n,height:a,style:c,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),g.createElement("title",null,d),g.createElement("desc",null,f),r)}),bq=["children","className"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(null,arguments)}function yq(e,t){if(e==null)return{};var r,n,a=wq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xt=g.forwardRef((e,t)=>{var{children:r,className:n}=e,a=yq(e,bq),i=ut("recharts-layer",n);return g.createElement("g",Mb({className:i},sn(a),{ref:t}),r)}),jq=g.createContext(null);function Et(e){return function(){return e}}const LO=Math.cos,Um=Math.sin,Rs=Math.sqrt,Wm=Math.PI,Zh=2*Wm,Ib=Math.PI,Db=2*Ib,Xi=1e-6,Nq=Db-Xi;function $O(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Sq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $O;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class kq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$O:Sq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,d=n-t,f=a-r,m=l-t,h=c-r,x=m*m+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>Xi)if(!(Math.abs(h*d-f*m)>Xi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-l,y=a-c,w=d*d+f*f,j=v*v+y*y,S=Math.sqrt(w),P=Math.sqrt(x),k=i*Math.tan((Ib-Math.acos((w+x-j)/(2*S*P)))/2),E=k/P,A=k/S;Math.abs(E-1)>Xi&&this._append`L${t+E*m},${r+E*h}`,this._append`A${i},${i},0,0,${+(h*v>m*y)},${this._x1=t+A*d},${this._y1=r+A*f}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,m=r+d,h=1^l,x=l?a-i:i-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Xi||Math.abs(this._y1-m)>Xi)&&this._append`L${f},${m}`,n&&(x<0&&(x=x%Db+Db),x>Nq?this._append`A${n},${n},0,1,${h},${t-c},${r-d}A${n},${n},0,1,${h},${this._x1=f},${this._y1=m}`:x>Xi&&this._append`A${n},${n},0,${+(x>=Ib)},${h},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function $w(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new kq(t)}function Fw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FO(e){this._context=e}FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jh(e){return new FO(e)}function BO(e){return e[0]}function VO(e){return e[1]}function UO(e,t){var r=Et(!0),n=null,a=Jh,i=null,l=$w(c);e=typeof e=="function"?e:e===void 0?BO:Et(e),t=typeof t=="function"?t:t===void 0?VO:Et(t);function c(d){var f,m=(d=Fw(d)).length,h,x=!1,v;for(n==null&&(i=a(v=l())),f=0;f<=m;++f)!(f<m&&r(h=d[f],f,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(h,f,d),+t(h,f,d));if(v)return i=null,v+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Et(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Et(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Et(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function Kf(e,t,r){var n=null,a=Et(!0),i=null,l=Jh,c=null,d=$w(f);e=typeof e=="function"?e:e===void 0?BO:Et(+e),t=typeof t=="function"?t:Et(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?VO:Et(+r);function f(h){var x,v,y,w=(h=Fw(h)).length,j,S=!1,P,k=new Array(w),E=new Array(w);for(i==null&&(c=l(P=d())),x=0;x<=w;++x){if(!(x<w&&a(j=h[x],x,h))===S)if(S=!S)v=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),y=x-1;y>=v;--y)c.point(k[y],E[y]);c.lineEnd(),c.areaEnd()}S&&(k[x]=+e(j,x,h),E[x]=+t(j,x,h),c.point(n?+n(j,x,h):k[x],r?+r(j,x,h):E[x]))}if(P)return c=null,P+""||null}function m(){return UO().defined(a).curve(l).context(i)}return f.x=function(h){return arguments.length?(e=typeof h=="function"?h:Et(+h),n=null,f):e},f.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Et(+h),f):e},f.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Et(+h),f):n},f.y=function(h){return arguments.length?(t=typeof h=="function"?h:Et(+h),r=null,f):t},f.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Et(+h),f):t},f.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Et(+h),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Et(!!h),f):a},f.curve=function(h){return arguments.length?(l=h,i!=null&&(c=l(i)),f):l},f.context=function(h){return arguments.length?(h==null?i=c=null:c=l(i=h),f):i},f}class WO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Pq(e){return new WO(e,!0)}function Cq(e){return new WO(e,!1)}const Bw={draw(e,t){const r=Rs(t/Wm);e.moveTo(r,0),e.arc(0,0,r,0,Zh)}},Eq={draw(e,t){const r=Rs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},KO=Rs(1/3),Aq=KO*2,zq={draw(e,t){const r=Rs(t/Aq),n=r*KO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Oq={draw(e,t){const r=Rs(t),n=-r/2;e.rect(n,n,r,r)}},Tq=.8908130915292852,qO=Um(Wm/10)/Um(7*Wm/10),Mq=Um(Zh/10)*qO,Iq=-LO(Zh/10)*qO,Dq={draw(e,t){const r=Rs(t*Tq),n=Mq*r,a=Iq*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=Zh*i/5,c=LO(l),d=Um(l);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},dg=Rs(3),Rq={draw(e,t){const r=-Rs(t/(dg*3));e.moveTo(0,r*2),e.lineTo(-dg*r,-r),e.lineTo(dg*r,-r),e.closePath()}},es=-.5,ts=Rs(3)/2,Rb=1/Rs(12),_q=(Rb/2+1)*3,Lq={draw(e,t){const r=Rs(t/_q),n=r/2,a=r*Rb,i=n,l=r*Rb+r,c=-i,d=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(c,d),e.lineTo(es*n-ts*a,ts*n+es*a),e.lineTo(es*i-ts*l,ts*i+es*l),e.lineTo(es*c-ts*d,ts*c+es*d),e.lineTo(es*n+ts*a,es*a-ts*n),e.lineTo(es*i+ts*l,es*l-ts*i),e.lineTo(es*c+ts*d,es*d-ts*c),e.closePath()}};function $q(e,t){let r=null,n=$w(a);e=typeof e=="function"?e:Et(e||Bw),t=typeof t=="function"?t:Et(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Et(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Et(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Km(){}function qm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function HO(e){this._context=e}HO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fq(e){return new HO(e)}function GO(e){this._context=e}GO.prototype={areaStart:Km,areaEnd:Km,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bq(e){return new GO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vq(e){return new YO(e)}function XO(e){this._context=e}XO.prototype={areaStart:Km,areaEnd:Km,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Uq(e){return new XO(e)}function C5(e){return e<0?-1:1}function E5(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),c=(i*a+l*n)/(n+a);return(C5(i)+C5(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function A5(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function fg(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,l-c*r,i,l)}function Hm(e){this._context=e}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fg(this,this._t0,A5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fg(this,A5(this,r=E5(this,e,t)),r);break;default:fg(this,this._t0,r=E5(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function QO(e){this._context=new ZO(e)}(QO.prototype=Object.create(Hm.prototype)).point=function(e,t){Hm.prototype.point.call(this,t,e)};function ZO(e){this._context=e}ZO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Wq(e){return new Hm(e)}function Kq(e){return new QO(e)}function JO(e){this._context=e}JO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=z5(e),a=z5(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function z5(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function qq(e){return new JO(e)}function ep(e,t){this._context=e,this._t=t}ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Hq(e){return new ep(e,.5)}function Gq(e){return new ep(e,0)}function Yq(e){return new ep(e,1)}function No(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,c=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function _b(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Xq(e,t){return e[t]}function Qq(e){const t=[];return t.key=e,t}function Zq(){var e=Et([]),t=_b,r=No,n=Xq;function a(i){var l=Array.from(e.apply(this,arguments),Qq),c,d=l.length,f=-1,m;for(const h of i)for(c=0,++f;c<d;++c)(l[c][f]=[0,+n(h,l[c].key,f,i)]).data=h;for(c=0,m=Fw(t(l));c<d;++c)l[m[c]].index=c;return r(l,m),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Et(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Et(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?_b:typeof i=="function"?i:Et(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??No,a):r},a}function Jq(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}No(e,t)}}function eH(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,c=0;l<a;++l)c+=e[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}No(e,t)}}function tH(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var c=0,d=0,f=0;c<l;++c){for(var m=e[t[c]],h=m[n][1]||0,x=m[n-1][1]||0,v=(h-x)/2,y=0;y<c;++y){var w=e[t[y]],j=w[n][1]||0,S=w[n-1][1]||0;v+=j-S}d+=h,f+=v*h}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,No(e,t)}}var mg={},hg={},O5;function rH(){return O5||(O5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(hg)),hg}var pg={},T5;function eT(){return T5||(T5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(pg)),pg}var xg={},M5;function Vw(){return M5||(M5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(xg)),xg}var gg={},vg={},I5;function nH(){return I5||(I5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(vg)),vg}var D5;function Uw(){return D5||(D5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nH(),r=Vw();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],l=a.length;if(l===0)return i;let c=0,d="",f="",m=!1;for(a.charCodeAt(0)===46&&(i.push(""),c++);c<l;){const h=a[c];f?h==="\\"&&c+1<l?(c++,d+=a[c]):h===f?f="":d+=h:m?h==='"'||h==="'"?f=h:h==="]"?(m=!1,i.push(d),d=""):d+=h:h==="["?(m=!0,d&&(i.push(d),d="")):h==="."?d&&(i.push(d),d=""):d+=h,c++}return d&&i.push(d),i}e.toPath=n})(gg)),gg}var R5;function Ww(){return R5||(R5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rH(),r=eT(),n=Vw(),a=Uw();function i(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?r.isDeepKey(d)?i(c,a.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d==null?void 0:d.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function l(c,d,f){if(d.length===0)return f;let m=c;for(let h=0;h<d.length;h++){if(m==null||t.isUnsafeProperty(d[h]))return f;m=m[d[h]]}return m===void 0?f:m}e.get=i})(mg)),mg}var bg,_5;function sH(){return _5||(_5=1,bg=Ww().get),bg}var aH=sH();const So=Ms(aH);var iH=4;function yi(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:iH,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Gt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,l)=>{var c=r[l-1];return typeof c=="string"?a+c+i:c!==void 0?a+yi(c)+i:a+i},"")}var Ir=e=>e===0?0:e>0?1:-1,fs=e=>typeof e=="number"&&e!=+e,Oa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Oe=e=>(typeof e=="number"||e instanceof Number)&&!fs(e),Js=e=>Oe(e)||typeof e=="string",oH=0,Cu=e=>{var t=++oH;return"".concat(e||"").concat(t)},nn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(t)&&typeof t!="string")return n;var i;if(Oa(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return fs(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},tT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function mt(e,t,r){return Oe(e)&&Oe(t)?yi(e+r*(t-e)):t}function rT(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):So(n,t))===r)}var It=e=>e===null||typeof e>"u",ad=e=>It(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function lH(e){return e!=null}function id(){}var cH=["type","size","sizeType"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(null,arguments)}function L5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mH(e,t){if(e==null)return{};var r,n,a=hH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nT={symbolCircle:Bw,symbolCross:Eq,symbolDiamond:zq,symbolSquare:Oq,symbolStar:Dq,symbolTriangle:Rq,symbolWye:Lq},pH=Math.PI/180,xH=e=>{var t="symbol".concat(ad(e));return nT[t]||Bw},gH=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*pH;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vH=(e,t)=>{nT["symbol".concat(ad(e))]=t},sT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=mH(e,cH),i=$5($5({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var c=()=>{var x=xH(l),v=$q().type(x).size(gH(r,n,l)),y=v();if(y!==null)return y},{className:d,cx:f,cy:m}=i,h=sn(i);return Oe(f)&&Oe(m)&&Oe(r)?g.createElement("path",Lb({},h,{className:ut("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};sT.registerSymbol=vH;var aT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Kw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Lw(a)&&(n[a]=(i=>r[a](r,i)))}),n},bH=(e,t,r)=>n=>(e(t,r,n),null),tp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Lw(a)&&typeof i=="function"&&(n||(n={}),n[a]=bH(i,t,r))}),n};function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return(t=jH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t){var r=yH({},e),n=t,a=Object.keys(t),i=a.reduce((l,c)=>(l[c]===void 0&&n[c]!==void 0&&(l[c]=n[c]),l),r);return i}var yg={},wg={},B5;function SH(){return B5||(B5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],c=n(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}e.uniqBy=t})(wg)),wg}var jg={},V5;function iT(){return V5||(V5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(jg)),jg}var Ng={},Sg={},kg={},U5;function kH(){return U5||(U5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(kg)),kg}var W5;function qw(){return W5||(W5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kH();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Sg)),Sg}var Pg={},K5;function PH(){return K5||(K5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Pg)),Pg}var q5;function CH(){return q5||(q5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qw(),r=PH();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Ng)),Ng}var Cg={},Eg={},H5;function EH(){return H5||(H5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ww();function r(n){return function(a){return t.get(a,n)}}e.property=r})(Eg)),Eg}var Ag={},zg={},Og={},Tg={},G5;function oT(){return G5||(G5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Tg)),Tg}var Mg={},Y5;function lT(){return Y5||(Y5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Mg)),Mg}var Ig={},X5;function cT(){return X5||(X5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Ig)),Ig}var Q5;function AH(){return Q5||(Q5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oT(),r=lT(),n=cT();function a(m,h,x){return typeof x!="function"?a(m,h,()=>{}):i(m,h,function v(y,w,j,S,P,k){const E=x(y,w,j,S,P,k);return E!==void 0?!!E:i(y,w,v,k)},new Map)}function i(m,h,x,v){if(h===m)return!0;switch(typeof h){case"object":return l(m,h,x,v);case"function":return Object.keys(h).length>0?i(m,{...h},x,v):n.eq(m,h);default:return t.isObject(m)?typeof h=="string"?h==="":!0:n.eq(m,h)}}function l(m,h,x,v){if(h==null)return!0;if(Array.isArray(h))return d(m,h,x,v);if(h instanceof Map)return c(m,h,x,v);if(h instanceof Set)return f(m,h,x,v);const y=Object.keys(h);if(m==null||r.isPrimitive(m))return y.length===0;if(y.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===m;v==null||v.set(h,m);try{for(let w=0;w<y.length;w++){const j=y[w];if(!r.isPrimitive(m)&&!(j in m)||h[j]===void 0&&m[j]!==void 0||h[j]===null&&m[j]!==null||!x(m[j],h[j],j,m,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function c(m,h,x,v){if(h.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,w]of h.entries()){const j=m.get(y);if(x(j,w,y,m,h,v)===!1)return!1}return!0}function d(m,h,x,v){if(h.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let w=0;w<h.length;w++){const j=h[w];let S=!1;for(let P=0;P<m.length;P++){if(y.has(P))continue;const k=m[P];let E=!1;if(x(k,j,w,m,h,v)&&(E=!0),E){y.add(P),S=!0;break}}if(!S)return!1}return!0}function f(m,h,x,v){return h.size===0?!0:m instanceof Set?d([...m],[...h],x,v):!1}e.isMatchWith=a,e.isSetMatch=f})(Og)),Og}var Z5;function uT(){return Z5||(Z5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AH();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(zg)),zg}var Dg={},Rg={},_g={},J5;function zH(){return J5||(J5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(_g)),_g}var Lg={},eP;function dT(){return eP||(eP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Lg)),Lg}var $g={},tP;function fT(){return tP||(tP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",h="[object Function]",x="[object ArrayBuffer]",v="[object Object]",y="[object Error]",w="[object DataView]",j="[object Uint8Array]",S="[object Uint8ClampedArray]",P="[object Uint16Array]",k="[object Uint32Array]",E="[object BigUint64Array]",A="[object Int8Array]",z="[object Int16Array]",O="[object Int32Array]",T="[object BigInt64Array]",R="[object Float32Array]",I="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=x,e.arrayTag=m,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=E,e.booleanTag=a,e.dataViewTag=w,e.dateTag=c,e.errorTag=y,e.float32ArrayTag=R,e.float64ArrayTag=I,e.functionTag=h,e.int16ArrayTag=z,e.int32ArrayTag=O,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=n,e.objectTag=v,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=P,e.uint32ArrayTag=k,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=S})($g)),$g}var Fg={},rP;function OH(){return rP||(rP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Fg)),Fg}var nP;function mT(){return nP||(nP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zH(),r=dT(),n=fT(),a=lT(),i=OH();function l(m,h){return c(m,void 0,m,new Map,h)}function c(m,h,x,v=new Map,y=void 0){const w=y==null?void 0:y(m,h,x,v);if(w!==void 0)return w;if(a.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const j=new Array(m.length);v.set(m,j);for(let S=0;S<m.length;S++)j[S]=c(m[S],S,x,v,y);return Object.hasOwn(m,"index")&&(j.index=m.index),Object.hasOwn(m,"input")&&(j.input=m.input),j}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const j=new RegExp(m.source,m.flags);return j.lastIndex=m.lastIndex,j}if(m instanceof Map){const j=new Map;v.set(m,j);for(const[S,P]of m)j.set(S,c(P,S,x,v,y));return j}if(m instanceof Set){const j=new Set;v.set(m,j);for(const S of m)j.add(c(S,void 0,x,v,y));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const j=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,j);for(let S=0;S<m.length;S++)j[S]=c(m[S],S,x,v,y);return j}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const j=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,j),d(j,m,x,v,y),j}if(typeof File<"u"&&m instanceof File){const j=new File([m],m.name,{type:m.type});return v.set(m,j),d(j,m,x,v,y),j}if(typeof Blob<"u"&&m instanceof Blob){const j=new Blob([m],{type:m.type});return v.set(m,j),d(j,m,x,v,y),j}if(m instanceof Error){const j=new m.constructor;return v.set(m,j),j.message=m.message,j.name=m.name,j.stack=m.stack,j.cause=m.cause,d(j,m,x,v,y),j}if(m instanceof Boolean){const j=new Boolean(m.valueOf());return v.set(m,j),d(j,m,x,v,y),j}if(m instanceof Number){const j=new Number(m.valueOf());return v.set(m,j),d(j,m,x,v,y),j}if(m instanceof String){const j=new String(m.valueOf());return v.set(m,j),d(j,m,x,v,y),j}if(typeof m=="object"&&f(m)){const j=Object.create(Object.getPrototypeOf(m));return v.set(m,j),d(j,m,x,v,y),j}return m}function d(m,h,x=m,v,y){const w=[...Object.keys(h),...t.getSymbols(h)];for(let j=0;j<w.length;j++){const S=w[j],P=Object.getOwnPropertyDescriptor(m,S);(P==null||P.writable)&&(m[S]=c(h[S],S,x,v,y))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=d})(Rg)),Rg}var sP;function TH(){return sP||(sP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mT();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Dg)),Dg}var aP;function MH(){return aP||(aP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT(),r=TH();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Ag)),Ag}var Bg={},Vg={},Ug={},iP;function IH(){return iP||(iP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mT(),r=fT();function n(a,i){return t.cloneDeepWith(a,(l,c,d,f)=>{const m=i==null?void 0:i(l,c,d,f);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}})}e.cloneDeepWith=n})(Ug)),Ug}var oP;function DH(){return oP||(oP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IH();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Vg)),Vg}var Wg={},Kg={},lP;function hT(){return lP||(lP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Kg)),Kg}var qg={},cP;function RH(){return cP||(cP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dT();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(qg)),qg}var uP;function _H(){return uP||(uP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eT(),r=hT(),n=RH(),a=Uw();function i(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&(l==null?void 0:l[c])==null?d=a.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let m=0;m<d.length;m++){const h=d[m];if((f==null||!Object.hasOwn(f,h))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(h)&&h<f.length))return!1;f=f[h]}return!0}e.has=i})(Wg)),Wg}var dP;function LH(){return dP||(dP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uT(),r=Vw(),n=DH(),a=Ww(),i=_H();function l(c,d){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(f){const m=a.get(f,c);return m===void 0?i.has(f,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=l})(Bg)),Bg}var fP;function $H(){return fP||(fP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iT(),r=EH(),n=MH(),a=LH();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(Cg)),Cg}var mP;function FH(){return mP||(mP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SH(),r=iT(),n=CH(),a=$H();function i(l,c=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(c)):[]}e.uniqBy=i})(yg)),yg}var Hg,hP;function BH(){return hP||(hP=1,Hg=FH().uniqBy),Hg}var VH=BH();const pP=Ms(VH);function UH(e,t,r){return t===!0?pP(e,r):typeof t=="function"?pP(e,t):e}var Gg={exports:{}},Yg={},Xg={exports:{}},Qg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function WH(){if(xP)return Qg;xP=1;var e=Dl();function t(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(h,x){var v=x(),y=n({inst:{value:v,getSnapshot:x}}),w=y[0].inst,j=y[1];return i(function(){w.value=v,w.getSnapshot=x,d(w)&&j({inst:w})},[h,v,x]),a(function(){return d(w)&&j({inst:w}),h(function(){d(w)&&j({inst:w})})},[h]),l(v),v}function d(h){var x=h.getSnapshot;h=h.value;try{var v=x();return!r(h,v)}catch{return!0}}function f(h,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Qg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Qg}var gP;function KH(){return gP||(gP=1,Xg.exports=WH()),Xg.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vP;function qH(){if(vP)return Yg;vP=1;var e=Dl(),t=KH();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Yg.useSyncExternalStoreWithSelector=function(f,m,h,x,v){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=c(function(){function S(z){if(!P){if(P=!0,k=z,z=x(z),v!==void 0&&w.hasValue){var O=w.value;if(v(O,z))return E=O}return E=z}if(O=E,n(k,z))return O;var T=x(z);return v!==void 0&&v(O,T)?(k=z,O):(k=z,E=T)}var P=!1,k,E,A=h===void 0?null:h;return[function(){return S(m())},A===null?void 0:function(){return S(A())}]},[m,h,x,v]);var j=a(f,y[0],y[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},Yg}var bP;function HH(){return bP||(bP=1,Gg.exports=qH()),Gg.exports}var GH=HH(),Hw=g.createContext(null),YH=e=>e,Ft=()=>{var e=g.useContext(Hw);return e?e.store.dispatch:YH},Sm=()=>{},XH=()=>Sm,QH=(e,t)=>e===t;function _e(e){var t=g.useContext(Hw);return GH.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:XH,t?t.store.getState:Sm,t?t.store.getState:Sm,t?e:Sm,QH)}function ZH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function JH(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function eG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var yP=e=>Array.isArray(e)?e:[e];function tG(e){const t=Array.isArray(e[0])?e[0]:e;return eG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function rG(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var nG=class{constructor(e){this.value=e}deref(){return this.value}},sG=typeof WeakRef<"u"?WeakRef:nG,aG=0,wP=1;function qf(){return{s:aG,v:void 0,o:null,p:null}}function pT(e,t={}){let r=qf();const{resultEqualityCheck:n}=t;let a,i=0;function l(){var h;let c=r;const{length:d}=arguments;for(let x=0,v=d;x<v;x++){const y=arguments[x];if(typeof y=="function"||typeof y=="object"&&y!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const j=w.get(y);j===void 0?(c=qf(),w.set(y,c)):c=j}else{let w=c.p;w===null&&(c.p=w=new Map);const j=w.get(y);j===void 0?(c=qf(),w.set(y,c)):c=j}}const f=c;let m;if(c.s===wP)m=c.v;else if(m=e.apply(null,arguments),i++,n){const x=((h=a==null?void 0:a.deref)==null?void 0:h.call(a))??a;x!=null&&n(x,m)&&(m=x,i!==0&&i--),a=typeof m=="object"&&m!==null||typeof m=="function"?new sG(m):m}return f.s=wP,f.v=m,m}return l.clearCache=()=>{r=qf(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function iG(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,c,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),ZH(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:h,memoizeOptions:x=[],argsMemoize:v=pT,argsMemoizeOptions:y=[]}=m,w=yP(x),j=yP(y),S=tG(a),P=h(function(){return i++,f.apply(null,arguments)},...w),k=v(function(){l++;const A=rG(S,arguments);return c=P.apply(null,A),c},...j);return Object.assign(k,{resultFunc:f,memoizedResultFunc:P,dependencies:S,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:h,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var ie=iG(pT),oG=Object.assign((e,t=ie)=>{JH(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,c,d)=>(l[r[d]]=c,l),{}))},{withTypes:()=>oG}),Zg={},Jg={},ev={},jP;function lG(){return jP||(jP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),c=t(a);if(l===c&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?c-l:l-c}return 0};e.compareValues=r})(ev)),ev}var tv={},rv={},NP;function xT(){return NP||(NP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(rv)),rv}var SP;function cG(){return SP||(SP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xT(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(tv)),tv}var kP;function uG(){return kP||(kP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lG(),r=cG(),n=Uw();function a(i,l,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(v=>String(v));const f=(v,y)=>{let w=v;for(let j=0;j<y.length&&w!=null;++j)w=w[y[j]];return w},m=(v,y)=>y==null||v==null?y:typeof v=="object"&&"key"in v?Object.hasOwn(y,v.key)?y[v.key]:f(y,v.path):typeof v=="function"?v(y):Array.isArray(v)?f(y,v):typeof y=="object"?y[v]:y,h=l.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return i.map(v=>({original:v,criteria:h.map(y=>m(y,v))})).slice().sort((v,y)=>{for(let w=0;w<h.length;w++){const j=t.compareValues(v.criteria[w],y.criteria[w],c[w]);if(j!==0)return j}return 0}).map(v=>v.original)}e.orderBy=a})(Jg)),Jg}var nv={},PP;function dG(){return PP||(PP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<i?l(m,d+1):a.push(m)}};return l(r,0),a}e.flatten=t})(nv)),nv}var sv={},CP;function gT(){return CP||(CP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hT(),r=qw(),n=oT(),a=cT();function i(l,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],l):!1}e.isIterateeCall=i})(sv)),sv}var EP;function fG(){return EP||(EP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uG(),r=dG(),n=gT();function a(i,...l){const c=l.length;return c>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:c>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(Zg)),Zg}var av,AP;function mG(){return AP||(AP=1,av=fG().sortBy),av}var hG=mG();const rp=Ms(hG);var vT=e=>e.legend.settings,pG=e=>e.legend.size,xG=e=>e.legend.payload;ie([xG,vT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?rp(n,r):n});var Hf=1;function gG(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>Hf||Math.abs(l.left-t.left)>Hf||Math.abs(l.top-t.top)>Hf||Math.abs(l.width-t.width)>Hf)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Br(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var vG=typeof Symbol=="function"&&Symbol.observable||"@@observable",zP=vG,iv=()=>Math.random().toString(36).substring(7).split("").join("."),bG={INIT:`@@redux/INIT${iv()}`,REPLACE:`@@redux/REPLACE${iv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${iv()}`},Gm=bG;function Gw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function bT(e,t,r){if(typeof e!="function")throw new Error(Br(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Br(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Br(1));return r(bT)(e,t)}let n=e,a=t,i=new Map,l=i,c=0,d=!1;function f(){l===i&&(l=new Map,i.forEach((j,S)=>{l.set(S,j)}))}function m(){if(d)throw new Error(Br(3));return a}function h(j){if(typeof j!="function")throw new Error(Br(4));if(d)throw new Error(Br(5));let S=!0;f();const P=c++;return l.set(P,j),function(){if(S){if(d)throw new Error(Br(6));S=!1,f(),l.delete(P),i=null}}}function x(j){if(!Gw(j))throw new Error(Br(7));if(typeof j.type>"u")throw new Error(Br(8));if(typeof j.type!="string")throw new Error(Br(17));if(d)throw new Error(Br(9));try{d=!0,a=n(a,j)}finally{d=!1}return(i=l).forEach(P=>{P()}),j}function v(j){if(typeof j!="function")throw new Error(Br(10));n=j,x({type:Gm.REPLACE})}function y(){const j=h;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Br(11));function P(){const E=S;E.next&&E.next(m())}return P(),{unsubscribe:j(P)}},[zP](){return this}}}return x({type:Gm.INIT}),{dispatch:x,subscribe:h,getState:m,replaceReducer:v,[zP]:y}}function yG(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Gm.INIT})>"u")throw new Error(Br(12));if(typeof r(void 0,{type:Gm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Br(13))})}function yT(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{yG(r)}catch(i){a=i}return function(l={},c){if(a)throw a;let d=!1;const f={};for(let m=0;m<n.length;m++){const h=n[m],x=r[h],v=l[h],y=x(v,c);if(typeof y>"u")throw c&&c.type,new Error(Br(14));f[h]=y,d=d||y!==v}return d=d||n.length!==Object.keys(l).length,d?f:l}}function Ym(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function wG(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Br(15))};const l={getState:a.getState,dispatch:(d,...f)=>i(d,...f)},c=e.map(d=>d(l));return i=Ym(...c)(a.dispatch),{...a,dispatch:i}}}function wT(e){return Gw(e)&&"type"in e&&typeof e.type=="string"}var jT=Symbol.for("immer-nothing"),OP=Symbol.for("immer-draftable"),xn=Symbol.for("immer-state");function ks(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vn=Object,zl=Vn.getPrototypeOf,Xm="constructor",np="prototype",$b="configurable",Qm="enumerable",km="writable",Eu="value",Ta=e=>!!e&&!!e[xn];function Ts(e){var t;return e?NT(e)||sp(e)||!!e[OP]||!!((t=e[Xm])!=null&&t[OP])||ap(e)||ip(e):!1}var jG=Vn[np][Xm].toString(),TP=new WeakMap;function NT(e){if(!e||!Yw(e))return!1;const t=zl(e);if(t===null||t===Vn[np])return!0;const r=Vn.hasOwnProperty.call(t,Xm)&&t[Xm];if(r===Object)return!0;if(!cl(r))return!1;let n=TP.get(r);return n===void 0&&(n=Function.toString.call(r),TP.set(r,n)),n===jG}function od(e,t,r=!0){ld(e)===0?(r?Reflect.ownKeys(e):Vn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ld(e){const t=e[xn];return t?t.type_:sp(e)?1:ap(e)?2:ip(e)?3:0}var MP=(e,t,r=ld(e))=>r===2?e.has(t):Vn[np].hasOwnProperty.call(e,t),Fb=(e,t,r=ld(e))=>r===2?e.get(t):e[t],Zm=(e,t,r,n=ld(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function NG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var sp=Array.isArray,ap=e=>e instanceof Map,ip=e=>e instanceof Set,Yw=e=>typeof e=="object",cl=e=>typeof e=="function",ov=e=>typeof e=="boolean";function SG(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ga=e=>e.copy_||e.base_,Xw=e=>e.modified_?e.copy_:e.base_;function Bb(e,t){if(ap(e))return new Map(e);if(ip(e))return new Set(e);if(sp(e))return Array[np].slice.call(e);const r=NT(e);if(t===!0||t==="class_only"&&!r){const n=Vn.getOwnPropertyDescriptors(e);delete n[xn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],c=n[l];c[km]===!1&&(c[km]=!0,c[$b]=!0),(c.get||c.set)&&(n[l]={[$b]:!0,[km]:!0,[Qm]:c[Qm],[Eu]:e[l]})}return Vn.create(zl(e),n)}else{const n=zl(e);if(n!==null&&r)return{...e};const a=Vn.create(n);return Vn.assign(a,e)}}function Qw(e,t=!1){return op(e)||Ta(e)||!Ts(e)||(ld(e)>1&&Vn.defineProperties(e,{set:Gf,add:Gf,clear:Gf,delete:Gf}),Vn.freeze(e),t&&od(e,(r,n)=>{Qw(n,!0)},!1)),e}function kG(){ks(2)}var Gf={[Eu]:kG};function op(e){return e===null||!Yw(e)?!0:Vn.isFrozen(e)}var Jm="MapSet",Vb="Patches",IP="ArrayMethods",ST={};function ko(e){const t=ST[e];return t||ks(0,e),t}var DP=e=>!!ST[e],Au,kT=()=>Au,PG=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:DP(Jm)?ko(Jm):void 0,arrayMethodsPlugin_:DP(IP)?ko(IP):void 0});function RP(e,t){t&&(e.patchPlugin_=ko(Vb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ub(e){Wb(e),e.drafts_.forEach(CG),e.drafts_=null}function Wb(e){e===Au&&(Au=e.parent_)}var _P=e=>Au=PG(Au,e);function CG(e){const t=e[xn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[xn].modified_&&(Ub(t),ks(4)),Ts(e)&&(e=$P(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[xn].base_,e,t)}else e=$P(t,r);return EG(t,e,!0),Ub(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jT?e:void 0}function $P(e,t){if(op(t))return t;const r=t[xn];if(!r)return Zw(t,e.handledSet_,e);if(!lp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);ET(r,e)}return r.copy_}function EG(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qw(t,r)}function PT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var lp=(e,t)=>e.scope_===t,AG=[];function CT(e,t,r,n){const a=ga(e),i=e.type_;if(n!==void 0&&Fb(a,n,i)===t){Zm(a,n,r,i);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;od(a,(d,f)=>{if(Ta(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const l=e.draftLocations_.get(t)??AG;for(const c of l)Zm(a,c,r,i)}function zG(e,t,r){e.callbacks_.push(function(a){var c;const i=t;if(!i||!lp(i,a))return;(c=a.mapSetPlugin_)==null||c.fixSetContents(i);const l=Xw(i);CT(e,i.draft_??i,l,r),ET(i,a)})}function ET(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}PT(e)}}function OG(e,t,r){const{scope_:n}=e;if(Ta(r)){const a=r[xn];lp(a,n)&&a.callbacks_.push(function(){Pm(e);const l=Xw(a);CT(e,r,l,t)})}else Ts(r)&&e.callbacks_.push(function(){const i=ga(e);Fb(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Zw(Fb(e.copy_,t,e.type_),n.handledSet_,n)})}function Zw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ta(e)||t.has(e)||!Ts(e)||op(e)||(t.add(e),od(e,(n,a)=>{if(Ta(a)){const i=a[xn];if(lp(i,r)){const l=Xw(i);Zm(e,n,l,e.type_),PT(i)}}else Ts(a)&&Zw(a,t,r)})),e}function TG(e,t){const r=sp(e),n={type_:r?1:0,scope_:t?t.scope_:kT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Jw;r&&(a=[n],i=zu);const{revoke:l,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=l,[c,n]}var Jw={get(e,t){if(t===xn)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=ga(e);if(!MP(a,t,e.type_))return MG(e,a,t);const i=a[t];if(e.finalized_||!Ts(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&SG(t))return i;if(i===lv(e.base_,t)){Pm(e);const l=e.type_===1?+t:t,c=qb(e.scope_,i,e,l);return e.copy_[l]=c}return i},has(e,t){return t in ga(e)},ownKeys(e){return Reflect.ownKeys(ga(e))},set(e,t,r){const n=AT(ga(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=lv(ga(e),t),i=a==null?void 0:a[xn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(NG(r,a)&&(r!==void 0||MP(e.base_,t,e.type_)))return!0;Pm(e),Kb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),OG(e,t,r)),!0},deleteProperty(e,t){return Pm(e),lv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Kb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ga(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[km]:!0,[$b]:e.type_!==1||t!=="length",[Qm]:n[Qm],[Eu]:r[t]}},defineProperty(){ks(11)},getPrototypeOf(e){return zl(e.base_)},setPrototypeOf(){ks(12)}},zu={};od(Jw,(e,t)=>{zu[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});zu.deleteProperty=function(e,t){return zu.set.call(this,e,t,void 0)};zu.set=function(e,t,r){return Jw.set.call(this,e[0],t,r,e[0])};function lv(e,t){const r=e[xn];return(r?ga(r):e)[t]}function MG(e,t,r){var a;const n=AT(t,r);return n?Eu in n?n[Eu]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function AT(e,t){if(!(t in e))return;let r=zl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zl(r)}}function Kb(e){e.modified_||(e.modified_=!0,e.parent_&&Kb(e.parent_))}function Pm(e){e.copy_||(e.assigned_=new Map,e.copy_=Bb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var IG=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(cl(r)&&!cl(n)){const l=n;n=r;const c=this;return function(f=l,...m){return c.produce(f,h=>n.call(this,h,...m))}}cl(n)||ks(6),a!==void 0&&!cl(a)&&ks(7);let i;if(Ts(r)){const l=_P(this),c=qb(l,r,void 0);let d=!0;try{i=n(c),d=!1}finally{d?Ub(l):Wb(l)}return RP(l,a),LP(i,l)}else if(!r||!Yw(r)){if(i=n(r),i===void 0&&(i=r),i===jT&&(i=void 0),this.autoFreeze_&&Qw(i,!0),a){const l=[],c=[];ko(Vb).generateReplacementPatches_(r,i,{patches_:l,inversePatches_:c}),a(l,c)}return i}else ks(1,r)},this.produceWithPatches=(r,n)=>{if(cl(r))return(c,...d)=>this.produceWithPatches(c,f=>r(f,...d));let a,i;return[this.produce(r,n,(c,d)=>{a=c,i=d}),a,i]},ov(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),ov(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),ov(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ts(t)||ks(8),Ta(t)&&(t=zs(t));const r=_P(this),n=qb(r,t,void 0);return n[xn].isManual_=!0,Wb(r),n}finishDraft(t,r){const n=t&&t[xn];(!n||!n.isManual_)&&ks(9);const{scope_:a}=n;return RP(a,r),LP(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=ko(Vb).applyPatches_;return Ta(t)?a(t,r):this.produce(t,i=>a(i,r))}};function qb(e,t,r,n){const[a,i]=ap(t)?ko(Jm).proxyMap_(t,r):ip(t)?ko(Jm).proxySet_(t,r):TG(t,r);return((r==null?void 0:r.scope_)??kT()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?zG(r,i,n):i.callbacks_.push(function(d){var m;(m=d.mapSetPlugin_)==null||m.fixSetContents(i);const{patchPlugin_:f}=d;i.modified_&&f&&f.generatePatches_(i,[],d)}),a}function zs(e){return Ta(e)||ks(10,e),zT(e)}function zT(e){if(!Ts(e)||op(e))return e;const t=e[xn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Bb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Bb(e,!0);return od(r,(a,i)=>{Zm(r,a,zT(i))},n),t&&(t.finalized_=!1),r}var DG=new IG,OT=DG.produce;function TT(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var RG=TT(),_G=TT,LG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ym:Ym.apply(null,arguments)};function ms(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Wn(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>wT(n)&&n.type===e,r}var MT=class su extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,su.prototype)}static get[Symbol.species](){return su}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new su(...t[0].concat(this)):new su(...t.concat(this))}};function FP(e){return Ts(e)?OT(e,()=>{}):e}function Yf(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function $G(e){return typeof e=="boolean"}var FG=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new MT;return r&&($G(r)?l.push(RG):l.push(_G(r.extraArgument))),l},IT="RTK_autoBatch",Rt=()=>e=>({payload:e,meta:{[IT]:!0}}),BP=e=>t=>{setTimeout(t,e)},DT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BP(10):e.type==="callback"?e.queueNotification:BP(e.timeout),f=()=>{l=!1,i&&(i=!1,c.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const h=()=>a&&m(),x=n.subscribe(h);return c.add(m),()=>{x(),c.delete(m)}},dispatch(m){var h;try{return a=!((h=m==null?void 0:m.meta)!=null&&h[IT]),i=!a,i&&(l||(l=!0,d(f))),n.dispatch(m)}finally{a=!0}}})},BG=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new MT(e);return n&&a.push(DT(typeof n=="object"?n:void 0)),a};function VG(e){const t=FG(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Gw(r))c=yT(r);else throw new Error(Wn(1));let d;typeof n=="function"?d=n(t):d=t();let f=Ym;a&&(f=LG({trace:!1,...typeof a=="object"&&a}));const m=wG(...d),h=BG(m);let x=typeof l=="function"?l(h):h();const v=f(...x);return bT(c,i,v)}function RT(e){const t={},r=[];let n;const a={addCase(i,l){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Wn(28));if(c in t)throw new Error(Wn(29));return t[c]=l,a},addAsyncThunk(i,l){return l.pending&&(t[i.pending.type]=l.pending),l.rejected&&(t[i.rejected.type]=l.rejected),l.fulfilled&&(t[i.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:i.settled,reducer:l.settled}),a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function UG(e){return typeof e=="function"}function WG(e,t){let[r,n,a]=RT(t),i;if(UG(e))i=()=>FP(e());else{const c=FP(e);i=()=>c}function l(c=i(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,h)=>{if(h)if(Ta(m)){const v=h(m,d);return v===void 0?m:v}else{if(Ts(m))return OT(m,x=>h(x,d));{const x=h(m,d);if(x===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return m},c)}return l.getInitialState=i,l}var KG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qG=(e=21)=>{let t="",r=e;for(;r--;)t+=KG[Math.random()*64|0];return t},HG=Symbol.for("rtk-slice-createasyncthunk");function GG(e,t){return`${e}/${t}`}function YG({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[HG];return function(a){const{name:i,reducerPath:l=i}=a;if(!i)throw new Error(Wn(11));const c=(typeof a.reducers=="function"?a.reducers(QG()):a.reducers)||{},d=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(E,A){const z=typeof E=="string"?E:E.type;if(!z)throw new Error(Wn(12));if(z in f.sliceCaseReducersByType)throw new Error(Wn(13));return f.sliceCaseReducersByType[z]=A,m},addMatcher(E,A){return f.sliceMatchers.push({matcher:E,reducer:A}),m},exposeAction(E,A){return f.actionCreators[E]=A,m},exposeCaseReducer(E,A){return f.sliceCaseReducersByName[E]=A,m}};d.forEach(E=>{const A=c[E],z={reducerName:E,type:GG(i,E),createNotation:typeof a.reducers=="function"};JG(A)?tY(z,A,m,t):ZG(z,A,m)});function h(){const[E={},A=[],z=void 0]=typeof a.extraReducers=="function"?RT(a.extraReducers):[a.extraReducers],O={...E,...f.sliceCaseReducersByType};return WG(a.initialState,T=>{for(let R in O)T.addCase(R,O[R]);for(let R of f.sliceMatchers)T.addMatcher(R.matcher,R.reducer);for(let R of A)T.addMatcher(R.matcher,R.reducer);z&&T.addDefaultCase(z)})}const x=E=>E,v=new Map,y=new WeakMap;let w;function j(E,A){return w||(w=h()),w(E,A)}function S(){return w||(w=h()),w.getInitialState()}function P(E,A=!1){function z(T){let R=T[E];return typeof R>"u"&&A&&(R=Yf(y,z,S)),R}function O(T=x){const R=Yf(v,A,()=>new WeakMap);return Yf(R,T,()=>{const I={};for(const[D,_]of Object.entries(a.selectors??{}))I[D]=XG(_,T,()=>Yf(y,T,S),A);return I})}return{reducerPath:E,getSelectors:O,get selectors(){return O(z)},selectSlice:z}}const k={name:i,reducer:j,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:S,...P(l),injectInto(E,{reducerPath:A,...z}={}){const O=A??l;return E.inject({reducerPath:O,reducer:j},z),{...k,...P(O,!0)}}};return k}}function XG(e,t,r,n){function a(i,...l){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...l)}return a.unwrapped=e,a}var In=YG();function QG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function ZG({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!eY(n))throw new Error(Wn(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?ms(e,l):ms(e))}function JG(e){return e._reducerDefinitionType==="asyncThunk"}function eY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function tY({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Wn(18));const{payloadCreator:i,fulfilled:l,pending:c,rejected:d,settled:f,options:m}=r,h=a(e,i,m);n.exposeAction(t,h),l&&n.addCase(h.fulfilled,l),c&&n.addCase(h.pending,c),d&&n.addCase(h.rejected,d),f&&n.addMatcher(h.settled,f),n.exposeCaseReducer(t,{fulfilled:l||Xf,pending:c||Xf,rejected:d||Xf,settled:f||Xf})}function Xf(){}var rY="task",_T="listener",LT="completed",e1="cancelled",nY=`task-${e1}`,sY=`task-${LT}`,Hb=`${_T}-${e1}`,aY=`${_T}-${LT}`,cp=class{constructor(e){Mx(this,"name","TaskAbortError");Mx(this,"message");this.code=e,this.message=`${rY} ${e1} (reason: ${e})`}},t1=(e,t)=>{if(typeof e!="function")throw new TypeError(Wn(32))},eh=()=>{},$T=(e,t=eh)=>(e.catch(t),e),FT=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),uo=e=>{if(e.aborted)throw new cp(e.reason)};function BT(e,t){let r=eh;return new Promise((n,a)=>{const i=()=>a(new cp(e.reason));if(e.aborted){i();return}r=FT(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=eh})}var iY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof cp?"cancelled":"rejected",error:r}}finally{t==null||t()}},th=e=>t=>$T(BT(e,t).then(r=>(uo(e),r))),VT=e=>{const t=th(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:wl}=Object,VP={},up="listenerMiddleware",oY=(e,t)=>{const r=n=>FT(e,()=>n.abort(e.reason));return(n,a)=>{t1(n);const i=new AbortController;r(i);const l=iY(async()=>{uo(e),uo(i.signal);const c=await n({pause:th(i.signal),delay:VT(i.signal),signal:i.signal});return uo(i.signal),c},()=>i.abort(sY));return a!=null&&a.autoJoin&&t.push(l.catch(eh)),{result:th(e)(l),cancel(){i.abort(nY)}}}},lY=(e,t)=>{const r=async(n,a)=>{uo(t);let i=()=>{};const c=[new Promise((d,f)=>{let m=e({predicate:n,effect:(h,x)=>{x.unsubscribe(),d([h,x.getState(),x.getOriginalState()])}});i=()=>{m(),f()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await BT(t,Promise.race(c));return uo(t),d}finally{i()}};return(n,a)=>$T(r(n,a))},UT=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=ms(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Wn(21));return t1(i),{predicate:a,type:t,effect:i}},WT=wl(e=>{const{type:t,predicate:r,effect:n}=UT(e);return{id:qG(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Wn(22))}}},{withTypes:()=>WT}),UP=(e,t)=>{const{type:r,effect:n,predicate:a}=UT(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Gb=e=>{e.pending.forEach(t=>{t.abort(Hb)})},cY=(e,t)=>()=>{for(const r of t.keys())Gb(r);e.clear()},WP=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},KT=wl(ms(`${up}/add`),{withTypes:()=>KT}),uY=ms(`${up}/removeAll`),qT=wl(ms(`${up}/remove`),{withTypes:()=>qT}),dY=(...e)=>{console.error(`${up}/error`,...e)},cd=(e={})=>{const t=new Map,r=new Map,n=v=>{const y=r.get(v)??0;r.set(v,y+1)},a=v=>{const y=r.get(v)??1;y===1?r.delete(v):r.set(v,y-1)},{extra:i,onError:l=dY}=e;t1(l);const c=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),y=>{v.unsubscribe(),y!=null&&y.cancelActive&&Gb(v)}),d=v=>{const y=UP(t,v)??WT(v);return c(y)};wl(d,{withTypes:()=>d});const f=v=>{const y=UP(t,v);return y&&(y.unsubscribe(),v.cancelActive&&Gb(y)),!!y};wl(f,{withTypes:()=>f});const m=async(v,y,w,j)=>{const S=new AbortController,P=lY(d,S.signal),k=[];try{v.pending.add(S),n(v),await Promise.resolve(v.effect(y,wl({},w,{getOriginalState:j,condition:(E,A)=>P(E,A).then(Boolean),take:P,delay:VT(S.signal),pause:th(S.signal),extra:i,signal:S.signal,fork:oY(S.signal,k),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((E,A,z)=>{E!==S&&(E.abort(Hb),z.delete(E))})},cancel:()=>{S.abort(Hb),v.pending.delete(S)},throwIfCancelled:()=>{uo(S.signal)}})))}catch(E){E instanceof cp||WP(l,E,{raisedBy:"effect"})}finally{await Promise.all(k),S.abort(aY),a(v),v.pending.delete(S)}},h=cY(t,r);return{middleware:v=>y=>w=>{if(!wT(w))return y(w);if(KT.match(w))return d(w.payload);if(uY.match(w)){h();return}if(qT.match(w))return f(w.payload);let j=v.getState();const S=()=>{if(j===VP)throw new Error(Wn(23));return j};let P;try{if(P=y(w),t.size>0){const k=v.getState(),E=Array.from(t.values());for(const A of E){let z=!1;try{z=A.predicate(w,k,j)}catch(O){z=!1,WP(l,O,{raisedBy:"predicate"})}z&&m(A,w,v,S)}}}finally{j=VP}return P},startListening:d,stopListening:f,clearListeners:h}};function Wn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},HT=In({name:"chartLayout",initialState:fY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:mY,setLayout:hY,setChartSize:pY,setScale:xY}=HT.actions,gY=HT.reducer;function GT(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Pt(e){return Number.isFinite(e)}function ea(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){vY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vY(e,t,r){return(t=bY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bY(e){var t=yY(e,"string");return typeof t=="symbol"?t:t+""}function yY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ht(e,t,r){return It(e)||It(t)?r:Js(t)?So(e,t,r):typeof t=="function"?t(e):r}var wY=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&i!=="center"&&Oe(e[i]))return pl(pl({},e),{},{[i]:e[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&l!=="middle"&&Oe(e[l]))return pl(pl({},e),{},{[l]:e[l]+(a||0)})}return e},aa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",YT=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var a,i,l=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(i=!0),c.coordinate));return a||l.push(t),i||l.push(r),l},XT=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:h,niceTicks:x,axisType:v}=e;if(!l)return null;var y=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=a==="category"&&l.bandwidth?l.bandwidth()/y:0;if(w=v==="angleAxis"&&i&&i.length>=2?Ir(i[0]-i[1])*2*w:w,h||x){var j=(h||x||[]).map((S,P)=>{var k=n?n.indexOf(S):S;return{coordinate:l(k)+w,value:S,offset:w,index:P}});return j.filter(S=>!fs(S.coordinate))}return d&&f?f.map((S,P)=>({coordinate:l(S)+w,value:S,index:P,offset:w})):l.ticks&&m!=null?l.ticks(m).map((S,P)=>({coordinate:l(S)+w,value:S,offset:w,index:P})):l.domain().map((S,P)=>({coordinate:l(S)+w,value:n?n[S]:S,index:P,offset:w}))},qP=1e-4,jY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-qP,i=Math.max(n[0],n[1])+qP,l=e(t[0]),c=e(t[r-1]);(l<a||l>i||c<a||c>i)&&e.domain([t[0],t[r-1]])}},NY=(e,t)=>{if(!t||t.length!==2||!Oe(t[0])||!Oe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Oe(e[0])||e[0]<r)&&(a[0]=r),(!Oe(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},SY=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,l=0,c=0;c<r;++c){var d=e[c],f=d==null?void 0:d[a];if(f!=null){var m=f[1],h=f[0],x=fs(m)?h:m;x>=0?(f[0]=i,f[1]=i+x,i=m):(f[0]=l,f[1]=l+x,l=m)}}}},kY=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,l=0;l<r;++l){var c=e[l],d=c==null?void 0:c[a];if(d!=null){var f=fs(d[1])?d[0]:d[1];f>=0?(d[0]=i,d[1]=i+f,i=d[1]):(d[0]=0,d[1]=0)}}}},PY={sign:SY,expand:Jq,none:No,silhouette:eH,wiggle:tH,positive:kY},CY=(e,t,r)=>{var n,a=(n=PY[r])!==null&&n!==void 0?n:No,i=Zq().keys(t).value((c,d)=>Number(ht(c,d,0))).order(_b).offset(a),l=i(e);return l.forEach((c,d)=>{c.forEach((f,m)=>{var h=ht(e[m],t[d],0);Array.isArray(h)&&h.length===2&&Oe(h[0])&&Oe(h[1])&&(f[0]=h[0],f[1]=h[1])})}),l};function QT(e){return e==null?void 0:String(e)}function rh(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!It(a[t.dataKey])){var c=rT(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=ht(a,It(l)?t.dataKey:l);return It(d)?null:t.scale(d)}var HP=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var c=ht(i,t.dataKey,t.scale.domain()[l]);return It(c)?null:t.scale(c)-a/2+n},EY=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},AY=e=>{var t=e.flat(2).filter(Oe);return[Math.min(...t),Math.max(...t)]},zY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],OY=(e,t,r)=>{if(e!=null)return zY(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:l}=i,c=l.reduce((d,f)=>{var m=GT(f,t,r),h=AY(m);return!Pt(h[0])||!Pt(h[1])?d:[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},GP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Si=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=rp(t,m=>m.coordinate),i=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];i=Math.min(((d==null?void 0:d.coordinate)||0)-((f==null?void 0:f.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function XP(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return pl(pl({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Ai(e,t){if(e)return String(e);if(typeof t=="string")return t}var TY=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},MY=(e,t)=>t==="centric"?e.angle:e.radius,La=e=>e.layout.width,$a=e=>e.layout.height,IY=e=>e.layout.scale,ZT=e=>e.layout.margin,dp=ie(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),fp=ie(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),JT="data-recharts-item-index",eM="data-recharts-item-id",ud=60;function QP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(r),!0).forEach(function(n){DY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t,r){return(t=RY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=_Y(e,"string");return typeof t=="symbol"?t:t+""}function _Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LY=e=>e.brush.height;function $Y(e){var t=fp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ud;return r+a}return r},0)}function FY(e){var t=fp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:ud;return r+a}return r},0)}function BY(e){var t=dp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function VY(e){var t=dp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var br=ie([La,$a,ZT,LY,$Y,FY,BY,VY,vT,pG],(e,t,r,n,a,i,l,c,d,f)=>{var m={left:(r.left||0)+a,right:(r.right||0)+i},h={top:(r.top||0)+l,bottom:(r.bottom||0)+c},x=Qf(Qf({},h),m),v=x.bottom;x.bottom+=n,x=wY(x,d,f);var y=e-x.left-x.right,w=t-x.top-x.bottom;return Qf(Qf({brushBottom:v},x),{},{width:Math.max(y,0),height:Math.max(w,0)})}),UY=ie(br,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),r1=ie(La,$a,(e,t)=>({x:0,y:0,width:e,height:t})),WY=g.createContext(null),Rr=()=>g.useContext(WY)!=null,mp=e=>e.brush,hp=ie([mp,br,ZT],(e,t,r)=>({height:e.height,x:Oe(e.x)?e.x:t.left,y:Oe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Oe(e.width)?e.width:t.width})),cv={},uv={},dv={},ZP;function KY(){return ZP||(ZP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,c=null;const d=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),m=()=>{c!==null&&(r.apply(l,c),l=void 0,c=null)},h=()=>{f&&m(),w()};let x=null;const v=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,h()},n)},y=()=>{x!==null&&(clearTimeout(x),x=null)},w=()=>{y(),l=void 0,c=null},j=()=>{m()},S=function(...P){if(a!=null&&a.aborted)return;l=this,c=P;const k=x==null;v(),d&&k&&m()};return S.schedule=v,S.cancel=w,S.flush=j,a==null||a.addEventListener("abort",w,{once:!0}),S}e.debounce=t})(dv)),dv}var JP;function qY(){return JP||(JP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KY();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:c=!0,maxWait:d}=i,f=Array(2);l&&(f[0]="leading"),c&&(f[1]="trailing");let m,h=null;const x=t.debounce(function(...w){m=n.apply(this,w),h=null},a,{edges:f}),v=function(...w){return d!=null&&(h===null&&(h=Date.now()),Date.now()-h>=d)?(m=n.apply(this,w),h=Date.now(),x.cancel(),x.schedule(),m):(x.apply(this,w),m)},y=()=>(x.flush(),m);return v.cancel=x.cancel,v.flush=y,v}e.debounce=r})(uv)),uv}var e4;function HY(){return e4||(e4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qY();function r(n,a=0,i={}){const{leading:l=!0,trailing:c=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:c})}e.throttle=r})(cv)),cv}var fv,t4;function GY(){return t4||(t4=1,fv=HY().throttle),fv}var YY=GY();const XY=Ms(YY);var nh=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},tM=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:l}=r,c=Oa(n)?e:Number(n),d=Oa(a)?t:Number(a);return i&&i>0&&(c?d=c/i:d&&(c=d*i),l&&d!=null&&d>l&&(d=l)),{calculatedWidth:c,calculatedHeight:d}},QY={width:0,height:0,overflow:"visible"},ZY={width:0,overflowX:"visible"},JY={height:0,overflowY:"visible"},eX={},tX=e=>{var{width:t,height:r}=e,n=Oa(t),a=Oa(r);return n&&a?QY:n?ZY:a?JY:eX};function rX(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(null,arguments)}function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return(t=sX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rM=g.createContext({width:-1,height:-1});function iX(e){return ea(e.width)&&ea(e.height)}function nM(e){var{children:t,width:r,height:n}=e,a=g.useMemo(()=>({width:r,height:n}),[r,n]);return iX(a)?g.createElement(rM.Provider,{value:a},t):null}var n1=()=>g.useContext(rM),oX=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:h,className:x,onResize:v,style:y={}}=e,w=g.useRef(null),j=g.useRef();j.current=v,g.useImperativeHandle(t,()=>w.current);var[S,P]=g.useState({containerWidth:n.width,containerHeight:n.height}),k=g.useCallback((T,R)=>{P(I=>{var D=Math.round(T),_=Math.round(R);return I.containerWidth===D&&I.containerHeight===_?I:{containerWidth:D,containerHeight:_}})},[]);g.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return id;var T=_=>{var F,{width:W,height:ne}=_[0].contentRect;k(W,ne),(F=j.current)===null||F===void 0||F.call(j,W,ne)};m>0&&(T=XY(T,m,{trailing:!0,leading:!1}));var R=new ResizeObserver(T),{width:I,height:D}=w.current.getBoundingClientRect();return k(I,D),R.observe(w.current),()=>{R.disconnect()}},[k,m]);var{containerWidth:E,containerHeight:A}=S;nh(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:z,calculatedHeight:O}=tM(E,A,{width:a,height:i,aspect:r,maxHeight:d});return nh(z!=null&&z>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,O,a,i,l,c,r),g.createElement("div",{id:h?"".concat(h):void 0,className:ut("recharts-responsive-container",x),style:n4(n4({},y),{},{width:a,height:i,minWidth:l,minHeight:c,maxHeight:d}),ref:w},g.createElement("div",{style:tX({width:a,height:i})},g.createElement(nM,{width:z,height:O},f)))}),pp=g.forwardRef((e,t)=>{var r=n1();if(ea(r.width)&&ea(r.height))return e.children;var{width:n,height:a}=rX({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:l}=tM(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Oe(i)&&Oe(l)?g.createElement(nM,{width:i,height:l},e.children):g.createElement(oX,Yb({},e,{width:n,height:a,ref:t}))});function sM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var xp=()=>{var e,t=Rr(),r=_e(UY),n=_e(hp),a=(e=_e(mp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},lX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aM=()=>{var e;return(e=_e(br))!==null&&e!==void 0?e:lX},iM=()=>_e(La),oM=()=>_e($a),at=e=>e.layout.layoutType,zi=()=>_e(at),cX=()=>{var e=zi();if(e==="horizontal"||e==="vertical")return e},uX=()=>{var e=zi();return e!==void 0},gp=e=>{var t=Ft(),r=Rr(),{width:n,height:a}=e,i=n1(),l=n,c=a;return i&&(l=i.width>0?i.width:n,c=i.height>0?i.height:a),g.useEffect(()=>{!r&&ea(l)&&ea(c)&&t(pY({width:l,height:c}))},[t,r,l,c]),null},lM=Symbol.for("immer-nothing"),s4=Symbol.for("immer-draftable"),Kn=Symbol.for("immer-state");function Ps(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ou=Object.getPrototypeOf;function Ol(e){return!!e&&!!e[Kn]}function Po(e){var t;return e?cM(e)||Array.isArray(e)||!!e[s4]||!!((t=e.constructor)!=null&&t[s4])||dd(e)||bp(e):!1}var dX=Object.prototype.constructor.toString(),a4=new WeakMap;function cM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=a4.get(r);return n===void 0&&(n=Function.toString.call(r),a4.set(r,n)),n===dX}function sh(e,t,r=!0){vp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function vp(e){const t=e[Kn];return t?t.type_:Array.isArray(e)?1:dd(e)?2:bp(e)?3:0}function Xb(e,t){return vp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uM(e,t,r){const n=vp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function fX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function dd(e){return e instanceof Map}function bp(e){return e instanceof Set}function Qi(e){return e.copy_||e.base_}function Qb(e,t){if(dd(e))return new Map(e);if(bp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=cM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Kn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(Ou(e),n)}else{const n=Ou(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function s1(e,t=!1){return yp(e)||Ol(e)||!Po(e)||(vp(e)>1&&Object.defineProperties(e,{set:Zf,add:Zf,clear:Zf,delete:Zf}),Object.freeze(e),t&&Object.values(e).forEach(r=>s1(r,!0))),e}function mX(){Ps(2)}var Zf={value:mX};function yp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var hX={};function Co(e){const t=hX[e];return t||Ps(0,e),t}var Tu;function dM(){return Tu}function pX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function i4(e,t){t&&(Co("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zb(e){Jb(e),e.drafts_.forEach(xX),e.drafts_=null}function Jb(e){e===Tu&&(Tu=e.parent_)}function o4(e){return Tu=pX(Tu,e)}function xX(e){const t=e[Kn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function l4(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Kn].modified_&&(Zb(t),Ps(4)),Po(e)&&(e=ah(t,e),t.parent_||ih(t,e)),t.patches_&&Co("Patches").generateReplacementPatches_(r[Kn].base_,e,t.patches_,t.inversePatches_)):e=ah(t,r,[]),Zb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lM?e:void 0}function ah(e,t,r){if(yp(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Kn];if(!a)return sh(t,(i,l)=>c4(e,a,t,i,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return ih(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let l=i,c=!1;a.type_===3&&(l=new Set(i),i.clear(),c=!0),sh(l,(d,f)=>c4(e,a,i,d,f,r,c),n),ih(e,i,!1),r&&e.patches_&&Co("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function c4(e,t,r,n,a,i,l){if(a==null||typeof a!="object"&&!l)return;const c=yp(a);if(!(c&&!l)){if(Ol(a)){const d=i&&t&&t.type_!==3&&!Xb(t.assigned_,n)?i.concat(n):void 0,f=ah(e,a,d);if(uM(r,n,f),Ol(f))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Po(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&c)return;ah(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(dd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ih(e,a)}}}function ih(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&s1(t,r)}function gX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:dM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=a1;r&&(a=[n],i=Mu);const{revoke:l,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=l,c}var a1={get(e,t){if(t===Kn)return e;const r=Qi(e);if(!Xb(r,t))return vX(e,r,t);const n=r[t];return e.finalized_||!Po(n)?n:n===mv(e.base_,t)?(hv(e),e.copy_[t]=ty(n,e)):n},has(e,t){return t in Qi(e)},ownKeys(e){return Reflect.ownKeys(Qi(e))},set(e,t,r){const n=fM(Qi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=mv(Qi(e),t),i=a==null?void 0:a[Kn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(fX(r,a)&&(r!==void 0||Xb(e.base_,t)))return!0;hv(e),ey(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return mv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,hv(e),ey(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Qi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Ps(11)},getPrototypeOf(e){return Ou(e.base_)},setPrototypeOf(){Ps(12)}},Mu={};sh(a1,(e,t)=>{Mu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Mu.deleteProperty=function(e,t){return Mu.set.call(this,e,t,void 0)};Mu.set=function(e,t,r){return a1.set.call(this,e[0],t,r,e[0])};function mv(e,t){const r=e[Kn];return(r?Qi(r):e)[t]}function vX(e,t,r){var a;const n=fM(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function fM(e,t){if(!(t in e))return;let r=Ou(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ou(r)}}function ey(e){e.modified_||(e.modified_=!0,e.parent_&&ey(e.parent_))}function hv(e){e.copy_||(e.copy_=Qb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(d=i,...f){return l.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Ps(6),n!==void 0&&typeof n!="function"&&Ps(7);let a;if(Po(t)){const i=o4(this),l=ty(t,void 0);let c=!0;try{a=r(l),c=!1}finally{c?Zb(i):Jb(i)}return i4(i,n),l4(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===lM&&(a=void 0),this.autoFreeze_&&s1(a,!0),n){const i=[],l=[];Co("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else Ps(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,d=>t(d,...c));let n,a;return[this.produce(t,r,(l,c)=>{n=l,a=c}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Po(e)||Ps(8),Ol(e)&&(e=yX(e));const t=o4(this),r=ty(e,void 0);return r[Kn].isManual_=!0,Jb(t),r}finishDraft(e,t){const r=e&&e[Kn];(!r||!r.isManual_)&&Ps(9);const{scope_:n}=r;return i4(n,t),l4(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Co("Patches").applyPatches_;return Ol(e)?n(e,t):this.produce(e,a=>n(a,t))}};function ty(e,t){const r=dd(e)?Co("MapSet").proxyMap_(e,t):bp(e)?Co("MapSet").proxySet_(e,t):gX(e,t);return(t?t.scope_:dM()).drafts_.push(r),r}function yX(e){return Ol(e)||Ps(10,e),mM(e)}function mM(e){if(!Po(e)||yp(e))return e;const t=e[Kn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Qb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Qb(e,!0);return sh(r,(a,i)=>{uM(r,a,mM(i))},n),t&&(t.finalized_=!1),r}var wX=new bX;wX.produce;var jX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hM=In({name:"legend",initialState:jX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Rt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=zs(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Rt()},removeLegendPayload:{reducer(e,t){var r=zs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Rt()}}}),{setLegendSize:yme,setLegendSettings:wme,addLegendPayload:pM,replaceLegendPayload:xM,removeLegendPayload:gM}=hM.actions,NX=hM.reducer;function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(null,arguments)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){SX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t,r){return(t=kX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CX(e){return Array.isArray(e)&&Js(e[0])&&Js(e[1])?e.join(" ~ "):e}var EX=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:h,accessibilityLayer:x=!1}=e,v=()=>{if(i&&i.length){var A={padding:0,margin:0},z=(c?rp(i,c):i).map((O,T)=>{if(O.type==="none")return null;var R=O.formatter||l||CX,{value:I,name:D}=O,_=I,F=D;if(R){var W=R(I,D,O,T,i);if(Array.isArray(W))[_,F]=W;else if(W!=null)_=W;else return null}var ne=pv({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:ne},Js(F)?g.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Js(F)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},_),g.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:A},z)}return null},y=pv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=pv({margin:0},a),j=!It(m),S=j?m:"",P=ut("recharts-default-tooltip",d),k=ut("recharts-tooltip-label",f);j&&h&&i!==void 0&&i!==null&&(S=h(m,i));var E=x?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",ry({className:P,style:y},E),g.createElement("p",{className:k,style:w},g.isValidElement(S)?S:"".concat(S)),v())},Gc="recharts-tooltip-wrapper",AX={visibility:"hidden"};function zX(e){var{coordinate:t,translateX:r,translateY:n}=e;return ut(Gc,{["".concat(Gc,"-right")]:Oe(r)&&t&&Oe(t.x)&&r>=t.x,["".concat(Gc,"-left")]:Oe(r)&&t&&Oe(t.x)&&r<t.x,["".concat(Gc,"-bottom")]:Oe(n)&&t&&Oe(t.y)&&n>=t.y,["".concat(Gc,"-top")]:Oe(n)&&t&&Oe(t.y)&&n<t.y})}function d4(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(i&&Oe(i[n]))return i[n];var m=r[n]-c-(a>0?a:0),h=r[n]+a;if(t[n])return l[n]?m:h;var x=d[n];if(x==null)return 0;if(l[n]){var v=m,y=x;return v<y?Math.max(h,x):Math.max(m,x)}if(f==null)return 0;var w=h+c,j=x+f;return w>j?Math.max(m,x):Math.max(h,x)}function OX(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function TX(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:c,viewBox:d}=e,f,m,h;return l.height>0&&l.width>0&&r?(m=d4({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),h=d4({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=OX({translateX:m,translateY:h,useTranslate3d:c})):f=AX,{cssProperties:f,cssClasses:zX({translateX:m,translateY:h,coordinate:r})}}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(n){ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ny(e,t,r){return(t=MX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class DX extends g.PureComponent{constructor(){super(...arguments),ny(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),ny(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:h,useTranslate3d:x,viewBox:v,wrapperStyle:y,lastBoundingBox:w,innerRef:j,hasPortalFromProps:S}=this.props,{cssClasses:P,cssProperties:k}=TX({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:m,reverseDirection:h,tooltipBox:{height:w.height,width:w.width},useTranslate3d:x,viewBox:v}),E=S?{}:Jf(Jf({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),A=Jf(Jf({},E),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},y);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:A,ref:j},i)}}var vM=()=>{var e;return(e=_e(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(null,arguments)}function m4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m4(Object(r),!0).forEach(function(n){RX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RX(e,t,r){return(t=_X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p4={curveBasisClosed:Bq,curveBasisOpen:Vq,curveBasis:Fq,curveBumpX:Pq,curveBumpY:Cq,curveLinearClosed:Uq,curveLinear:Jh,curveMonotoneX:Wq,curveMonotoneY:Kq,curveNatural:qq,curveStep:Hq,curveStepAfter:Yq,curveStepBefore:Gq},oh=e=>Pt(e.x)&&Pt(e.y),x4=e=>e.base!=null&&oh(e.base)&&oh(e),Yc=e=>e.x,Xc=e=>e.y,$X=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ad(e));return(r==="curveMonotone"||r==="curveBump")&&t?p4["".concat(r).concat(t==="vertical"?"Y":"X")]:p4[r]||Jh},FX=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=$X(t,a),c=i?r.filter(oh):r,d;if(Array.isArray(n)){var f=r.map((v,y)=>h4(h4({},v),{},{base:n[y]}));a==="vertical"?d=Kf().y(Xc).x1(Yc).x0(v=>v.base.x):d=Kf().x(Yc).y1(Xc).y0(v=>v.base.y);var m=d.defined(x4).curve(l),h=i?f.filter(x4):f;return m(h)}a==="vertical"&&Oe(n)?d=Kf().y(Xc).x1(Yc).x0(n):Oe(n)?d=Kf().x(Yc).y1(Xc).y0(n):d=UO().x(Yc).y(Xc);var x=d.defined(oh).curve(l);return x(c)},jl=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=zi();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},c=r&&r.length?FX(l):n;return g.createElement("path",sy({},pn(e),Kw(e),{className:ut("recharts-curve",t),d:c===null?void 0:c,ref:a}))},BX=["x","y","top","left","width","height","className"];function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ay.apply(null,arguments)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return(t=WX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qX(e,t){if(e==null)return{};var r,n,a=HX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GX=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),YX=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:c}=e,d=qX(e,BX),f=VX({x:t,y:r,top:n,left:a,width:i,height:l},d);return!Oe(t)||!Oe(r)||!Oe(i)||!Oe(l)||!Oe(n)||!Oe(a)?null:g.createElement("path",ay({},sn(f),{className:ut("recharts-cross",c),d:GX(t,r,i,l,n,a)}))};function XX(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function v4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v4(Object(r),!0).forEach(function(n){QX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QX(e,t,r){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),bM=(e,t,r)=>e.map(n=>"".concat(eQ(n)," ").concat(t,"ms ").concat(r)).join(","),tQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Iu=(e,t)=>Object.keys(t).reduce((r,n)=>b4(b4({},r),{},{[n]:e(n,t[n])}),{});function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){rQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rQ(e,t,r){return(t=nQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lh=(e,t,r)=>e+(t-e)*r,iy=e=>{var{from:t,to:r}=e;return t!==r},yM=(e,t,r)=>{var n=Iu((a,i)=>{if(iy(i)){var[l,c]=e(i.from,i.to,i.velocity);return pr(pr({},i),{},{from:l,velocity:c})}return i},t);return r<1?Iu((a,i)=>iy(i)&&n[a]!=null?pr(pr({},i),{},{velocity:lh(i.velocity,n[a].velocity,r),from:lh(i.from,n[a].from,r)}):i,t):yM(e,n,r-1)};function aQ(e,t,r,n,a,i){var l,c=n.reduce((x,v)=>pr(pr({},x),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),d=()=>Iu((x,v)=>v.from,c),f=()=>!Object.values(c).filter(iy).length,m=null,h=x=>{l||(l=x);var v=x-l,y=v/r.dt;c=yM(r,c,y),a(pr(pr(pr({},e),t),d())),l=x,f()||(m=i.setTimeout(h))};return()=>(m=i.setTimeout(h),()=>{var x;(x=m)===null||x===void 0||x()})}function iQ(e,t,r,n,a,i,l){var c=null,d=a.reduce((h,x)=>{var v=e[x],y=t[x];return v==null||y==null?h:pr(pr({},h),{},{[x]:[v,y]})},{}),f,m=h=>{f||(f=h);var x=(h-f)/n,v=Iu((w,j)=>lh(...j,r(x)),d);if(i(pr(pr(pr({},e),t),v)),x<1)c=l.setTimeout(m);else{var y=Iu((w,j)=>lh(...j,r(1)),d);i(pr(pr(pr({},e),t),y))}};return()=>(c=l.setTimeout(m),()=>{var h;(h=c)===null||h===void 0||h()})}const oQ=(e,t,r,n,a,i)=>{var l=tQ(e,t);return r==null?()=>(a(pr(pr({},e),t)),()=>{}):r.isStepper===!0?aQ(e,t,r,l,a,i):iQ(e,t,r,n,l,a,i)};var ch=1e-4,wM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],jM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),w4=(e,t)=>r=>{var n=wM(e,t);return jM(n,r)},lQ=(e,t)=>r=>{var n=wM(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return jM(a,r)},cQ=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},uQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=cQ(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},dQ=(e,t,r,n)=>{var a=w4(e,r),i=w4(t,n),l=lQ(e,r),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,h=m,x=0;x<8;++x){var v=a(h)-m,y=l(h);if(Math.abs(v-m)<ch||y<ch)return i(h);h=c(h-v/y)}return i(h)};return d.isStepper=!1,d},j4=function(){return dQ(...uQ(...arguments))},fQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,c,d)=>{var f=-(l-c)*r,m=d*n,h=d+(f-m)*a/1e3,x=d*a/1e3+l;return Math.abs(x-c)<ch&&Math.abs(h)<ch?[c,0]:[x,h]};return i.isStepper=!0,i.dt=a,i},mQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return j4(e);case"spring":return fQ();default:if(e.split("(")[0]==="cubic-bezier")return j4(e)}return typeof e=="function"?e:null};function hQ(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){a=e.setTimeout(i.bind(null,f),d);return}i(d),a=e.setTimeout(i.bind(null,f));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class pQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function xQ(){return hQ(new pQ)}var gQ=g.createContext(xQ);function vQ(e,t){var r=g.useContext(gQ);return g.useMemo(()=>t??r(e),[e,t,r])}var bQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fd={isSsr:bQ()},yQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},N4={t:0},xv={t:1};function ql(e){var t=dr(e,yQ),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:c,onAnimationStart:d,children:f}=t,m=r==="auto"?!fd.isSsr:r,h=vQ(t.animationId,t.animationManager),[x,v]=g.useState(m?N4:xv),y=g.useRef(null);return g.useEffect(()=>{m||v(xv)},[m]),g.useEffect(()=>{if(!m||!n)return id;var w=oQ(N4,xv,mQ(i),a,v,h.getTimeoutController()),j=()=>{y.current=w()};return h.start([d,l,j,a,c]),()=>{h.stop(),y.current&&y.current(),c()}},[m,n,a,i,l,d,c,h]),f(x.t)}function Hl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(Cu(t)),n=g.useRef(e);return n.current!==e&&(r.current=Cu(t),n.current=e),r.current}var wQ=["radius"],jQ=["radius"],S4,k4,P4,C4,E4,A4,z4,O4,T4,M4;function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){NQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}function R4(e,t){if(e==null)return{};var r,n,a=PQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ws(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _4=(e,t,r,n,a)=>{var i=yi(r),l=yi(n),c=Math.min(Math.abs(i)/2,Math.abs(l)/2),d=l>=0?1:-1,f=i>=0?1:-1,m=l>=0&&i>=0||l<0&&i<0?1:0,h;if(c>0&&a instanceof Array){for(var x=[0,0,0,0],v=0,y=4;v<y;v++)x[v]=a[v]>c?c:a[v];h=Gt(S4||(S4=Ws(["M",",",""])),e,t+d*x[0]),x[0]>0&&(h+=Gt(k4||(k4=Ws(["A ",",",",0,0,",",",",",""])),x[0],x[0],m,e+f*x[0],t)),h+=Gt(P4||(P4=Ws(["L ",",",""])),e+r-f*x[1],t),x[1]>0&&(h+=Gt(C4||(C4=Ws(["A ",",",",0,0,",`,
        `,",",""])),x[1],x[1],m,e+r,t+d*x[1])),h+=Gt(E4||(E4=Ws(["L ",",",""])),e+r,t+n-d*x[2]),x[2]>0&&(h+=Gt(A4||(A4=Ws(["A ",",",",0,0,",`,
        `,",",""])),x[2],x[2],m,e+r-f*x[2],t+n)),h+=Gt(z4||(z4=Ws(["L ",",",""])),e+f*x[3],t+n),x[3]>0&&(h+=Gt(O4||(O4=Ws(["A ",",",",0,0,",`,
        `,",",""])),x[3],x[3],m,e,t+n-d*x[3])),h+="Z"}else if(c>0&&a===+a&&a>0){var w=Math.min(c,a);h=Gt(T4||(T4=Ws(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*w,w,w,m,e+f*w,t,e+r-f*w,t,w,w,m,e+r,t+d*w,e+r,t+n-d*w,w,w,m,e+r-f*w,t+n,e+f*w,t+n,w,w,m,e,t+n-d*w)}else h=Gt(M4||(M4=Ws(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return h},L4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NM=e=>{var t=dr(e,L4),r=g.useRef(null),[n,a]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:i,y:l,width:c,height:d,radius:f,className:m}=t,{animationEasing:h,animationDuration:x,animationBegin:v,isAnimationActive:y,isUpdateAnimationActive:w}=t,j=g.useRef(c),S=g.useRef(d),P=g.useRef(i),k=g.useRef(l),E=g.useMemo(()=>({x:i,y:l,width:c,height:d,radius:f}),[i,l,c,d,f]),A=Hl(E,"rectangle-");if(i!==+i||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var z=ut("recharts-rectangle",m);if(!w){var O=sn(t),{radius:T}=O,R=R4(O,wQ);return g.createElement("path",uh({},R,{x:yi(i),y:yi(l),width:yi(c),height:yi(d),radius:typeof f=="number"?f:void 0,className:z,d:_4(i,l,c,d,f)}))}var I=j.current,D=S.current,_=P.current,F=k.current,W="0px ".concat(n===-1?1:n,"px"),ne="".concat(n,"px 0px"),Q=bM(["strokeDasharray"],x,typeof h=="string"?h:L4.animationEasing);return g.createElement(ql,{animationId:A,key:A,canBegin:n>0,duration:x,easing:h,isActive:w,begin:v},V=>{var q=mt(I,c,V),te=mt(D,d,V),se=mt(_,i,V),U=mt(F,l,V);r.current&&(j.current=q,S.current=te,P.current=se,k.current=U);var X;y?V>0?X={transition:Q,strokeDasharray:ne}:X={strokeDasharray:W}:X={strokeDasharray:ne};var me=sn(t),{radius:de}=me,ve=R4(me,jQ);return g.createElement("path",uh({},ve,{radius:typeof f=="number"?f:void 0,className:z,d:_4(se,U,q,te,f),ref:r,style:D4(D4({},X),t.style)}))})};function $4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(r),!0).forEach(function(n){CQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CQ(e,t,r){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=AQ(e,"string");return typeof t=="symbol"?t:t+""}function AQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dh=Math.PI/180,zQ=e=>e*180/Math.PI,cr=(e,t,r,n)=>({x:e+Math.cos(-dh*n)*r,y:t+Math.sin(-dh*n)*r}),SM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},OQ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},TQ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=OQ({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var c=(r-a)/l,d=Math.acos(c);return n>i&&(d=2*Math.PI-d),{radius:l,angle:zQ(d),angleInRadian:d}},MQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},IQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},DQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=TQ({x:r,y:n},t),{innerRadius:l,outerRadius:c}=t;if(a<l||a>c||a===0)return null;var{startAngle:d,endAngle:f}=MQ(t),m=i,h;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;h=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;h=m>=f&&m<=d}return h?F4(F4({},t),{},{radius:a,angle:IQ(m,t)}):null};function kM(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=cr(t,r,n,a),c=cr(t,r,n,i);return{points:[l,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var B4,V4,U4,W4,K4,q4,H4;function oy(){return oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oy.apply(null,arguments)}function no(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var RQ=(e,t)=>{var r=Ir(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},em=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:c,cornerIsExternal:d}=e,f=c*(l?1:-1)+n,m=Math.asin(c/f)/dh,h=d?a:a+i*m,x=cr(t,r,f,h),v=cr(t,r,n,h),y=d?a-i*m:a,w=cr(t,r,f*Math.cos(m*dh),y);return{center:x,circleTangency:v,lineTangency:w,theta:m}},PM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,c=RQ(i,l),d=i+c,f=cr(t,r,a,i),m=cr(t,r,a,d),h=Gt(B4||(B4=no(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(c)>180),+(i>d),m.x,m.y);if(n>0){var x=cr(t,r,n,i),v=cr(t,r,n,d);h+=Gt(V4||(V4=no(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,n,n,+(Math.abs(c)>180),+(i<=d),x.x,x.y)}else h+=Gt(U4||(U4=no(["L ",","," Z"])),t,r);return h},_Q=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=e,m=Ir(f-d),{circleTangency:h,lineTangency:x,theta:v}=em({cx:t,cy:r,radius:a,angle:d,sign:m,cornerRadius:i,cornerIsExternal:c}),{circleTangency:y,lineTangency:w,theta:j}=em({cx:t,cy:r,radius:a,angle:f,sign:-m,cornerRadius:i,cornerIsExternal:c}),S=c?Math.abs(d-f):Math.abs(d-f)-v-j;if(S<0)return l?Gt(W4||(W4=no(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),x.x,x.y,i,i,i*2,i,i,-i*2):PM({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var P=Gt(K4||(K4=no(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),x.x,x.y,i,i,+(m<0),h.x,h.y,a,a,+(S>180),+(m<0),y.x,y.y,i,i,+(m<0),w.x,w.y);if(n>0){var{circleTangency:k,lineTangency:E,theta:A}=em({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:z,lineTangency:O,theta:T}=em({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),R=c?Math.abs(d-f):Math.abs(d-f)-A-T;if(R<0&&i===0)return"".concat(P,"L").concat(t,",").concat(r,"Z");P+=Gt(q4||(q4=no(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,i,i,+(m<0),z.x,z.y,n,n,+(R>180),+(m>0),k.x,k.y,i,i,+(m<0),E.x,E.y)}else P+=Gt(H4||(H4=no(["L",",","Z"])),t,r);return P},LQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CM=e=>{var t=dr(e,LQ),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:h}=t;if(i<a||f===m)return null;var x=ut("recharts-sector",h),v=i-a,y=nn(l,v,0,!0),w;return y>0&&Math.abs(f-m)<360?w=_Q({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):w=PM({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:m}),g.createElement("path",oy({},sn(t),{className:x,d:w}))};function $Q(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(aT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:l,angle:c}=t,d=cr(n,a,i,c),f=cr(n,a,l,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return kM(t)}}var gv={},vv={},bv={},G4;function FQ(){return G4||(G4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xT();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(bv)),bv}var Y4;function BQ(){return Y4||(Y4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FQ();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(vv)),vv}var X4;function VQ(){return X4||(X4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gT(),r=BQ();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const c=Math.max(Math.ceil((i-a)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=a,a+=l;return d}e.range=n})(gv)),gv}var yv,Q4;function UQ(){return Q4||(Q4=1,yv=VQ().range),yv}var WQ=UQ();const EM=Ms(WQ);function ji(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i1(e){let t,r,n;e.length!==2?(t=ji,r=(c,d)=>ji(e(c),d),n=(c,d)=>e(c)-d):(t=e===ji||e===KQ?e:qQ,r=e,n=e);function a(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const h=f+m>>>1;r(c[h],d)<0?f=h+1:m=h}while(f<m)}return f}function i(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const h=f+m>>>1;r(c[h],d)<=0?f=h+1:m=h}while(f<m)}return f}function l(c,d,f=0,m=c.length){const h=a(c,d,f,m-1);return h>f&&n(c[h-1],d)>-n(c[h],d)?h-1:h}return{left:a,center:l,right:i}}function qQ(){return 0}function AM(e){return e===null?NaN:+e}function*HQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const GQ=i1(ji),md=GQ.right;i1(AM).center;class Z4 extends Map{constructor(t,r=QQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(J4(this,t))}has(t){return super.has(J4(this,t))}set(t,r){return super.set(YQ(this,t),r)}delete(t){return super.delete(XQ(this,t))}}function J4({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function YQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function XQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function QQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZQ(e=ji){if(e===ji)return zM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function zM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const JQ=Math.sqrt(50),eZ=Math.sqrt(10),tZ=Math.sqrt(2);function fh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=JQ?10:i>=eZ?5:i>=tZ?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/l,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?fh(e,t,r*2):[c,d,f]}function ly(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?fh(t,e,r):fh(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(l<0)for(let f=0;f<c;++f)d[f]=(i-f)/-l;else for(let f=0;f<c;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(a+f)/-l;else for(let f=0;f<c;++f)d[f]=(a+f)*l;return d}function cy(e,t,r){return t=+t,e=+e,r=+r,fh(e,t,r)[2]}function uy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?cy(t,e,r):cy(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function eC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function tC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OM(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?zM:ZQ(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),h=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*h*(d-h)/d)*(f-d/2<0?-1:1),v=Math.max(r,Math.floor(t-f*h/d+x)),y=Math.min(n,Math.floor(t+(d-f)*h/d+x));OM(e,t,v,y,a)}const i=e[t];let l=r,c=n;for(Qc(e,r,t),a(e[n],i)>0&&Qc(e,r,n);l<c;){for(Qc(e,l,c),++l,--c;a(e[l],i)<0;)++l;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?Qc(e,r,c):(++c,Qc(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function Qc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function rZ(e,t,r){if(e=Float64Array.from(HQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return tC(e);if(t>=1)return eC(e);var n,a=(n-1)*t,i=Math.floor(a),l=eC(OM(e,i).subarray(0,i+1)),c=tC(e.subarray(i+1));return l+(c-l)*(a-i)}}function nZ(e,t,r=AM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return l+(c-l)*(a-i)}}function sZ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ps(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dy=Symbol("implicit");function o1(){var e=new Z4,t=[],r=[],n=dy;function a(i){let l=e.get(i);if(l===void 0){if(n!==dy)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Z4;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return o1(t,r).unknown(n)},ps.apply(a,arguments),a}function l1(){var e=o1().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,c=!1,d=0,f=0,m=.5;delete e.unknown;function h(){var x=t().length,v=a<n,y=v?a:n,w=v?n:a;i=(w-y)/Math.max(1,x-d+f*2),c&&(i=Math.floor(i)),y+=(w-y-i*(x-d))*m,l=i*(1-d),c&&(y=Math.round(y),l=Math.round(l));var j=sZ(x).map(function(S){return y+i*S});return r(v?j.reverse():j)}return e.domain=function(x){return arguments.length?(t(x),h()):t()},e.range=function(x){return arguments.length?([n,a]=x,n=+n,a=+a,h()):[n,a]},e.rangeRound=function(x){return[n,a]=x,n=+n,a=+a,c=!0,h()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(x){return arguments.length?(c=!!x,h()):c},e.padding=function(x){return arguments.length?(d=Math.min(1,f=+x),h()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),h()):d},e.paddingOuter=function(x){return arguments.length?(f=+x,h()):f},e.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),h()):m},e.copy=function(){return l1(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(m)},ps.apply(h(),arguments)}function TM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return TM(t())},e}function aZ(){return TM(l1.apply(null,arguments).paddingInner(1))}function c1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hd(){}var Du=.7,mh=1/Du,Nl="\\s*([+-]?\\d+)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ys="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iZ=/^#([0-9a-f]{3,8})$/,oZ=new RegExp(`^rgb\\(${Nl},${Nl},${Nl}\\)$`),lZ=new RegExp(`^rgb\\(${Ys},${Ys},${Ys}\\)$`),cZ=new RegExp(`^rgba\\(${Nl},${Nl},${Nl},${Ru}\\)$`),uZ=new RegExp(`^rgba\\(${Ys},${Ys},${Ys},${Ru}\\)$`),dZ=new RegExp(`^hsl\\(${Ru},${Ys},${Ys}\\)$`),fZ=new RegExp(`^hsla\\(${Ru},${Ys},${Ys},${Ru}\\)$`),rC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c1(hd,_u,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:nC,formatHex:nC,formatHex8:mZ,formatHsl:hZ,formatRgb:sC,toString:sC});function nC(){return this.rgb().formatHex()}function mZ(){return this.rgb().formatHex8()}function hZ(){return IM(this).formatHsl()}function sC(){return this.rgb().formatRgb()}function _u(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?aC(t):r===3?new An(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?tm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?tm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oZ.exec(e))?new An(t[1],t[2],t[3],1):(t=lZ.exec(e))?new An(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cZ.exec(e))?tm(t[1],t[2],t[3],t[4]):(t=uZ.exec(e))?tm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dZ.exec(e))?lC(t[1],t[2]/100,t[3]/100,1):(t=fZ.exec(e))?lC(t[1],t[2]/100,t[3]/100,t[4]):rC.hasOwnProperty(e)?aC(rC[e]):e==="transparent"?new An(NaN,NaN,NaN,0):null}function aC(e){return new An(e>>16&255,e>>8&255,e&255,1)}function tm(e,t,r,n){return n<=0&&(e=t=r=NaN),new An(e,t,r,n)}function pZ(e){return e instanceof hd||(e=_u(e)),e?(e=e.rgb(),new An(e.r,e.g,e.b,e.opacity)):new An}function fy(e,t,r,n){return arguments.length===1?pZ(e):new An(e,t,r,n??1)}function An(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}c1(An,fy,MM(hd,{brighter(e){return e=e==null?mh:Math.pow(mh,e),new An(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Du:Math.pow(Du,e),new An(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new An(fo(this.r),fo(this.g),fo(this.b),hh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iC,formatHex:iC,formatHex8:xZ,formatRgb:oC,toString:oC}));function iC(){return`#${so(this.r)}${so(this.g)}${so(this.b)}`}function xZ(){return`#${so(this.r)}${so(this.g)}${so(this.b)}${so((isNaN(this.opacity)?1:this.opacity)*255)}`}function oC(){const e=hh(this.opacity);return`${e===1?"rgb(":"rgba("}${fo(this.r)}, ${fo(this.g)}, ${fo(this.b)}${e===1?")":`, ${e})`}`}function hh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function so(e){return e=fo(e),(e<16?"0":"")+e.toString(16)}function lC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Cs(e,t,r,n)}function IM(e){if(e instanceof Cs)return new Cs(e.h,e.s,e.l,e.opacity);if(e instanceof hd||(e=_u(e)),!e)return new Cs;if(e instanceof Cs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,c=i-a,d=(i+a)/2;return c?(t===i?l=(r-n)/c+(r<n)*6:r===i?l=(n-t)/c+2:l=(t-r)/c+4,c/=d<.5?i+a:2-i-a,l*=60):c=d>0&&d<1?0:l,new Cs(l,c,d,e.opacity)}function gZ(e,t,r,n){return arguments.length===1?IM(e):new Cs(e,t,r,n??1)}function Cs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}c1(Cs,gZ,MM(hd,{brighter(e){return e=e==null?mh:Math.pow(mh,e),new Cs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Du:Math.pow(Du,e),new Cs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new An(wv(e>=240?e-240:e+120,a,n),wv(e,a,n),wv(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Cs(cC(this.h),rm(this.s),rm(this.l),hh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hh(this.opacity);return`${e===1?"hsl(":"hsla("}${cC(this.h)}, ${rm(this.s)*100}%, ${rm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function cC(e){return e=(e||0)%360,e<0?e+360:e}function rm(e){return Math.max(0,Math.min(1,e||0))}function wv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const u1=e=>()=>e;function vZ(e,t){return function(r){return e+r*t}}function bZ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function yZ(e){return(e=+e)==1?DM:function(t,r){return r-t?bZ(t,r,e):u1(isNaN(t)?r:t)}}function DM(e,t){var r=t-e;return r?vZ(e,r):u1(isNaN(e)?t:e)}const uC=(function e(t){var r=yZ(t);function n(a,i){var l=r((a=fy(a)).r,(i=fy(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),f=DM(a.opacity,i.opacity);return function(m){return a.r=l(m),a.g=c(m),a.b=d(m),a.opacity=f(m),a+""}}return n.gamma=e,n})(1);function wZ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function jZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NZ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=Gl(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(c){for(l=0;l<n;++l)i[l]=a[l](c);return i}}function SZ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ph(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kZ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Gl(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var my=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jv=new RegExp(my.source,"g");function PZ(e){return function(){return e}}function CZ(e){return function(t){return e(t)+""}}function EZ(e,t){var r=my.lastIndex=jv.lastIndex=0,n,a,i,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=my.exec(e))&&(a=jv.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[l]?c[l]+=i:c[++l]=i),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:ph(n,a)})),r=jv.lastIndex;return r<t.length&&(i=t.slice(r),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?CZ(d[0].x):PZ(t):(t=d.length,function(f){for(var m=0,h;m<t;++m)c[(h=d[m]).i]=h.x(f);return c.join("")})}function Gl(e,t){var r=typeof t,n;return t==null||r==="boolean"?u1(t):(r==="number"?ph:r==="string"?(n=_u(t))?(t=n,uC):EZ:t instanceof _u?uC:t instanceof Date?SZ:jZ(t)?wZ:Array.isArray(t)?NZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kZ:ph)(e,t)}function d1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function AZ(e,t){t===void 0&&(t=e,e=Gl);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[c](l-c)}}function zZ(e){return function(){return e}}function xh(e){return+e}var dC=[0,1];function dn(e){return e}function hy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:zZ(isNaN(t)?NaN:.5)}function OZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function TZ(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=hy(a,n),i=r(l,i)):(n=hy(n,a),i=r(i,l)),function(c){return i(n(c))}}function MZ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=hy(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(c){var d=md(e,c,1,n)-1;return i[d](a[d](c))}}function pd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wp(){var e=dC,t=dC,r=Gl,n,a,i,l=dn,c,d,f;function m(){var x=Math.min(e.length,t.length);return l!==dn&&(l=OZ(e[0],e[x-1])),c=x>2?MZ:TZ,d=f=null,h}function h(x){return x==null||isNaN(x=+x)?i:(d||(d=c(e.map(n),t,r)))(n(l(x)))}return h.invert=function(x){return l(a((f||(f=c(t,e.map(n),ph)))(x)))},h.domain=function(x){return arguments.length?(e=Array.from(x,xh),m()):e.slice()},h.range=function(x){return arguments.length?(t=Array.from(x),m()):t.slice()},h.rangeRound=function(x){return t=Array.from(x),r=d1,m()},h.clamp=function(x){return arguments.length?(l=x?!0:dn,m()):l!==dn},h.interpolate=function(x){return arguments.length?(r=x,m()):r},h.unknown=function(x){return arguments.length?(i=x,h):i},function(x,v){return n=x,a=v,m()}}function f1(){return wp()(dn,dn)}function IZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gh(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Tl(e){return e=gh(Math.abs(e)),e?e[1]:NaN}function DZ(e,t){return function(r,n){for(var a=r.length,i=[],l=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[l=(l+1)%e.length];return i.reverse().join(t)}}function RZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var _Z=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lu(e){if(!(t=_Z.exec(e)))throw new Error("invalid format: "+e);var t;return new m1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lu.prototype=m1.prototype;function m1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}m1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LZ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var RM;function $Z(e,t){var r=gh(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(RM=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+gh(e,Math.max(0,t+i-1))[0]}function fC(e,t){var r=gh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:IZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fC(e*100,t),r:fC,s:$Z,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hC(e){return e}var pC=Array.prototype.map,xC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FZ(e){var t=e.grouping===void 0||e.thousands===void 0?hC:DZ(pC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?hC:RZ(pC.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(h){h=Lu(h);var x=h.fill,v=h.align,y=h.sign,w=h.symbol,j=h.zero,S=h.width,P=h.comma,k=h.precision,E=h.trim,A=h.type;A==="n"?(P=!0,A="g"):mC[A]||(k===void 0&&(k=12),E=!0,A="g"),(j||x==="0"&&v==="=")&&(j=!0,x="0",v="=");var z=w==="$"?r:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",O=w==="$"?n:/[%p]/.test(A)?l:"",T=mC[A],R=/[defgprs%]/.test(A);k=k===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function I(D){var _=z,F=O,W,ne,Q;if(A==="c")F=T(D)+F,D="";else{D=+D;var V=D<0||1/D<0;if(D=isNaN(D)?d:T(Math.abs(D),k),E&&(D=LZ(D)),V&&+D==0&&y!=="+"&&(V=!1),_=(V?y==="("?y:c:y==="-"||y==="("?"":y)+_,F=(A==="s"?xC[8+RM/3]:"")+F+(V&&y==="("?")":""),R){for(W=-1,ne=D.length;++W<ne;)if(Q=D.charCodeAt(W),48>Q||Q>57){F=(Q===46?a+D.slice(W+1):D.slice(W))+F,D=D.slice(0,W);break}}}P&&!j&&(D=t(D,1/0));var q=_.length+D.length+F.length,te=q<S?new Array(S-q+1).join(x):"";switch(P&&j&&(D=t(te+D,te.length?S-F.length:1/0),te=""),v){case"<":D=_+D+F+te;break;case"=":D=_+te+D+F;break;case"^":D=te.slice(0,q=te.length>>1)+_+D+F+te.slice(q);break;default:D=te+_+D+F;break}return i(D)}return I.toString=function(){return h+""},I}function m(h,x){var v=f((h=Lu(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(Tl(x)/3)))*3,w=Math.pow(10,-y),j=xC[8+y/3];return function(S){return v(w*S)+j}}return{format:f,formatPrefix:m}}var nm,h1,_M;BZ({thousands:",",grouping:[3],currency:["$",""]});function BZ(e){return nm=FZ(e),h1=nm.format,_M=nm.formatPrefix,nm}function VZ(e){return Math.max(0,-Tl(Math.abs(e)))}function UZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tl(t)/3)))*3-Tl(Math.abs(e)))}function WZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Tl(t)-Tl(e))+1}function LM(e,t,r,n){var a=uy(e,t,r),i;switch(n=Lu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=UZ(a,l))&&(n.precision=i),_M(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=WZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=VZ(a))&&(n.precision=i-(n.type==="%")*2);break}}return h1(n)}function Oi(e){var t=e.domain;return e.ticks=function(r){var n=t();return ly(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return LM(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],c=n[i],d,f,m=10;for(c<l&&(f=l,l=c,c=f,f=a,a=i,i=f);m-- >0;){if(f=cy(l,c,r),f===d)return n[a]=l,n[i]=c,t(n);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function $M(){var e=f1();return e.copy=function(){return pd(e,$M())},ps.apply(e,arguments),Oi(e)}function FM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,xh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return FM(e).unknown(t)},e=arguments.length?Array.from(e,xh):[0,1],Oi(r)}function BM(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function gC(e){return Math.log(e)}function vC(e){return Math.exp(e)}function KZ(e){return-Math.log(-e)}function qZ(e){return-Math.exp(-e)}function HZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function GZ(e){return e===10?HZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function YZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bC(e){return(t,r)=>-e(-t,r)}function p1(e){const t=e(gC,vC),r=t.domain;let n=10,a,i;function l(){return a=YZ(n),i=GZ(n),r()[0]<0?(a=bC(a),i=bC(i),e(KZ,qZ)):e(gC,vC),t}return t.base=function(c){return arguments.length?(n=+c,l()):n},t.domain=function(c){return arguments.length?(r(c),l()):r()},t.ticks=c=>{const d=r();let f=d[0],m=d[d.length-1];const h=m<f;h&&([f,m]=[m,f]);let x=a(f),v=a(m),y,w;const j=c==null?10:+c;let S=[];if(!(n%1)&&v-x<j){if(x=Math.floor(x),v=Math.ceil(v),f>0){for(;x<=v;++x)for(y=1;y<n;++y)if(w=x<0?y/i(-x):y*i(x),!(w<f)){if(w>m)break;S.push(w)}}else for(;x<=v;++x)for(y=n-1;y>=1;--y)if(w=x>0?y/i(-x):y*i(x),!(w<f)){if(w>m)break;S.push(w)}S.length*2<j&&(S=ly(f,m,j))}else S=ly(x,v,Math.min(v-x,j)).map(i);return h?S.reverse():S},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Lu(d)).precision==null&&(d.trim=!0),d=h1(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return m=>{let h=m/i(Math.round(a(m)));return h*n<n-.5&&(h*=n),h<=f?d(m):""}},t.nice=()=>r(BM(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function VM(){const e=p1(wp()).domain([1,10]);return e.copy=()=>pd(e,VM()).base(e.base()),ps.apply(e,arguments),e}function yC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function x1(e){var t=1,r=e(yC(t),wC(t));return r.constant=function(n){return arguments.length?e(yC(t=+n),wC(t)):t},Oi(r)}function UM(){var e=x1(wp());return e.copy=function(){return pd(e,UM()).constant(e.constant())},ps.apply(e,arguments)}function jC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function XZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function QZ(e){return e<0?-e*e:e*e}function g1(e){var t=e(dn,dn),r=1;function n(){return r===1?e(dn,dn):r===.5?e(XZ,QZ):e(jC(r),jC(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Oi(t)}function v1(){var e=g1(wp());return e.copy=function(){return pd(e,v1()).exponent(e.exponent())},ps.apply(e,arguments),e}function ZZ(){return v1.apply(null,arguments).exponent(.5)}function NC(e){return Math.sign(e)*e*e}function JZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WM(){var e=f1(),t=[0,1],r=!1,n;function a(i){var l=JZ(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(NC(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,xh)).map(NC)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return WM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ps.apply(a,arguments),Oi(a)}function KM(){var e=[],t=[],r=[],n;function a(){var l=0,c=Math.max(1,t.length);for(r=new Array(c-1);++l<c;)r[l-1]=nZ(e,l/c);return i}function i(l){return l==null||isNaN(l=+l)?n:t[md(r,l)]}return i.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(ji),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return KM().domain(e).range(t).unknown(n)},ps.apply(i,arguments)}function qM(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[md(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return qM().domain([e,t]).range(a).unknown(i)},ps.apply(Oi(l),arguments)}function HM(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[md(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return HM().domain(e).range(t).unknown(r)},ps.apply(a,arguments)}const Nv=new Date,Sv=new Date;function yr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),c=a.ceil(i);return i-l<c-i?l:c},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return d;let f;do d.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<l);return d},a.filter=i=>yr(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!i(l););else for(;--c>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(Nv.setTime(+i),Sv.setTime(+l),e(Nv),e(Sv),Math.floor(r(Nv,Sv))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const vh=yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):vh);vh.range;const ya=1e3,is=ya*60,wa=is*60,Ma=wa*24,b1=Ma*7,SC=Ma*30,kv=Ma*365,ao=yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCSeconds());ao.range;const y1=yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya)},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getMinutes());y1.range;const w1=yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*is)},(e,t)=>(t-e)/is,e=>e.getUTCMinutes());w1.range;const j1=yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ya-e.getMinutes()*is)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getHours());j1.range;const N1=yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wa)},(e,t)=>(t-e)/wa,e=>e.getUTCHours());N1.range;const xd=yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*is)/Ma,e=>e.getDate()-1);xd.range;const jp=yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ma,e=>e.getUTCDate()-1);jp.range;const GM=yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ma,e=>Math.floor(e/Ma));GM.range;function Io(e){return yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*is)/b1)}const Np=Io(0),bh=Io(1),eJ=Io(2),tJ=Io(3),Ml=Io(4),rJ=Io(5),nJ=Io(6);Np.range;bh.range;eJ.range;tJ.range;Ml.range;rJ.range;nJ.range;function Do(e){return yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/b1)}const Sp=Do(0),yh=Do(1),sJ=Do(2),aJ=Do(3),Il=Do(4),iJ=Do(5),oJ=Do(6);Sp.range;yh.range;sJ.range;aJ.range;Il.range;iJ.range;oJ.range;const S1=yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());S1.range;const k1=yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());k1.range;const Ia=yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ia.range;const Da=yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Da.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Da.range;function YM(e,t,r,n,a,i){const l=[[ao,1,ya],[ao,5,5*ya],[ao,15,15*ya],[ao,30,30*ya],[i,1,is],[i,5,5*is],[i,15,15*is],[i,30,30*is],[a,1,wa],[a,3,3*wa],[a,6,6*wa],[a,12,12*wa],[n,1,Ma],[n,2,2*Ma],[r,1,b1],[t,1,SC],[t,3,3*SC],[e,1,kv]];function c(f,m,h){const x=m<f;x&&([f,m]=[m,f]);const v=h&&typeof h.range=="function"?h:d(f,m,h),y=v?v.range(f,+m+1):[];return x?y.reverse():y}function d(f,m,h){const x=Math.abs(m-f)/h,v=i1(([,,j])=>j).right(l,x);if(v===l.length)return e.every(uy(f/kv,m/kv,h));if(v===0)return vh.every(Math.max(uy(f,m,h),1));const[y,w]=l[x/l[v-1][2]<l[v][2]/x?v-1:v];return y.every(w)}return[c,d]}const[lJ,cJ]=YM(Da,k1,Sp,GM,N1,w1),[uJ,dJ]=YM(Ia,S1,Np,xd,j1,y1);function Pv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Zc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function fJ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,f=Jc(a),m=eu(a),h=Jc(i),x=eu(i),v=Jc(l),y=eu(l),w=Jc(c),j=eu(c),S=Jc(d),P=eu(d),k={a:V,A:q,b:te,B:se,c:null,d:zC,e:zC,f:DJ,g:KJ,G:HJ,H:TJ,I:MJ,j:IJ,L:XM,m:RJ,M:_J,p:U,q:X,Q:MC,s:IC,S:LJ,u:$J,U:FJ,V:BJ,w:VJ,W:UJ,x:null,X:null,y:WJ,Y:qJ,Z:GJ,"%":TC},E={a:me,A:de,b:ve,B:ke,c:null,d:OC,e:OC,f:ZJ,g:lee,G:uee,H:YJ,I:XJ,j:QJ,L:ZM,m:JJ,M:eee,p:Ee,q:G,Q:MC,s:IC,S:tee,u:ree,U:nee,V:see,w:aee,W:iee,x:null,X:null,y:oee,Y:cee,Z:dee,"%":TC},A={a:I,A:D,b:_,B:F,c:W,d:EC,e:EC,f:EJ,g:CC,G:PC,H:AC,I:AC,j:SJ,L:CJ,m:NJ,M:kJ,p:R,q:jJ,Q:zJ,s:OJ,S:PJ,u:gJ,U:vJ,V:bJ,w:xJ,W:yJ,x:ne,X:Q,y:CC,Y:PC,Z:wJ,"%":AJ};k.x=z(r,k),k.X=z(n,k),k.c=z(t,k),E.x=z(r,E),E.X=z(n,E),E.c=z(t,E);function z(L,$){return function(ue){var ee=[],Ce=-1,ye=0,Xe=L.length,Ue,re,fe;for(ue instanceof Date||(ue=new Date(+ue));++Ce<Xe;)L.charCodeAt(Ce)===37&&(ee.push(L.slice(ye,Ce)),(re=kC[Ue=L.charAt(++Ce)])!=null?Ue=L.charAt(++Ce):re=Ue==="e"?" ":"0",(fe=$[Ue])&&(Ue=fe(ue,re)),ee.push(Ue),ye=Ce+1);return ee.push(L.slice(ye,Ce)),ee.join("")}}function O(L,$){return function(ue){var ee=Zc(1900,void 0,1),Ce=T(ee,L,ue+="",0),ye,Xe;if(Ce!=ue.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if($&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(ye=Cv(Zc(ee.y,0,1)),Xe=ye.getUTCDay(),ye=Xe>4||Xe===0?yh.ceil(ye):yh(ye),ye=jp.offset(ye,(ee.V-1)*7),ee.y=ye.getUTCFullYear(),ee.m=ye.getUTCMonth(),ee.d=ye.getUTCDate()+(ee.w+6)%7):(ye=Pv(Zc(ee.y,0,1)),Xe=ye.getDay(),ye=Xe>4||Xe===0?bh.ceil(ye):bh(ye),ye=xd.offset(ye,(ee.V-1)*7),ee.y=ye.getFullYear(),ee.m=ye.getMonth(),ee.d=ye.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Xe="Z"in ee?Cv(Zc(ee.y,0,1)).getUTCDay():Pv(Zc(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Xe+5)%7:ee.w+ee.U*7-(Xe+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Cv(ee)):Pv(ee)}}function T(L,$,ue,ee){for(var Ce=0,ye=$.length,Xe=ue.length,Ue,re;Ce<ye;){if(ee>=Xe)return-1;if(Ue=$.charCodeAt(Ce++),Ue===37){if(Ue=$.charAt(Ce++),re=A[Ue in kC?$.charAt(Ce++):Ue],!re||(ee=re(L,ue,ee))<0)return-1}else if(Ue!=ue.charCodeAt(ee++))return-1}return ee}function R(L,$,ue){var ee=f.exec($.slice(ue));return ee?(L.p=m.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function I(L,$,ue){var ee=v.exec($.slice(ue));return ee?(L.w=y.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function D(L,$,ue){var ee=h.exec($.slice(ue));return ee?(L.w=x.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function _(L,$,ue){var ee=S.exec($.slice(ue));return ee?(L.m=P.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function F(L,$,ue){var ee=w.exec($.slice(ue));return ee?(L.m=j.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function W(L,$,ue){return T(L,t,$,ue)}function ne(L,$,ue){return T(L,r,$,ue)}function Q(L,$,ue){return T(L,n,$,ue)}function V(L){return l[L.getDay()]}function q(L){return i[L.getDay()]}function te(L){return d[L.getMonth()]}function se(L){return c[L.getMonth()]}function U(L){return a[+(L.getHours()>=12)]}function X(L){return 1+~~(L.getMonth()/3)}function me(L){return l[L.getUTCDay()]}function de(L){return i[L.getUTCDay()]}function ve(L){return d[L.getUTCMonth()]}function ke(L){return c[L.getUTCMonth()]}function Ee(L){return a[+(L.getUTCHours()>=12)]}function G(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var $=z(L+="",k);return $.toString=function(){return L},$},parse:function(L){var $=O(L+="",!1);return $.toString=function(){return L},$},utcFormat:function(L){var $=z(L+="",E);return $.toString=function(){return L},$},utcParse:function(L){var $=O(L+="",!0);return $.toString=function(){return L},$}}}var kC={"-":"",_:" ",0:"0"},_r=/^\s*\d+/,mJ=/^%/,hJ=/[\\^$*+?|[\]().{}]/g;function dt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function pJ(e){return e.replace(hJ,"\\$&")}function Jc(e){return new RegExp("^(?:"+e.map(pJ).join("|")+")","i")}function eu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function xJ(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function gJ(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function vJ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function bJ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function yJ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function PC(e,t,r){var n=_r.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function CC(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wJ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jJ(e,t,r){var n=_r.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function NJ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function EC(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function SJ(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function AC(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kJ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function PJ(e,t,r){var n=_r.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function CJ(e,t,r){var n=_r.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function EJ(e,t,r){var n=_r.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function AJ(e,t,r){var n=mJ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function zJ(e,t,r){var n=_r.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function OJ(e,t,r){var n=_r.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function zC(e,t){return dt(e.getDate(),t,2)}function TJ(e,t){return dt(e.getHours(),t,2)}function MJ(e,t){return dt(e.getHours()%12||12,t,2)}function IJ(e,t){return dt(1+xd.count(Ia(e),e),t,3)}function XM(e,t){return dt(e.getMilliseconds(),t,3)}function DJ(e,t){return XM(e,t)+"000"}function RJ(e,t){return dt(e.getMonth()+1,t,2)}function _J(e,t){return dt(e.getMinutes(),t,2)}function LJ(e,t){return dt(e.getSeconds(),t,2)}function $J(e){var t=e.getDay();return t===0?7:t}function FJ(e,t){return dt(Np.count(Ia(e)-1,e),t,2)}function QM(e){var t=e.getDay();return t>=4||t===0?Ml(e):Ml.ceil(e)}function BJ(e,t){return e=QM(e),dt(Ml.count(Ia(e),e)+(Ia(e).getDay()===4),t,2)}function VJ(e){return e.getDay()}function UJ(e,t){return dt(bh.count(Ia(e)-1,e),t,2)}function WJ(e,t){return dt(e.getFullYear()%100,t,2)}function KJ(e,t){return e=QM(e),dt(e.getFullYear()%100,t,2)}function qJ(e,t){return dt(e.getFullYear()%1e4,t,4)}function HJ(e,t){var r=e.getDay();return e=r>=4||r===0?Ml(e):Ml.ceil(e),dt(e.getFullYear()%1e4,t,4)}function GJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+dt(t/60|0,"0",2)+dt(t%60,"0",2)}function OC(e,t){return dt(e.getUTCDate(),t,2)}function YJ(e,t){return dt(e.getUTCHours(),t,2)}function XJ(e,t){return dt(e.getUTCHours()%12||12,t,2)}function QJ(e,t){return dt(1+jp.count(Da(e),e),t,3)}function ZM(e,t){return dt(e.getUTCMilliseconds(),t,3)}function ZJ(e,t){return ZM(e,t)+"000"}function JJ(e,t){return dt(e.getUTCMonth()+1,t,2)}function eee(e,t){return dt(e.getUTCMinutes(),t,2)}function tee(e,t){return dt(e.getUTCSeconds(),t,2)}function ree(e){var t=e.getUTCDay();return t===0?7:t}function nee(e,t){return dt(Sp.count(Da(e)-1,e),t,2)}function JM(e){var t=e.getUTCDay();return t>=4||t===0?Il(e):Il.ceil(e)}function see(e,t){return e=JM(e),dt(Il.count(Da(e),e)+(Da(e).getUTCDay()===4),t,2)}function aee(e){return e.getUTCDay()}function iee(e,t){return dt(yh.count(Da(e)-1,e),t,2)}function oee(e,t){return dt(e.getUTCFullYear()%100,t,2)}function lee(e,t){return e=JM(e),dt(e.getUTCFullYear()%100,t,2)}function cee(e,t){return dt(e.getUTCFullYear()%1e4,t,4)}function uee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Il(e):Il.ceil(e),dt(e.getUTCFullYear()%1e4,t,4)}function dee(){return"+0000"}function TC(){return"%"}function MC(e){return+e}function IC(e){return Math.floor(+e/1e3)}var al,eI,tI;fee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fee(e){return al=fJ(e),eI=al.format,al.parse,tI=al.utcFormat,al.utcParse,al}function mee(e){return new Date(e)}function hee(e){return e instanceof Date?+e:+new Date(+e)}function P1(e,t,r,n,a,i,l,c,d,f){var m=f1(),h=m.invert,x=m.domain,v=f(".%L"),y=f(":%S"),w=f("%I:%M"),j=f("%I %p"),S=f("%a %d"),P=f("%b %d"),k=f("%B"),E=f("%Y");function A(z){return(d(z)<z?v:c(z)<z?y:l(z)<z?w:i(z)<z?j:n(z)<z?a(z)<z?S:P:r(z)<z?k:E)(z)}return m.invert=function(z){return new Date(h(z))},m.domain=function(z){return arguments.length?x(Array.from(z,hee)):x().map(mee)},m.ticks=function(z){var O=x();return e(O[0],O[O.length-1],z??10)},m.tickFormat=function(z,O){return O==null?A:f(O)},m.nice=function(z){var O=x();return(!z||typeof z.range!="function")&&(z=t(O[0],O[O.length-1],z??10)),z?x(BM(O,z)):m},m.copy=function(){return pd(m,P1(e,t,r,n,a,i,l,c,d,f))},m}function pee(){return ps.apply(P1(uJ,dJ,Ia,S1,Np,xd,j1,y1,ao,eI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xee(){return ps.apply(P1(lJ,cJ,Da,k1,Sp,jp,N1,w1,ao,tI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kp(){var e=0,t=1,r,n,a,i,l=dn,c=!1,d;function f(h){return h==null||isNaN(h=+h)?d:l(a===0?.5:(h=(i(h)-r)*a,c?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(h){return arguments.length?(c=!!h,f):c},f.interpolator=function(h){return arguments.length?(l=h,f):l};function m(h){return function(x){var v,y;return arguments.length?([v,y]=x,l=h(v,y),f):[l(0),l(1)]}}return f.range=m(Gl),f.rangeRound=m(d1),f.unknown=function(h){return arguments.length?(d=h,f):d},function(h){return i=h,r=h(e),n=h(t),a=r===n?0:1/(n-r),f}}function Ti(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rI(){var e=Oi(kp()(dn));return e.copy=function(){return Ti(e,rI())},Fa.apply(e,arguments)}function nI(){var e=p1(kp()).domain([1,10]);return e.copy=function(){return Ti(e,nI()).base(e.base())},Fa.apply(e,arguments)}function sI(){var e=x1(kp());return e.copy=function(){return Ti(e,sI()).constant(e.constant())},Fa.apply(e,arguments)}function C1(){var e=g1(kp());return e.copy=function(){return Ti(e,C1()).exponent(e.exponent())},Fa.apply(e,arguments)}function gee(){return C1.apply(null,arguments).exponent(.5)}function aI(){var e=[],t=dn;function r(n){if(n!=null&&!isNaN(n=+n))return t((md(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ji),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>rZ(e,i/n))},r.copy=function(){return aI(t).domain(e)},Fa.apply(r,arguments)}function Pp(){var e=0,t=.5,r=1,n=1,a,i,l,c,d,f=dn,m,h=!1,x;function v(w){return isNaN(w=+w)?x:(w=.5+((w=+m(w))-i)*(n*w<n*i?c:d),f(h?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([e,t,r]=w,a=m(e=+e),i=m(t=+t),l=m(r=+r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v):[e,t,r]},v.clamp=function(w){return arguments.length?(h=!!w,v):h},v.interpolator=function(w){return arguments.length?(f=w,v):f};function y(w){return function(j){var S,P,k;return arguments.length?([S,P,k]=j,f=AZ(w,[S,P,k]),v):[f(0),f(.5),f(1)]}}return v.range=y(Gl),v.rangeRound=y(d1),v.unknown=function(w){return arguments.length?(x=w,v):x},function(w){return m=w,a=w(e),i=w(t),l=w(r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,v}}function iI(){var e=Oi(Pp()(dn));return e.copy=function(){return Ti(e,iI())},Fa.apply(e,arguments)}function oI(){var e=p1(Pp()).domain([.1,1,10]);return e.copy=function(){return Ti(e,oI()).base(e.base())},Fa.apply(e,arguments)}function lI(){var e=x1(Pp());return e.copy=function(){return Ti(e,lI()).constant(e.constant())},Fa.apply(e,arguments)}function E1(){var e=g1(Pp());return e.copy=function(){return Ti(e,E1()).exponent(e.exponent())},Fa.apply(e,arguments)}function vee(){return E1.apply(null,arguments).exponent(.5)}const au=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:l1,scaleDiverging:iI,scaleDivergingLog:oI,scaleDivergingPow:E1,scaleDivergingSqrt:vee,scaleDivergingSymlog:lI,scaleIdentity:FM,scaleImplicit:dy,scaleLinear:$M,scaleLog:VM,scaleOrdinal:o1,scalePoint:aZ,scalePow:v1,scaleQuantile:KM,scaleQuantize:qM,scaleRadial:WM,scaleSequential:rI,scaleSequentialLog:nI,scaleSequentialPow:C1,scaleSequentialQuantile:aI,scaleSequentialSqrt:gee,scaleSequentialSymlog:sI,scaleSqrt:ZZ,scaleSymlog:UM,scaleThreshold:HM,scaleTime:pee,scaleUtc:xee,tickFormat:LM},Symbol.toStringTag,{value:"Module"}));var Ba=e=>e.chartData,Cp=ie([Ba],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),A1=(e,t,r,n)=>n?Cp(e):Ba(e),cI=(e,t,r)=>r?Cp(e):Ba(e);function ki(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Pt(t)&&Pt(r))return!0}return!1}function DC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function uI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Pt(r))a=r;else if(typeof r=="function")return;if(Pt(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(ki(l))return l}}function bee(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ki(n))return DC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,c;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Oe(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&GP.test(a)){var d=GP.exec(a);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(Oe(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&YP.test(i)){var m=YP.exec(i);if(m==null||m[1]==null||t==null)c=void 0;else{var h=+m[1];c=t[1]+h}}else c=t==null?void 0:t[1];var x=[l,c];if(ki(x))return t==null?x:DC(x,t,r)}}}var Yl=1e9,yee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},O1,Lt=!0,hs="[DecimalError] ",mo=hs+"Invalid argument: ",z1=hs+"Exponent out of range: ",Xl=Math.floor,Zi=Math.pow,wee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn,Ar=1e7,Tt=7,dI=9007199254740991,wh=Xl(dI/Tt),Ie={};Ie.absoluteValue=Ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ie.comparedTo=Ie.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Tt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(e){return Sa(this,new this.constructor(e))};Ie.dividedToIntegerBy=Ie.idiv=function(e){var t=this,r=t.constructor;return kt(Sa(t,new r(e),0,1),r.precision)};Ie.equals=Ie.eq=function(e){return!this.cmp(e)};Ie.exponent=function(){return ur(this)};Ie.greaterThan=Ie.gt=function(e){return this.cmp(e)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(e){return this.cmp(e)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(e){return this.cmp(e)<0};Ie.lessThanOrEqualTo=Ie.lte=function(e){return this.cmp(e)<1};Ie.logarithm=Ie.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Bn))throw Error(hs+"NaN");if(r.s<1)throw Error(hs+(r.s?"NaN":"-Infinity"));return r.eq(Bn)?new n(0):(Lt=!1,t=Sa($u(r,i),$u(e,i),i),Lt=!0,kt(t,a))};Ie.minus=Ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hI(t,e):fI(t,(e.s=-e.s,e))};Ie.modulo=Ie.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(hs+"NaN");return r.s?(Lt=!1,t=Sa(r,e,0,1).times(e),Lt=!0,r.minus(t)):kt(new n(r),a)};Ie.naturalExponential=Ie.exp=function(){return mI(this)};Ie.naturalLogarithm=Ie.ln=function(){return $u(this)};Ie.negated=Ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ie.plus=Ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fI(t,e):hI(t,(e.s=-e.s,e))};Ie.precision=Ie.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(mo+e);if(t=ur(a)+1,n=a.d.length-1,r=n*Tt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ie.squareRoot=Ie.sqrt=function(){var e,t,r,n,a,i,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(hs+"NaN")}for(e=ur(c),Lt=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=qs(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Xl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(Sa(c,i,l+2)).times(.5),qs(i.d).slice(0,l)===(t=qs(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(kt(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;l+=4}return Lt=!0,kt(n,r)};Ie.times=Ie.mul=function(e){var t,r,n,a,i,l,c,d,f,m=this,h=m.constructor,x=m.d,v=(e=new h(e)).d;if(!m.s||!e.s)return new h(0);for(e.s*=m.s,r=m.e+e.e,d=x.length,f=v.length,d<f&&(i=x,x=v,v=i,l=d,d=f,f=l),i=[],l=d+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=i[a]+v[n]*x[a-n-1]+t,i[a--]=c%Ar|0,t=c/Ar|0;i[a]=(i[a]+t)%Ar|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Lt?kt(e,h.precision):e};Ie.toDecimalPlaces=Ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ta(e,0,Yl),t===void 0?t=n.rounding:ta(t,0,8),kt(r,e+ur(r)+1,t))};Ie.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Eo(n,!0):(ta(e,0,Yl),t===void 0?t=a.rounding:ta(t,0,8),n=kt(new a(n),e+1,t),r=Eo(n,!0,e+1)),r};Ie.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Eo(a):(ta(e,0,Yl),t===void 0?t=i.rounding:ta(t,0,8),n=kt(new i(a),e+ur(a)+1,t),r=Eo(n.abs(),!1,e+ur(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var e=this,t=e.constructor;return kt(new t(e),ur(e)+1,t.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(e){var t,r,n,a,i,l,c=this,d=c.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(Bn);if(c=new d(c),!c.s){if(e.s<1)throw Error(hs+"Infinity");return c}if(c.eq(Bn))return c;if(n=d.precision,e.eq(Bn))return kt(c,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=c.s,l){if((r=m<0?-m:m)<=dI){for(a=new d(Bn),t=Math.ceil(n/Tt+4),Lt=!1;r%2&&(a=a.times(c),_C(a.d,t)),r=Xl(r/2),r!==0;)c=c.times(c),_C(c.d,t);return Lt=!0,e.s<0?new d(Bn).div(a):kt(a,n)}}else if(i<0)throw Error(hs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Lt=!1,a=e.times($u(c,n+f)),Lt=!0,a=mI(a),a.s=i,a};Ie.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ur(a),n=Eo(a,r<=i.toExpNeg||r>=i.toExpPos)):(ta(e,1,Yl),t===void 0?t=i.rounding:ta(t,0,8),a=kt(new i(a),e,t),r=ur(a),n=Eo(a,e<=r||r<=i.toExpNeg,e)),n};Ie.toSignificantDigits=Ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ta(e,1,Yl),t===void 0?t=n.rounding:ta(t,0,8)),kt(new n(r),e,t)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ur(e),r=e.constructor;return Eo(e,t<=r.toExpNeg||t>=r.toExpPos)};function fI(e,t){var r,n,a,i,l,c,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Lt?kt(t,h):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,a=l,c=d.length),l=Math.ceil(h/Tt),c=l>c?l+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Ar|0,d[i]%=Ar;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Lt?kt(t,h):t}function ta(e,t,r){if(e!==~~e||e<t||e>r)throw Error(mo+e)}function qs(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Tt-n.length,r&&(i+=xi(r)),i+=n;l=e[t],n=l+"",r=Tt-n.length,r&&(i+=xi(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Sa=(function(){function e(n,a){var i,l=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+l,n[c]=i%Ar|0,l=i/Ar|0;return l&&n.unshift(l),n}function t(n,a,i,l){var c,d;if(i!=l)d=i>l?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Ar+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var c,d,f,m,h,x,v,y,w,j,S,P,k,E,A,z,O,T,R=n.constructor,I=n.s==a.s?1:-1,D=n.d,_=a.d;if(!n.s)return new R(n);if(!a.s)throw Error(hs+"Division by zero");for(d=n.e-a.e,O=_.length,A=D.length,v=new R(I),y=v.d=[],f=0;_[f]==(D[f]||0);)++f;if(_[f]>(D[f]||0)&&--d,i==null?P=i=R.precision:l?P=i+(ur(n)-ur(a))+1:P=i,P<0)return new R(0);if(P=P/Tt+2|0,f=0,O==1)for(m=0,_=_[0],P++;(f<A||m)&&P--;f++)k=m*Ar+(D[f]||0),y[f]=k/_|0,m=k%_|0;else{for(m=Ar/(_[0]+1)|0,m>1&&(_=e(_,m),D=e(D,m),O=_.length,A=D.length),E=O,w=D.slice(0,O),j=w.length;j<O;)w[j++]=0;T=_.slice(),T.unshift(0),z=_[0],_[1]>=Ar/2&&++z;do m=0,c=t(_,w,O,j),c<0?(S=w[0],O!=j&&(S=S*Ar+(w[1]||0)),m=S/z|0,m>1?(m>=Ar&&(m=Ar-1),h=e(_,m),x=h.length,j=w.length,c=t(h,w,x,j),c==1&&(m--,r(h,O<x?T:_,x))):(m==0&&(c=m=1),h=_.slice()),x=h.length,x<j&&h.unshift(0),r(w,h,j),c==-1&&(j=w.length,c=t(_,w,O,j),c<1&&(m++,r(w,O<j?T:_,j))),j=w.length):c===0&&(m++,w=[0]),y[f++]=m,c&&w[0]?w[j++]=D[E]||0:(w=[D[E]],j=1);while((E++<A||w[0]!==void 0)&&P--)}return y[0]||y.shift(),v.e=d,kt(v,l?i+ur(v)+1:i)}})();function mI(e,t){var r,n,a,i,l,c,d=0,f=0,m=e.constructor,h=m.precision;if(ur(e)>16)throw Error(z1+ur(e));if(!e.s)return new m(Bn);for(Lt=!1,c=h,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Zi(2,f))/Math.LN10*2+5|0,c+=n,r=a=i=new m(Bn),m.precision=c;;){if(a=kt(a.times(e),c),r=r.times(++d),l=i.plus(Sa(a,r,c)),qs(l.d).slice(0,c)===qs(i.d).slice(0,c)){for(;f--;)i=kt(i.times(i),c);return m.precision=h,t==null?(Lt=!0,kt(i,h)):i}i=l}}function ur(e){for(var t=e.e*Tt,r=e.d[0];r>=10;r/=10)t++;return t}function Ev(e,t,r){if(t>e.LN10.sd())throw Lt=!0,r&&(e.precision=r),Error(hs+"LN10 precision limit exceeded");return kt(new e(e.LN10),t)}function xi(e){for(var t="";e--;)t+="0";return t}function $u(e,t){var r,n,a,i,l,c,d,f,m,h=1,x=10,v=e,y=v.d,w=v.constructor,j=w.precision;if(v.s<1)throw Error(hs+(v.s?"NaN":"-Infinity"));if(v.eq(Bn))return new w(0);if(t==null?(Lt=!1,f=j):f=t,v.eq(10))return t==null&&(Lt=!0),Ev(w,f);if(f+=x,w.precision=f,r=qs(y),n=r.charAt(0),i=ur(v),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=qs(v.d),n=r.charAt(0),h++;i=ur(v),n>1?(v=new w("0."+r),i++):v=new w(n+"."+r.slice(1))}else return d=Ev(w,f+2,j).times(i+""),v=$u(new w(n+"."+r.slice(1)),f-x).plus(d),w.precision=j,t==null?(Lt=!0,kt(v,j)):v;for(c=l=v=Sa(v.minus(Bn),v.plus(Bn),f),m=kt(v.times(v),f),a=3;;){if(l=kt(l.times(m),f),d=c.plus(Sa(l,new w(a),f)),qs(d.d).slice(0,f)===qs(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(Ev(w,f+2,j).times(i+""))),c=Sa(c,new w(h),f),w.precision=j,t==null?(Lt=!0,kt(c,j)):c;c=d,a+=2}}function RC(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Xl(r/Tt),e.d=[],n=(r+1)%Tt,r<0&&(n+=Tt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Tt;n<a;)e.d.push(+t.slice(n,n+=Tt));t=t.slice(n),n=Tt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Lt&&(e.e>wh||e.e<-wh))throw Error(z1+r)}else e.s=0,e.e=0,e.d=[0];return e}function kt(e,t,r){var n,a,i,l,c,d,f,m,h=e.d;for(l=1,i=h[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Tt,a=t,f=h[m=0];else{if(m=Math.ceil((n+1)/Tt),i=h.length,m>=i)return e;for(f=i=h[m],l=1;i>=10;i/=10)l++;n%=Tt,a=n-Tt+l}if(r!==void 0&&(i=Zi(10,l-a-1),c=f/i%10|0,d=t<0||h[m+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/Zi(10,l-a):0:h[m-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return d?(i=ur(e),h.length=1,t=t-i-1,h[0]=Zi(10,(Tt-t%Tt)%Tt),e.e=Xl(-t/Tt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=m,i=1,m--):(h.length=m+1,i=Zi(10,Tt-n),h[m]=a>0?(f/Zi(10,l-a)%Zi(10,a)|0)*i:0),d)for(;;)if(m==0){(h[0]+=i)==Ar&&(h[0]=1,++e.e);break}else{if(h[m]+=i,h[m]!=Ar)break;h[m--]=0,i=1}for(n=h.length;h[--n]===0;)h.pop();if(Lt&&(e.e>wh||e.e<-wh))throw Error(z1+ur(e));return e}function hI(e,t){var r,n,a,i,l,c,d,f,m,h,x=e.constructor,v=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Lt?kt(t,v):t;if(d=e.d,h=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(m=l<0,m?(r=d,l=-l,c=h.length):(r=h,n=f,c=d.length),a=Math.max(Math.ceil(v/Tt),c)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=h.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(d[a]!=h[a]){m=d[a]<h[a];break}l=0}for(m&&(r=d,d=h,h=r,t.s=-t.s),c=d.length,a=h.length-c;a>0;--a)d[c++]=0;for(a=h.length;a>l;){if(d[--a]<h[a]){for(i=a;i&&d[--i]===0;)d[i]=Ar-1;--d[i],d[a]+=Ar}d[a]-=h[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Lt?kt(t,v):t):new x(0)}function Eo(e,t,r){var n,a=ur(e),i=qs(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+xi(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+xi(-a-1)+i,r&&(n=r-l)>0&&(i+=xi(n))):a>=l?(i+=xi(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+xi(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=xi(n))),e.s<0?"-"+i:i}function _C(e,t){if(e.length>t)return e.length=t,!0}function pI(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(mo+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return RC(l,i.toString())}else if(typeof i!="string")throw Error(mo+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,wee.test(i))RC(l,i);else throw Error(mo+i)}if(a.prototype=Ie,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=pI,a.config=a.set=jee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function jee(e){if(!e||typeof e!="object")throw Error(hs+"Object expected");var t,r,n,a=["precision",1,Yl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Xl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(mo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(mo+r+": "+n);return this}var O1=pI(yee);Bn=new O1(1);const gt=O1;var Nee=e=>e,xI={},gI=e=>e===xI,LC=e=>function t(){return arguments.length===0||arguments.length===1&&gI(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},vI=(e,t)=>e===1?t:LC(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==xI).length;return i>=e?t(...n):vI(e-i,LC(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=n.map(m=>gI(m)?c.shift():m);return t(...f,...c)}))}),See=e=>vI(e.length,e),py=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},kee=See((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Pee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Nee;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((c,d)=>d(c),i(...arguments))}};function bI(e){var t;return e===0?t=1:t=Math.floor(new gt(e).abs().log(10).toNumber())+1,t}function yI(e,t,r){for(var n=new gt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var wI=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},jI=(e,t,r)=>{if(e.lte(0))return new gt(0);var n=bI(e.toNumber()),a=new gt(10).pow(n),i=e.div(a),l=n!==1?.05:.1,c=new gt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=c.mul(a);return t?new gt(d.toNumber()):new gt(Math.ceil(d.toNumber()))},Cee=(e,t,r)=>{var n=new gt(1),a=new gt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new gt(10).pow(bI(e)-1),a=new gt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new gt(Math.floor(e)))}else e===0?a=new gt(Math.floor((t-1)/2)):r||(a=new gt(Math.floor(e)));var l=Math.floor((t-1)/2),c=Pee(kee(d=>a.add(new gt(d-l).mul(n)).toNumber()),py);return c(0,t)},NI=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var l=jI(new gt(r).sub(t).div(n-1),a,i),c;t<=0&&r>=0?c=new gt(0):(c=new gt(t).add(r).div(2),c=c.sub(new gt(c).mod(l)));var d=Math.ceil(c.sub(t).div(l).toNumber()),f=Math.ceil(new gt(r).sub(c).div(l).toNumber()),m=d+f+1;return m>n?NI(t,r,n,a,i+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:l,tickMin:c.sub(new gt(d).mul(l)),tickMax:c.add(new gt(f).mul(l))})},Eee=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[c,d]=wI([r,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...py(0,a-1).map(()=>1/0)]:[...py(0,a-1).map(()=>-1/0),d];return r>n?f.reverse():f}if(c===d)return Cee(c,a,i);var{step:m,tickMin:h,tickMax:x}=NI(c,d,l,i,0),v=yI(h,x.add(new gt(.1).mul(m)),m);return r>n?v.reverse():v},Aee=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=wI([n,a]);if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var d=Math.max(r,2),f=jI(new gt(c).sub(l).div(d-1),i,0),m=[...yI(new gt(l),new gt(c),f),c];return i===!1&&(m=m.map(h=>Math.round(h))),n>a?m.reverse():m},SI=e=>e.rootProps.maxBarSize,zee=e=>e.rootProps.barGap,kI=e=>e.rootProps.barCategoryGap,Oee=e=>e.rootProps.barSize,gd=e=>e.rootProps.stackOffset,PI=e=>e.rootProps.reverseStackOrder,T1=e=>e.options.chartName,M1=e=>e.rootProps.syncId,CI=e=>e.rootProps.syncMethod,I1=e=>e.options.eventEmitter,Tee=e=>e.rootProps.baseValue,rr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},va={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ep=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Mee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:va.reversed,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:va.type,unit:void 0},Iee={allowDataOverflow:Fn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fn.scale,tick:Fn.tick,tickCount:Fn.tickCount,ticks:void 0,type:Fn.type,unit:void 0},Dee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ree={allowDataOverflow:Fn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fn.scale,tick:Fn.tick,tickCount:Fn.tickCount,ticks:void 0,type:"category",unit:void 0},D1=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Dee:Mee,R1=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Ree:Iee,Ap=e=>e.polarOptions,_1=ie([La,$a,br],SM),EI=ie([Ap,_1],(e,t)=>{if(e!=null)return nn(e.innerRadius,t,0)}),AI=ie([Ap,_1],(e,t)=>{if(e!=null)return nn(e.outerRadius,t,t*.8)}),_ee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},zI=ie([Ap],_ee);ie([D1,zI],Ep);var OI=ie([_1,EI,AI],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ie([R1,OI],Ep);var TI=ie([at,Ap,EI,AI,La,$a],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=t;return{cx:nn(l,a,a/2),cy:nn(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Bt=(e,t)=>t,vd=(e,t,r)=>r;function zp(e){return e==null?void 0:e.id}function MI(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,l=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=zp(c);f.forEach((h,x)=>{var v=i==null||a?x:String(ht(h,i,null)),y=ht(h,c.dataKey,0),w;l.has(v)?w=l.get(v):w={},Object.assign(w,{[m]:y}),l.set(v,w)})}}),Array.from(l.values())}function Op(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Tp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Mp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Lee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wr=e=>{var t=at(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ql=e=>e.tooltip.settings.axisId;function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){$ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t,r){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xy=[0,"auto"],Cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},II=(e,t)=>e.cartesianAxis.xAxis[t],Va=(e,t)=>{var r=II(e,t);return r??Cr},Er={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:xy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ud},DI=(e,t)=>e.cartesianAxis.yAxis[t],Ua=(e,t)=>{var r=DI(e,t);return r??Er},Vee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},L1=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Vee},Kt=(e,t,r)=>{switch(t){case"xAxis":return Va(e,r);case"yAxis":return Ua(e,r);case"zAxis":return L1(e,r);case"angleAxis":return D1(e,r);case"radiusAxis":return R1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Uee=(e,t,r)=>{switch(t){case"xAxis":return Va(e,r);case"yAxis":return Ua(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bd=(e,t,r)=>{switch(t){case"xAxis":return Va(e,r);case"yAxis":return Ua(e,r);case"angleAxis":return D1(e,r);case"radiusAxis":return R1(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},RI=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $1(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var yd=e=>e.graphicalItems.cartesianItems,Wee=ie([Bt,vd],$1),F1=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),wd=ie([yd,Kt,Wee],F1,{memoizeOptions:{resultEqualityCheck:Mp}}),_I=ie([wd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Op)),LI=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Kee=ie([wd],LI),B1=e=>e.map(t=>t.data).filter(Boolean).flat(1),qee=ie([wd],B1,{memoizeOptions:{resultEqualityCheck:Mp}}),V1=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},U1=ie([qee,A1],V1),W1=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ht(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:ht(a,n)}))):e.map(n=>({value:n})),Ip=ie([U1,Kt,wd],W1);function $I(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cm(e){if(Js(e)||e instanceof Date){var t=Number(e);if(Pt(t))return t}}function FC(e){if(Array.isArray(e)){var t=[Cm(e[0]),Cm(e[1])];return ki(t)?t:void 0}var r=Cm(e);if(r!=null)return[r,r]}function Ra(e){return e.map(Cm).filter(lH)}function Hee(e,t,r){return!r||typeof t!="number"||fs(t)?[]:r.length?Ra(r.flatMap(n=>{var a=ht(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!Pt(i)||!Pt(l)))return[t-i,t+l]})):[]}var jr=e=>{var t=wr(e),r=Ql(e);return bd(e,t,r)},jd=ie([jr],e=>e==null?void 0:e.dataKey),Gee=ie([_I,A1,jr],MI),FI=(e,t,r,n)=>{var a={},i=t.reduce((l,c)=>{if(c.stackId==null)return l;var d=l[c.stackId];return d==null&&(d=[]),d.push(c),l[c.stackId]=d,l},a);return Object.fromEntries(Object.entries(i).map(l=>{var[c,d]=l,f=n?[...d].reverse():d,m=f.map(zp);return[c,{stackedData:CY(e,m,r),graphicalItems:f}]}))},Nh=ie([Gee,_I,gd,PI],FI),BI=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var l=OY(e,a,i);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Yee=ie([Kt],e=>e.allowDataOverflow),K1=e=>{var t;if(e==null||!("domain"in e))return xy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ra(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:xy},q1=ie([Kt],K1),H1=ie([q1,Yee],uI),Xee=ie([Nh,Ba,Bt,H1],BI,{memoizeOptions:{resultEqualityCheck:Tp}}),Dp=e=>e.errorBars,Qee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>$I(r,n)),Sh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),c=Math.max(...i);return[l,c]}},G1=(e,t,r,n,a)=>{var i,l;if(r.length>0&&e.forEach(c=>{r.forEach(d=>{var f,m,h=(f=n[d.id])===null||f===void 0?void 0:f.filter(S=>$I(a,S)),x=ht(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),v=Hee(c,x,h);if(v.length>=2){var y=Math.min(...v),w=Math.max(...v);(i==null||y<i)&&(i=y),(l==null||w>l)&&(l=w)}var j=FC(x);j!=null&&(i=i==null?j[0]:Math.min(i,j[0]),l=l==null?j[1]:Math.max(l,j[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var d=FC(ht(c,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),l=l==null?d[1]:Math.max(l,d[1]))}),Pt(i)&&Pt(l))return[i,l]},Zee=ie([U1,Kt,Kee,Dp,Bt],G1,{memoizeOptions:{resultEqualityCheck:Tp}});function Jee(e){var{value:t}=e;if(Js(t)||t instanceof Date)return t}var ete=(e,t,r)=>{var n=e.map(Jee).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&tT(n))?EM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},VI=e=>e.referenceElements.dots,Zl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),tte=ie([VI,Bt,vd],Zl),UI=e=>e.referenceElements.areas,rte=ie([UI,Bt,vd],Zl),WI=e=>e.referenceElements.lines,nte=ie([WI,Bt,vd],Zl),KI=(e,t)=>{if(e!=null){var r=Ra(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},ste=ie(tte,Bt,KI),qI=(e,t)=>{if(e!=null){var r=Ra(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},ate=ie([rte,Bt],qI);function ite(e){var t;if(e.x!=null)return Ra([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ra(r)}function ote(e){var t;if(e.y!=null)return Ra([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ra(r)}var HI=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?ite(n):ote(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},lte=ie([nte,Bt],HI),cte=ie(ste,lte,ate,(e,t,r)=>Sh(e,r,t)),Y1=(e,t,r,n,a,i,l,c)=>{if(r!=null)return r;var d=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=d?Sh(n,i,a):Sh(i,a);return bee(t,f,e.allowDataOverflow)},ute=ie([Kt,q1,H1,Xee,Zee,cte,at,Bt],Y1,{memoizeOptions:{resultEqualityCheck:Tp}}),dte=[0,1],X1=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:c,type:d}=e,f=aa(t,i);if(f&&c==null){var m;return EM(0,(m=r==null?void 0:r.length)!==null&&m!==void 0?m:0)}return d==="category"?ete(n,e,f):a==="expand"?dte:l}},Q1=ie([Kt,at,U1,Ip,gd,Bt,ute],X1),GI=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(ad(i));return c in au?c:"point"}}},Jl=ie([Kt,at,RI,T1,Bt],GI);function fte(e){if(e!=null){if(e in au)return au[e]();var t="scale".concat(ad(e));if(t in au)return au[t]()}}function Z1(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=fte(t);if(a!=null){var i=a.domain(r).range(n);return jY(i),i}}}var J1=(e,t,r)=>{var n=K1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ki(e))return Eee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ki(e))return Aee(e,t.tickCount,t.allowDecimals)}},ej=ie([Q1,bd,Jl],J1),tj=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ki(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],c=r[r.length-1];return[Math.min(a,i),Math.max(l,c)]}return t},mte=ie([Kt,Q1,ej,Bt],tj),hte=ie(Ip,Kt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ra(e.map(h=>h.value))).sort((h,x)=>h-x),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var l=i-a;if(l===0)return 1/0;for(var c=0;c<n.length-1;c++){var d=n[c],f=n[c+1];if(!(d==null||f==null)){var m=f-d;r=Math.min(r,m)}}return r/l}}),YI=ie(hte,at,kI,br,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Pt(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=nn(r,e*i),c=e*i/2;return c-l-(c-l)/i*l}return 0}),pte=(e,t,r)=>{var n=Va(e,t);return n==null||typeof n.padding!="string"?0:YI(e,"xAxis",t,r,n.padding)},xte=(e,t,r)=>{var n=Ua(e,t);return n==null||typeof n.padding!="string"?0:YI(e,"yAxis",t,r,n.padding)},gte=ie(Va,pte,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),vte=ie(Ua,xte,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),bte=ie([br,gte,hp,mp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),yte=ie([br,at,vte,hp,mp,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Nd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return bte(e,r,n);case"yAxis":return yte(e,r,n);case"zAxis":return(a=L1(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return zI(e);case"radiusAxis":return OI(e,r);default:return}},XI=ie([Kt,Nd],Ep),Rp=ie([Kt,Jl,mte,XI],Z1);ie([wd,Dp,Bt],Qee);function QI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var _p=(e,t)=>t,Lp=(e,t,r)=>r,wte=ie(dp,_p,Lp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(QI)),jte=ie(fp,_p,Lp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(QI)),ZI=(e,t)=>({width:e.width,height:t.height}),Nte=(e,t)=>{var r=typeof t.width=="number"?t.width:ud;return{width:r,height:e.height}},JI=ie(br,Va,ZI),Ste=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},kte=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Pte=ie($a,br,wte,_p,Lp,(e,t,r,n,a)=>{var i={},l;return r.forEach(c=>{var d=ZI(t,c);l==null&&(l=Ste(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),i}),Cte=ie(La,br,jte,_p,Lp,(e,t,r,n,a)=>{var i={},l;return r.forEach(c=>{var d=Nte(t,c);l==null&&(l=kte(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),i}),Ete=(e,t)=>{var r=Va(e,t);if(r!=null)return Pte(e,r.orientation,r.mirror)},Ate=ie([br,Va,Ete,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),zte=(e,t)=>{var r=Ua(e,t);if(r!=null)return Cte(e,r.orientation,r.mirror)},Ote=ie([br,Ua,zte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),eD=ie(br,Ua,(e,t)=>{var r=typeof t.width=="number"?t.width:ud;return{width:r,height:e.height}}),BC=(e,t,r)=>{switch(t){case"xAxis":return JI(e,r).width;case"yAxis":return eD(e,r).height;default:return}},tD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,c=aa(e,n),d=t.map(f=>f.value);if(l&&c&&i==="category"&&a&&tT(d))return d}},rj=ie([at,Ip,Kt,Bt],tD),rD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=aa(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(c=>c.value)}},nj=ie([at,Ip,bd,Bt],rD),VC=ie([at,Uee,Jl,Rp,rj,nj,Nd,ej,Bt],(e,t,r,n,a,i,l,c,d)=>{if(t!=null){var f=aa(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:c,range:l,realScaleType:r,scale:n}}}),Tte=(e,t,r,n,a,i,l,c,d)=>{if(!(t==null||n==null)){var f=aa(e,d),{type:m,ticks:h,tickCount:x}=t,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=m==="category"&&n.bandwidth?n.bandwidth()/v:0;y=d==="angleAxis"&&i!=null&&i.length>=2?Ir(i[0]-i[1])*2*y:y;var w=h||a;if(w){var j=w.map((S,P)=>{var k=l?l.indexOf(S):S;return{index:P,coordinate:n(k)+y,value:S,offset:y}});return j.filter(S=>Pt(S.coordinate))}return f&&c?c.map((S,P)=>({coordinate:n(S)+y,value:S,index:P,offset:y})).filter(S=>Pt(S.coordinate)):n.ticks?n.ticks(x).map(S=>({coordinate:n(S)+y,value:S,offset:y})):n.domain().map((S,P)=>({coordinate:n(S)+y,value:l?l[S]:S,index:P,offset:y}))}},nD=ie([at,bd,Jl,Rp,ej,Nd,rj,nj,Bt],Tte),Mte=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=aa(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&(n==null?void 0:n.length)>=2?Ir(n[0]-n[1])*2*f:f,c&&i?i.map((m,h)=>({coordinate:r(m)+f,value:m,index:h,offset:f})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,h)=>({coordinate:r(m)+f,value:a?a[m]:m,index:h,offset:f}))}},ra=ie([at,bd,Rp,Nd,rj,nj,Bt],Mte),na=ie(Kt,Rp,(e,t)=>{if(!(e==null||t==null))return jh(jh({},e),{},{scale:t})}),Ite=ie([Kt,Jl,Q1,XI],Z1);ie((e,t,r)=>L1(e,r),Ite,(e,t)=>{if(!(e==null||t==null))return jh(jh({},e),{},{scale:t})});var Dte=ie([at,dp,fp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),sD=e=>e.options.defaultTooltipEventType,aD=e=>e.options.validateTooltipEventTypes;function iD(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function sj(e,t){var r=sD(e),n=aD(e);return iD(t,r,n)}function Rte(e){return _e(t=>sj(t,e))}var oD=(e,t)=>{var r,n=Number(t);if(!(fs(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},_te=e=>e.tooltip.settings,bi={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Lte={itemInteraction:{click:bi,hover:bi},axisInteraction:{click:bi,hover:bi},keyboardInteraction:bi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},lD=In({name:"tooltip",initialState:Lte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Rt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=zs(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Rt()},removeTooltipEntrySettings:{reducer(e,t){var r=zs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Rt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:$te,replaceTooltipEntrySettings:Fte,removeTooltipEntrySettings:Bte,setTooltipSettingsState:Vte,setActiveMouseOverItemIndex:cD,mouseLeaveItem:Ute,mouseLeaveChart:uD,setActiveClickItemIndex:Wte,setMouseOverAxisIndex:dD,setMouseClickAxisIndex:Kte,setSyncInteraction:gy,setKeyboardInteraction:vy}=lD.actions,qte=lD.reducer;function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){Hte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hte(e,t,r){return(t=Gte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Qte(e){return e.index!=null}var fD=(e,t,r,n)=>{if(t==null)return bi;var a=Xte(e,t,r);if(a==null)return bi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Qte(a)){if(i)return sm(sm({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return sm(sm({},bi),{},{coordinate:a.coordinate})};function Zte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Jte(e,t){var r=Zte(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),l=Math.max(n,a);return r>=i&&r<=l}function ere(e,t,r){if(r==null||t==null)return!0;var n=ht(e,t);return n==null||!ki(r)?!0:Jte(n,r)}var aj=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Pt(i))return a;var l=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(l,Math.min(i,c)),f=t[d];return f==null||ere(f,r,n)?String(d):null},mD=(e,t,r,n,a,i,l,c)=>{if(!(i==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,i);if(f!=null)return f;var m=a==null?void 0:a[Number(i)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},hD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.graphicalItemId)===a})},Sd=e=>e.options.tooltipPayloadSearcher,ec=e=>e.tooltip;function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tre(e,t,r){return(t=rre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sre(e,t){return e??t}var pD=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,h=[];return e.reduce((x,v)=>{var y,{dataDefinedOnItem:w,settings:j}=v,S=sre(w,c),P=Array.isArray(S)?GT(S,f,m):S,k=(y=j==null?void 0:j.dataKey)!==null&&y!==void 0?y:n,E=j==null?void 0:j.nameKey,A;if(n&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?A=rT(P,n,a):A=i(P,t,d,E),Array.isArray(A))A.forEach(O=>{var T=KC(KC({},j),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});x.push(XP({tooltipEntrySettings:T,dataKey:O.dataKey,payload:O.payload,value:ht(O.payload,O.dataKey),name:O.name}))});else{var z;x.push(XP({tooltipEntrySettings:j,dataKey:k,payload:A,value:ht(A,k),name:(z=ht(A,E))!==null&&z!==void 0?z:j==null?void 0:j.name}))}return x},h)}},ij=ie([jr,at,RI,T1,wr],GI),are=ie([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ire=ie([wr,Ql],$1),tc=ie([are,jr,ire],F1,{memoizeOptions:{resultEqualityCheck:Mp}}),ore=ie([tc],e=>e.filter(Op)),lre=ie([tc],B1,{memoizeOptions:{resultEqualityCheck:Mp}}),rc=ie([lre,Ba],V1),cre=ie([ore,Ba,jr],MI),oj=ie([rc,jr,tc],W1),xD=ie([jr],K1),ure=ie([jr],e=>e.allowDataOverflow),gD=ie([xD,ure],uI),dre=ie([tc],e=>e.filter(Op)),fre=ie([cre,dre,gd,PI],FI),mre=ie([fre,Ba,wr,gD],BI),hre=ie([tc],LI),pre=ie([rc,jr,hre,Dp,wr],G1,{memoizeOptions:{resultEqualityCheck:Tp}}),xre=ie([VI,wr,Ql],Zl),gre=ie([xre,wr],KI),vre=ie([UI,wr,Ql],Zl),bre=ie([vre,wr],qI),yre=ie([WI,wr,Ql],Zl),wre=ie([yre,wr],HI),jre=ie([gre,wre,bre],Sh),Nre=ie([jr,xD,gD,mre,pre,jre,at,wr],Y1),kd=ie([jr,at,rc,oj,gd,wr,Nre],X1),Sre=ie([kd,jr,ij],J1),kre=ie([jr,kd,Sre,wr],tj),vD=e=>{var t=wr(e),r=Ql(e),n=!1;return Nd(e,t,r,n)},bD=ie([jr,vD],Ep),yD=ie([jr,ij,kre,bD],Z1),Pre=ie([at,oj,jr,wr],tD),Cre=ie([at,oj,jr,wr],rD),Ere=(e,t,r,n,a,i,l,c)=>{if(t){var{type:d}=t,f=aa(e,c);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return h=c==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ir(a[0]-a[1])*2*h:h,f&&l?l.map((x,v)=>({coordinate:n(x)+h,value:x,index:v,offset:h})):n.domain().map((x,v)=>({coordinate:n(x)+h,value:i?i[x]:x,index:v,offset:h}))}}},Wa=ie([at,jr,ij,yD,vD,Pre,Cre,wr],Ere),lj=ie([sD,aD,_te],(e,t,r)=>iD(r.shared,e,t)),wD=e=>e.tooltip.settings.trigger,cj=e=>e.tooltip.settings.defaultIndex,Pd=ie([ec,lj,wD,cj],fD),Pi=ie([Pd,rc,jd,kd],aj),jD=ie([Wa,Pi],oD),uj=ie([Pd],e=>{if(e)return e.dataKey}),Are=ie([Pd],e=>{if(e)return e.graphicalItemId}),ND=ie([ec,lj,wD,cj],hD),zre=ie([La,$a,at,br,Wa,cj,ND,Sd],mD),Ore=ie([Pd,zre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Tre=ie([Pd],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Mre=ie([ND,Pi,Ba,jd,jD,Sd,lj],pD),Ire=ie([Mre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){Dre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dre(e,t,r){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rre(e){var t=_re(e,"string");return typeof t=="symbol"?t:t+""}function _re(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lre=()=>_e(jr),$re=()=>{var e=Lre(),t=_e(Wa),r=_e(yD);return Si(!e||!r?void 0:HC(HC({},e),{},{scale:r}),t)};function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){Fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fre(e,t,r){return(t=Bre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ure=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Wre=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:l}=n;return il(il(il({},n),cr(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var c=a.coordinate,{angle:d}=n;return il(il(il({},n),cr(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Kre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var SD=(e,t,r,n,a)=>{var i,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<l;c++){var d,f,m,h,x,v=c>0?(d=r[c-1])===null||d===void 0?void 0:d.coordinate:(f=r[l-1])===null||f===void 0?void 0:f.coordinate,y=(m=r[c])===null||m===void 0?void 0:m.coordinate,w=c>=l-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(x=r[c+1])===null||x===void 0?void 0:x.coordinate,j=void 0;if(!(v==null||y==null||w==null))if(Ir(y-v)!==Ir(w-y)){var S=[];if(Ir(w-y)===Ir(a[1]-a[0])){j=w;var P=y+a[1]-a[0];S[0]=Math.min(P,(P+v)/2),S[1]=Math.max(P,(P+v)/2)}else{j=v;var k=w+a[1]-a[0];S[0]=Math.min(y,(k+y)/2),S[1]=Math.max(y,(k+y)/2)}var E=[Math.min(y,(j+y)/2),Math.max(y,(j+y)/2)];if(e>E[0]&&e<=E[1]||e>=S[0]&&e<=S[1]){var A;return(A=r[c])===null||A===void 0?void 0:A.index}}else{var z=Math.min(v,w),O=Math.max(v,w);if(e>(z+y)/2&&e<=(O+y)/2){var T;return(T=r[c])===null||T===void 0?void 0:T.index}}}else if(t)for(var R=0;R<l;R++){var I=t[R];if(I!=null){var D=t[R+1],_=t[R-1];if(R===0&&D!=null&&e<=(I.coordinate+D.coordinate)/2||R===l-1&&_!=null&&e>(I.coordinate+_.coordinate)/2||R>0&&R<l-1&&_!=null&&D!=null&&e>(I.coordinate+_.coordinate)/2&&e<=(I.coordinate+D.coordinate)/2)return I.index}}return-1},kD=()=>_e(T1),dj=(e,t)=>t,PD=(e,t,r)=>r,fj=(e,t,r,n)=>n,qre=ie(Wa,e=>rp(e,t=>t.coordinate)),mj=ie([ec,dj,PD,fj],fD),hj=ie([mj,rc,jd,kd],aj),Hre=(e,t,r)=>{if(t!=null){var n=ec(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},CD=ie([ec,dj,PD,fj],hD),kh=ie([La,$a,at,br,Wa,fj,CD,Sd],mD),Gre=ie([mj,kh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ED=ie([Wa,hj],oD),Yre=ie([CD,hj,Ba,jd,ED,Sd,dj],pD),Xre=ie([mj,hj],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Qre=(e,t,r,n,a,i,l)=>{if(!(!e||!r||!n||!a)&&Kre(e,l)){var c=TY(e,t),d=SD(c,i,a,r,n),f=Ure(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Zre=(e,t,r,n,a,i,l)=>{if(!(!e||!n||!a||!i||!r)){var c=DQ(e,r);if(c){var d=MY(c,t),f=SD(d,l,i,n,a),m=Wre(t,i,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},Jre=(e,t,r,n,a,i,l,c)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?Qre(e,t,n,a,i,l,c):Zre(e,t,r,n,a,i,l)},ene=ie(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),tne=ie(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(rr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Lee}});function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rne(e,t,r){return(t=nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=sne(e,"string");return typeof t=="symbol"?t:t+""}function sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ane={},ine={zIndexMap:Object.values(rr).reduce((e,t)=>XC(XC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),ane)},one=new Set(Object.values(rr));function lne(e){return one.has(e)}var AD=In({name:"zIndex",initialState:ine,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Rt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!lne(r)&&delete e.zIndexMap[r])},prepare:Rt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Rt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Rt()}}}),{registerZIndexPortal:cne,unregisterZIndexPortal:une,registerZIndexPortalElement:dne,unregisterZIndexPortalElement:fne}=AD.actions,mne=AD.reducer;function gn(e){var{zIndex:t,children:r}=e,n=uX(),a=n&&t!==void 0&&t!==0,i=Rr(),l=Ft();g.useLayoutEffect(()=>a?(l(cne({zIndex:t})),()=>{l(une({zIndex:t}))}):id,[l,t,a]);var c=_e(d=>ene(d,t,i));return a?c?Iy.createPortal(r,c):null:r}function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(null,arguments)}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){hne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hne(e,t,r){return(t=pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pne(e){var t=xne(e,"string");return typeof t=="symbol"?t:t+""}function xne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gne(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function vne(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,h=r,x=n,v=a;if(!d||!h||m!=="ScatterChart"&&f!=="axis")return null;var y,w,j;if(m==="ScatterChart")y=h,w=YX,j=rr.cursorLine;else if(m==="BarChart")y=XX(c,h,i,l),w=NM,j=rr.cursorRectangle;else if(c==="radial"&&aT(h)){var{cx:S,cy:P,radius:k,startAngle:E,endAngle:A}=kM(h);y={cx:S,cy:P,startAngle:E,endAngle:A,innerRadius:k,outerRadius:k},w=CM,j=rr.cursorLine}else y={points:$Q(c,h,i)},w=jl,j=rr.cursorLine;var z=typeof d=="object"&&"className"in d?d.className:void 0,O=am(am(am(am({stroke:"#ccc",pointerEvents:"none"},i),y),jo(d)),{},{payload:x,payloadIndex:v,className:ut("recharts-tooltip-cursor",z)});return g.createElement(gn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:j},g.createElement(gne,{cursor:d,cursorComp:w,cursorProps:O}))}function bne(e){var t=$re(),r=aM(),n=zi(),a=kD();return t==null||r==null||n==null||a==null?null:g.createElement(vne,by({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var zD=g.createContext(null),yne=()=>g.useContext(zD),Av={exports:{}},ZC;function wne(){return ZC||(ZC=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function i(d,f,m,h,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new a(m,h||d,x),y=r?r+f:f;return d._events[y]?d._events[y].fn?d._events[y]=[d._events[y],v]:d._events[y].push(v):(d._events[y]=v,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,h;if(this._eventsCount===0)return f;for(h in m=this._events)t.call(m,h)&&f.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=r?r+f:f,h=this._events[m];if(!h)return[];if(h.fn)return[h.fn];for(var x=0,v=h.length,y=new Array(v);x<v;x++)y[x]=h[x].fn;return y},c.prototype.listenerCount=function(f){var m=r?r+f:f,h=this._events[m];return h?h.fn?1:h.length:0},c.prototype.emit=function(f,m,h,x,v,y){var w=r?r+f:f;if(!this._events[w])return!1;var j=this._events[w],S=arguments.length,P,k;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),S){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,h),!0;case 4:return j.fn.call(j.context,m,h,x),!0;case 5:return j.fn.call(j.context,m,h,x,v),!0;case 6:return j.fn.call(j.context,m,h,x,v,y),!0}for(k=1,P=new Array(S-1);k<S;k++)P[k-1]=arguments[k];j.fn.apply(j.context,P)}else{var E=j.length,A;for(k=0;k<E;k++)switch(j[k].once&&this.removeListener(f,j[k].fn,void 0,!0),S){case 1:j[k].fn.call(j[k].context);break;case 2:j[k].fn.call(j[k].context,m);break;case 3:j[k].fn.call(j[k].context,m,h);break;case 4:j[k].fn.call(j[k].context,m,h,x);break;default:if(!P)for(A=1,P=new Array(S-1);A<S;A++)P[A-1]=arguments[A];j[k].fn.apply(j[k].context,P)}}return!0},c.prototype.on=function(f,m,h){return i(this,f,m,h,!1)},c.prototype.once=function(f,m,h){return i(this,f,m,h,!0)},c.prototype.removeListener=function(f,m,h,x){var v=r?r+f:f;if(!this._events[v])return this;if(!m)return l(this,v),this;var y=this._events[v];if(y.fn)y.fn===m&&(!x||y.once)&&(!h||y.context===h)&&l(this,v);else{for(var w=0,j=[],S=y.length;w<S;w++)(y[w].fn!==m||x&&!y[w].once||h&&y[w].context!==h)&&j.push(y[w]);j.length?this._events[v]=j.length===1?j[0]:j:l(this,v)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(Av)),Av.exports}var jne=wne();const Nne=Ms(jne);var Fu=new Nne,yy="recharts.syncEvent.tooltip",JC="recharts.syncEvent.brush";function $p(e,t){if(t){var r=Number.parseInt(t,10);if(!fs(r))return e==null?void 0:e[r]}}var Sne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},OD=In({name:"options",initialState:Sne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kne=OD.reducer,{createEventEmitter:Pne}=OD.actions;function Cne(e){return e.tooltip.syncInteraction}var Ene={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},TD=In({name:"chartData",initialState:Ene,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:eE,setDataStartEndIndexes:Ane,setComputedData:jme}=TD.actions,zne=TD.reducer,One=["x","y"];function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){Tne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tne(e,t,r){return(t=Mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mne(e){var t=Ine(e,"string");return typeof t=="symbol"?t:t+""}function Ine(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dne(e,t){if(e==null)return{};var r,n,a=Rne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _ne(){var e=_e(M1),t=_e(I1),r=Ft(),n=_e(CI),a=_e(Wa),i=zi(),l=xp(),c=_e(d=>d.rootProps.className);g.useEffect(()=>{if(e==null)return id;var d=(f,m,h)=>{if(t!==h&&e===f){if(n==="index"){var x;if(l&&m!==null&&m!==void 0&&(x=m.payload)!==null&&x!==void 0&&x.coordinate&&m.payload.sourceViewBox){var v=m.payload.coordinate,{x:y,y:w}=v,j=Dne(v,One),{x:S,y:P,width:k,height:E}=m.payload.sourceViewBox,A=ol(ol({},j),{},{x:l.x+(k?(y-S)/k:0)*l.width,y:l.y+(E?(w-P)/E:0)*l.height});r(ol(ol({},m),{},{payload:ol(ol({},m.payload),{},{coordinate:A})}))}else r(m);return}if(a!=null){var z;if(typeof n=="function"){var O={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},T=n(a,O);z=a[T]}else n==="value"&&(z=a.find(Q=>String(Q.value)===m.payload.label));var{coordinate:R}=m.payload;if(z==null||m.payload.active===!1||R==null||l==null){r(gy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:I,y:D}=R,_=Math.min(I,l.x+l.width),F=Math.min(D,l.y+l.height),W={x:i==="horizontal"?z.coordinate:_,y:i==="horizontal"?F:z.coordinate},ne=gy({active:m.payload.active,coordinate:W,dataKey:m.payload.dataKey,index:String(z.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(ne)}}};return Fu.on(yy,d),()=>{Fu.off(yy,d)}},[c,r,t,e,n,a,i,l])}function Lne(){var e=_e(M1),t=_e(I1),r=Ft();g.useEffect(()=>{if(e==null)return id;var n=(a,i,l)=>{t!==l&&e===a&&r(Ane(i))};return Fu.on(JC,n),()=>{Fu.off(JC,n)}},[r,t,e])}function $ne(){var e=Ft();g.useEffect(()=>{e(Pne())},[e]),_ne(),Lne()}function Fne(e,t,r,n,a,i){var l=_e(v=>Hre(v,e,t)),c=_e(I1),d=_e(M1),f=_e(CI),m=_e(Cne),h=m==null?void 0:m.active,x=xp();g.useEffect(()=>{if(!h&&d!=null&&c!=null){var v=gy({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:x,graphicalItemId:void 0});Fu.emit(yy,d,v,c)}},[h,r,l,a,n,c,d,f,i,x])}function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(n){Bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bne(e,t,r){return(t=Vne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wne(e){return e.dataKey}function Kne(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(EX,t)}var sE=[],qne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Fp(e){var t,r,n=dr(e,qne),{active:a,allowEscapeViewBox:i,animationDuration:l,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:h,payloadUniqBy:x,position:v,reverseDirection:y,useTranslate3d:w,wrapperStyle:j,cursor:S,shared:P,trigger:k,defaultIndex:E,portal:A,axisId:z}=n,O=Ft(),T=typeof E=="number"?String(E):E;g.useEffect(()=>{O(Vte({shared:P,trigger:k,axisId:z,active:a,defaultIndex:T}))},[O,P,k,z,a,T]);var R=xp(),I=vM(),D=Rte(P),{activeIndex:_,isActive:F}=(t=_e(Ee=>Xre(Ee,D,k,T)))!==null&&t!==void 0?t:{},W=_e(Ee=>Yre(Ee,D,k,T)),ne=_e(Ee=>ED(Ee,D,k,T)),Q=_e(Ee=>Gre(Ee,D,k,T)),V=W,q=yne(),te=(r=a??F)!==null&&r!==void 0?r:!1,[se,U]=gG([V,te]),X=D==="axis"?ne:void 0;Fne(D,k,Q,X,_,te);var me=A??q;if(me==null||R==null||D==null)return null;var de=V??sE;te||(de=sE),f&&de.length&&(de=UH(de.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||n.includeHidden)),x,Wne));var ve=de.length>0,ke=g.createElement(DX,{allowEscapeViewBox:i,animationDuration:l,animationEasing:c,isAnimationActive:m,active:te,coordinate:Q,hasPayload:ve,offset:h,position:v,reverseDirection:y,useTranslate3d:w,viewBox:R,wrapperStyle:j,lastBoundingBox:se,innerRef:U,hasPortalFromProps:!!A},Kne(d,nE(nE({},n),{},{payload:de,label:X,active:te,activeIndex:_,coordinate:Q,accessibilityLayer:I})));return g.createElement(g.Fragment,null,Iy.createPortal(ke,me),te&&g.createElement(bne,{cursor:S,tooltipEventType:D,coordinate:Q,payload:de,index:_}))}var nc=e=>null;nc.displayName="Cell";function Hne(e,t,r){return(t=Gne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gne(e){var t=Yne(e,"string");return typeof t=="symbol"?t:t+""}function Yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xne{constructor(t){Hne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){Zne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zne(e,t,r){return(t=Jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jne(e){var t=ese(e,"string");return typeof t=="symbol"?t:t+""}function ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tse={cacheSize:2e3,enableCache:!0},MD=Qne({},tse),iE=new Xne(MD.cacheSize),rse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oE="recharts_measurement_span";function nse(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(c)}var lE=(e,t)=>{try{var r=document.getElementById(oE);r||(r=document.createElement("span"),r.setAttribute("id",oE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,rse,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},hu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fd.isSsr)return{width:0,height:0};if(!MD.enableCache)return lE(t,r);var n=nse(t,r),a=iE.get(n);if(a)return a;var i=lE(t,r);return iE.set(n,i),i},ID;function sse(e,t,r){return(t=ase(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ase(e){var t=ise(e,"string");return typeof t=="symbol"?t:t+""}function ise(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ose=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cse={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},use=["cm","mm","pt","pc","in","Q","px"];function dse(e){return use.includes(e)}var xl="NaN";function fse(e,t){return e*cse[t]}class Ur{static parse(t){var r,[,n,a]=(r=lse.exec(t))!==null&&r!==void 0?r:[];return n==null?Ur.NaN:new Ur(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,fs(t)&&(this.unit=""),r!==""&&!ose.test(r)&&(this.num=NaN,this.unit=""),dse(r)&&(this.num=fse(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ur(NaN,""):new Ur(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fs(this.num)}}ID=Ur;sse(Ur,"NaN",new ID(NaN,""));function DD(e){if(e==null||e.includes(xl))return xl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=cE.exec(t))!==null&&r!==void 0?r:[],l=Ur.parse(n??""),c=Ur.parse(i??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return xl;t=t.replace(cE,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,h,x]=(f=uE.exec(t))!==null&&f!==void 0?f:[],v=Ur.parse(m??""),y=Ur.parse(x??""),w=h==="+"?v.add(y):v.subtract(y);if(w.isNaN())return xl;t=t.replace(uE,w.toString())}return t}var dE=/\(([^()]*)\)/;function mse(e){for(var t=e,r;(r=dE.exec(t))!=null;){var[,n]=r;t=t.replace(dE,DD(n))}return t}function hse(e){var t=e.replace(/\s+/g,"");return t=mse(t),t=DD(t),t}function pse(e){try{return hse(e)}catch{return xl}}function zv(e){var t=pse(e.slice(5,-1));return t===xl?"":t}var xse=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],gse=["dx","dy","angle","className","breakAll"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function fE(e,t){if(e==null)return{};var r,n,a=vse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RD=/[ \f\n\r\t\v\u2028\u2029]+/,_D=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];It(t)||(r?a=t.toString().split(""):a=t.toString().split(RD));var i=a.map(c=>({word:c,width:hu(c,n).width})),l=r?0:hu("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}};function bse(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var LD=(e,t,r,n)=>e.reduce((a,i)=>{var{word:l,width:c}=i,d=a[a.length-1];if(d&&c!=null&&(t==null||n||d.width+c+r<Number(t)))d.words.push(l),d.width+=c+r;else{var f={words:[l],width:c};a.push(f)}return a},[]),$D=e=>e.reduce((t,r)=>t.width>r.width?t:r),yse="",mE=(e,t,r,n,a,i,l,c)=>{var d=e.slice(0,t),f=_D({breakAll:r,style:n,children:d+yse});if(!f)return[!1,[]];var m=LD(f.wordsWithComputedWidth,i,l,c),h=m.length>a||$D(m).width>Number(i);return[h,m]},wse=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:c,breakAll:d}=e,f=Oe(i),m=String(l),h=LD(t,n,r,a);if(!f||a)return h;var x=h.length>i||$D(h).width>Number(n);if(!x)return h;for(var v=0,y=m.length-1,w=0,j;v<=y&&w<=m.length-1;){var S=Math.floor((v+y)/2),P=S-1,[k,E]=mE(m,P,d,c,i,n,r,a),[A]=mE(m,S,d,c,i,n,r,a);if(!k&&!A&&(v=S+1),k&&A&&(y=S-1),!k&&A){j=E;break}w++}return j||h},hE=e=>{var t=It(e)?[]:e.toString().split(RD);return[{words:t,width:void 0}]},jse=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!fd.isSsr){var c,d,f=_D({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:h}=f;c=m,d=h}else return hE(n);return wse({breakAll:i,children:n,maxLines:l,style:a},c,d,t,!!r)}return hE(n)},FD="#808080",Nse={angle:0,breakAll:!1,capHeight:"0.71em",fill:FD,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Bp=g.forwardRef((e,t)=>{var r=dr(e,Nse),{x:n,y:a,lineHeight:i,capHeight:l,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=r,h=fE(r,xse),x=g.useMemo(()=>jse({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:d,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,d,h.style,h.width]),{dx:v,dy:y,angle:w,className:j,breakAll:S}=h,P=fE(h,gse);if(!Js(n)||!Js(a)||x.length===0)return null;var k=Number(n)+(Oe(v)?v:0),E=Number(a)+(Oe(y)?y:0);if(!Pt(k)||!Pt(E))return null;var A;switch(m){case"start":A=zv("calc(".concat(l,")"));break;case"middle":A=zv("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:A=zv("calc(".concat(x.length-1," * -").concat(i,")"));break}var z=[];if(d){var O=x[0].width,{width:T}=h;z.push("scale(".concat(Oe(T)&&Oe(O)?T/O:1,")"))}return w&&z.push("rotate(".concat(w,", ").concat(k,", ").concat(E,")")),z.length&&(P.transform=z.join(" ")),g.createElement("text",wy({},sn(P),{ref:t,x:k,y:E,className:ut("recharts-text",j),textAnchor:f,fill:c.includes("url")?FD:c}),x.map((R,I)=>{var D=R.words.join(S?"":" ");return g.createElement("tspan",{x:k,dy:I===0?A:i,key:"".concat(D,"-").concat(I)},D)}))});Bp.displayName="Text";var Sse=["labelRef"],kse=["content"];function pE(e,t){if(e==null)return{};var r,n,a=Pse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){Cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cse(e,t,r){return(t=Ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ese(e){var t=Ase(e,"string");return typeof t=="symbol"?t:t+""}function Ase(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ba.apply(null,arguments)}var BD=g.createContext(null),zse=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:l,children:c}=e,d=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:l}),[t,r,n,a,i,l]);return g.createElement(BD.Provider,{value:d},c)},VD=()=>{var e=g.useContext(BD),t=xp();return e||sM(t)},Ose=g.createContext(null),Tse=()=>{var e=g.useContext(Ose),t=_e(TI);return e||t},Mse=e=>{var{value:t,formatter:r}=e,n=It(e.children)?t:e.children;return typeof r=="function"?r(n):n},pj=e=>e!=null&&typeof e=="function",Ise=(e,t)=>{var r=Ir(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Dse=(e,t,r,n,a)=>{var{offset:i,className:l}=e,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:h,endAngle:x,clockWise:v}=a,y=(f+m)/2,w=Ise(h,x),j=w>=0?1:-1,S,P;switch(t){case"insideStart":S=h+j*i,P=v;break;case"insideEnd":S=x-j*i,P=!v;break;case"end":S=x+j*i,P=v;break;default:throw new Error("Unsupported position ".concat(t))}P=w<=0?P:!P;var k=cr(c,d,y,S),E=cr(c,d,y,S+(P?1:-1)*359),A="M".concat(k.x,",").concat(k.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(P?0:1,`,
    `).concat(E.x,",").concat(E.y),z=It(e.id)?Cu("recharts-radial-line-"):e.id;return g.createElement("text",ba({},n,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",l)}),g.createElement("defs",null,g.createElement("path",{id:z,d:A})),g.createElement("textPath",{xlinkHref:"#".concat(z)},r))},Rse=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(r==="outside"){var{x:m,y:h}=cr(n,a,l+t,f);return{x:m,y:h,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(i+l)/2,{x:v,y}=cr(n,a,x,f);return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},jy=e=>"cx"in e&&Oe(e.cx),_se=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!jy(r)&&(i=r);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m}=t,h=l,x=l+(d-f)/2,v=(h+x)/2,y=(d+f)/2,w=h+d/2,j=m>=0?1:-1,S=j*n,P=j>0?"end":"start",k=j>0?"start":"end",E=d>=0?1:-1,A=E*n,z=E>0?"end":"start",O=E>0?"start":"end";if(a==="top"){var T={x:h+d/2,y:c-S,textAnchor:"middle",verticalAnchor:P};return er(er({},T),i?{height:Math.max(c-i.y,0),width:d}:{})}if(a==="bottom"){var R={x:x+f/2,y:c+m+S,textAnchor:"middle",verticalAnchor:k};return er(er({},R),i?{height:Math.max(i.y+i.height-(c+m),0),width:f}:{})}if(a==="left"){var I={x:v-A,y:c+m/2,textAnchor:z,verticalAnchor:"middle"};return er(er({},I),i?{width:Math.max(I.x-i.x,0),height:m}:{})}if(a==="right"){var D={x:v+y+A,y:c+m/2,textAnchor:O,verticalAnchor:"middle"};return er(er({},D),i?{width:Math.max(i.x+i.width-D.x,0),height:m}:{})}var _=i?{width:y,height:m}:{};return a==="insideLeft"?er({x:v+A,y:c+m/2,textAnchor:O,verticalAnchor:"middle"},_):a==="insideRight"?er({x:v+y-A,y:c+m/2,textAnchor:z,verticalAnchor:"middle"},_):a==="insideTop"?er({x:h+d/2,y:c+S,textAnchor:"middle",verticalAnchor:k},_):a==="insideBottom"?er({x:x+f/2,y:c+m-S,textAnchor:"middle",verticalAnchor:P},_):a==="insideTopLeft"?er({x:h+A,y:c+S,textAnchor:O,verticalAnchor:k},_):a==="insideTopRight"?er({x:h+d-A,y:c+S,textAnchor:z,verticalAnchor:k},_):a==="insideBottomLeft"?er({x:x+A,y:c+m-S,textAnchor:O,verticalAnchor:P},_):a==="insideBottomRight"?er({x:x+f-A,y:c+m-S,textAnchor:z,verticalAnchor:P},_):a&&typeof a=="object"&&(Oe(a.x)||Oa(a.x))&&(Oe(a.y)||Oa(a.y))?er({x:l+nn(a.x,y),y:c+nn(a.y,m),textAnchor:"end",verticalAnchor:"end"},_):er({x:w,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Lse={angle:0,offset:5,zIndex:rr.label,position:"middle",textBreakAll:!1};function gi(e){var t=dr(e,Lse),{viewBox:r,position:n,value:a,children:i,content:l,className:c="",textBreakAll:d,labelRef:f}=t,m=Tse(),h=VD(),x=n==="center"?h:m??h,v,y,w;if(r==null?v=x:jy(r)?v=r:v=sM(r),!v||It(a)&&It(i)&&!g.isValidElement(l)&&typeof l!="function")return null;var j=er(er({},t),{},{viewBox:v});if(g.isValidElement(l)){var{labelRef:S}=j,P=pE(j,Sse);return g.cloneElement(l,P)}if(typeof l=="function"){var{content:k}=j,E=pE(j,kse);if(y=g.createElement(l,E),g.isValidElement(y))return y}else y=Mse(t);var A=sn(t);if(jy(v)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Dse(t,n,y,A,v);w=Rse(v,t.offset,t.position)}else w=_se(t,v);return g.createElement(gn,{zIndex:t.zIndex},g.createElement(Bp,ba({ref:f,className:ut("recharts-label",c)},A,w,{textAnchor:bse(A.textAnchor)?A.textAnchor:w.textAnchor,breakAll:d}),y))}gi.displayName="Label";var $se=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(gi,ba({key:"label-implicit"},n)):Js(e)?g.createElement(gi,ba({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===gi?g.cloneElement(e,er({key:"label-implicit"},n)):g.createElement(gi,ba({key:"label-implicit",content:e},n)):pj(e)?g.createElement(gi,ba({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(gi,ba({},e,{key:"label-implicit"},n)):null};function Fse(e){var{label:t,labelRef:r}=e,n=VD();return $se(t,n,r)||null}var Ov={},Tv={},gE;function Bse(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Tv)),Tv}var Mv={},vE;function Vse(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Mv)),Mv}var bE;function Use(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bse(),r=Vse(),n=qw();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Ov)),Ov}var Iv,yE;function Wse(){return yE||(yE=1,Iv=Use().last),Iv}var Kse=Wse();const qse=Ms(Kse);var Hse=["valueAccessor"],Gse=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}function wE(e,t){if(e==null)return{};var r,n,a=Yse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xse=e=>Array.isArray(e.value)?qse(e.value):e.value,UD=g.createContext(void 0),xj=UD.Provider,WD=g.createContext(void 0),Qse=WD.Provider;function Zse(){return g.useContext(UD)}function Jse(){return g.useContext(WD)}function Em(e){var{valueAccessor:t=Xse}=e,r=wE(e,Hse),{dataKey:n,clockWise:a,id:i,textBreakAll:l,zIndex:c}=r,d=wE(r,Gse),f=Zse(),m=Jse(),h=f||m;return!h||!h.length?null:g.createElement(gn,{zIndex:c??rr.label},g.createElement(Xt,{className:"recharts-label-list"},h.map((x,v)=>{var y,w=It(n)?t(x,v):ht(x&&x.payload,n),j=It(i)?{}:{id:"".concat(i,"-").concat(v)};return g.createElement(gi,Ph({key:"label-".concat(v)},sn(x),d,j,{fill:(y=r.fill)!==null&&y!==void 0?y:x.fill,parentViewBox:x.parentViewBox,value:w,textBreakAll:l,viewBox:x.viewBox,index:v,zIndex:0}))})))}Em.displayName="LabelList";function Vp(e){var{label:t}=e;return t?t===!0?g.createElement(Em,{key:"labelList-implicit"}):g.isValidElement(t)||pj(t)?g.createElement(Em,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(Em,Ph({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(null,arguments)}var KD=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=ut("recharts-dot",a);return Oe(t)&&Oe(r)&&Oe(n)?g.createElement("circle",Ny({},pn(e),Kw(e),{className:i,cx:t,cy:r,r:n})):null},qD=e=>e.graphicalItems.polarItems,eae=ie([Bt,vd],$1),Up=ie([qD,Kt,eae],F1),tae=ie([Up],B1),Wp=ie([tae,Cp],V1),rae=ie([Wp,Kt,Up],W1);ie([Wp,Kt,Up],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=ht(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ht(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var jE=()=>{},nae=ie([Wp,Kt,Up,Dp,Bt],G1),sae=ie([Kt,q1,H1,jE,nae,jE,at,Bt],Y1),HD=ie([Kt,at,Wp,rae,gd,Bt,sae],X1),aae=ie([HD,Kt,Jl],J1);ie([Kt,HD,aae,Bt],tj);var iae={radiusAxis:{},angleAxis:{}},GD=In({name:"polarAxis",initialState:iae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Nme,removeRadiusAxis:Sme,addAngleAxis:kme,removeAngleAxis:Pme}=GD.actions,oae=GD.reducer;function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){lae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lae(e,t,r){return(t=cae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cae(e){var t=uae(e,"string");return typeof t=="symbol"?t:t+""}function uae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dae=(e,t)=>t,gj=ie([qD,dae],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),fae=[],vj=(e,t,r)=>(r==null?void 0:r.length)===0?fae:r,YD=ie([Cp,gj,vj],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>SE(SE({},t.presentationProps),i.props))),a!=null)return a}}),mae=ie([YD,gj,vj],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=ht(n,t.nameKey,t.name),c;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:Ai(l,t.dataKey),color:c,payload:n,type:t.legendType}})}),hae=ie([YD,gj,vj,br],(e,t,r,n)=>{if(!(t==null||e==null))return xie({offset:n,pieSettings:t,displayedData:e,cells:r})}),Dv={exports:{}},yt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function pae(){if(kE)return yt;kE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function y(w){if(typeof w=="object"&&w!==null){var j=w.$$typeof;switch(j){case e:switch(w=w.type,w){case r:case a:case n:case d:case f:case x:return w;default:switch(w=w&&w.$$typeof,w){case l:case c:case h:case m:return w;case i:return w;default:return j}}case t:return j}}}return yt.ContextConsumer=i,yt.ContextProvider=l,yt.Element=e,yt.ForwardRef=c,yt.Fragment=r,yt.Lazy=h,yt.Memo=m,yt.Portal=t,yt.Profiler=a,yt.StrictMode=n,yt.Suspense=d,yt.SuspenseList=f,yt.isContextConsumer=function(w){return y(w)===i},yt.isContextProvider=function(w){return y(w)===l},yt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},yt.isForwardRef=function(w){return y(w)===c},yt.isFragment=function(w){return y(w)===r},yt.isLazy=function(w){return y(w)===h},yt.isMemo=function(w){return y(w)===m},yt.isPortal=function(w){return y(w)===t},yt.isProfiler=function(w){return y(w)===a},yt.isStrictMode=function(w){return y(w)===n},yt.isSuspense=function(w){return y(w)===d},yt.isSuspenseList=function(w){return y(w)===f},yt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===d||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===h||w.$$typeof===m||w.$$typeof===l||w.$$typeof===i||w.$$typeof===c||w.$$typeof===v||w.getModuleId!==void 0)},yt.typeOf=y,yt}var PE;function xae(){return PE||(PE=1,Dv.exports=pae()),Dv.exports}var gae=xae(),CE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",EE=null,Rv=null,XD=e=>{if(e===EE&&Array.isArray(Rv))return Rv;var t=[];return g.Children.forEach(e,r=>{It(r)||(gae.isFragment(r)?t=t.concat(XD(r.props.children)):t.push(r))}),Rv=t,EE=e,t};function bj(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>CE(a)):n=[CE(t)],XD(e).forEach(a=>{var i=So(a,"type.displayName")||So(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var yj=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,_v={},AE;function vae(){return AE||(AE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(_v)),_v}var Lv,zE;function bae(){return zE||(zE=1,Lv=vae().isPlainObject),Lv}var yae=bae();const wae=Ms(yae);var OE,TE,ME,IE,DE;function RE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _E(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RE(Object(r),!0).forEach(function(n){jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jae(e,t,r){return(t=Nae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nae(e){var t=Sae(e,"string");return typeof t=="symbol"?t:t+""}function Sae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(null,arguments)}function tu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var LE=(e,t,r,n,a)=>{var i=r-n,l;return l=Gt(OE||(OE=tu(["M ",",",""])),e,t),l+=Gt(TE||(TE=tu(["L ",",",""])),e+r,t),l+=Gt(ME||(ME=tu(["L ",",",""])),e+r-i/2,t+a),l+=Gt(IE||(IE=tu(["L ",",",""])),e+r-i/2-n,t+a),l+=Gt(DE||(DE=tu(["L ",","," Z"])),e,t),l},kae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pae=e=>{var t=dr(e,kae),{x:r,y:n,upperWidth:a,lowerWidth:i,height:l,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:h}=t,x=g.useRef(null),[v,y]=g.useState(-1),w=g.useRef(a),j=g.useRef(i),S=g.useRef(l),P=g.useRef(r),k=g.useRef(n),E=Hl(e,"trapezoid-");if(g.useEffect(()=>{if(x.current&&x.current.getTotalLength)try{var W=x.current.getTotalLength();W&&y(W)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||l!==+l||a===0&&i===0||l===0)return null;var A=ut("recharts-trapezoid",c);if(!h)return g.createElement("g",null,g.createElement("path",Ch({},sn(t),{className:A,d:LE(r,n,a,i,l)})));var z=w.current,O=j.current,T=S.current,R=P.current,I=k.current,D="0px ".concat(v===-1?1:v,"px"),_="".concat(v,"px 0px"),F=bM(["strokeDasharray"],f,d);return g.createElement(ql,{animationId:E,key:E,canBegin:v>0,duration:f,easing:d,isActive:h,begin:m},W=>{var ne=mt(z,a,W),Q=mt(O,i,W),V=mt(T,l,W),q=mt(R,r,W),te=mt(I,n,W);x.current&&(w.current=ne,j.current=Q,S.current=V,P.current=q,k.current=te);var se=W>0?{transition:F,strokeDasharray:_}:{strokeDasharray:D};return g.createElement("path",Ch({},sn(t),{className:A,d:LE(q,te,ne,Q,V),ref:x,style:_E(_E({},se),t.style)}))})},Cae=["option","shapeType","activeClassName"];function Eae(e,t){if(e==null)return{};var r,n,a=Aae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Aae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(r),!0).forEach(function(n){zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zae(e,t,r){return(t=Oae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mae(e,t){return Eh(Eh({},t),e)}function Iae(e,t){return e==="symbols"}function FE(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(NM,r);case"trapezoid":return g.createElement(Pae,r);case"sector":return g.createElement(CM,r);case"symbols":if(Iae(t))return g.createElement(sT,r);break;case"curve":return g.createElement(jl,r);default:return null}}function Dae(e){return g.isValidElement(e)?e.props:e}function wj(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=Eae(e,Cae),i;if(g.isValidElement(t))i=g.cloneElement(t,Eh(Eh({},a),Dae(t)));else if(typeof t=="function")i=t(a,a.index);else if(wae(t)&&typeof t!="boolean"){var l=Mae(t,a);i=g.createElement(FE,{shapeType:r,elementProps:l})}else{var c=a;i=g.createElement(FE,{shapeType:r,elementProps:c})}return a.isActive?g.createElement(Xt,{className:n},i):i}var jj=(e,t,r)=>{var n=Ft();return(a,i)=>l=>{e==null||e(a,i,l),n(cD({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},Nj=e=>{var t=Ft();return(r,n)=>a=>{e==null||e(r,n,a),t(Ute())}},Sj=(e,t,r)=>{var n=Ft();return(a,i)=>l=>{e==null||e(a,i,l),n(Wte({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function Kp(e){var{tooltipEntrySettings:t}=e,r=Ft(),n=Rr(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r($te(t)):a.current!==t&&r(Fte({prev:a.current,next:t})),a.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{a.current&&(r(Bte(a.current)),a.current=null)},[r]),null}function kj(e){var{legendPayload:t}=e,r=Ft(),n=Rr(),a=g.useRef(null);return g.useLayoutEffect(()=>{n||(a.current===null?r(pM(t)):a.current!==t&&r(xM({prev:a.current,next:t})),a.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{a.current&&(r(gM(a.current)),a.current=null)},[r]),null}function Rae(e){var{legendPayload:t}=e,r=Ft(),n=_e(at),a=g.useRef(null);return g.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(pM(t)):a.current!==t&&r(xM({prev:a.current,next:t})),a.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{a.current&&(r(gM(a.current)),a.current=null)},[r]),null}var $v,_ae=()=>{var[e]=g.useState(()=>Cu("uid-"));return e},Lae=($v=Y6.useId)!==null&&$v!==void 0?$v:_ae;function $ae(e,t){var r=Lae();return t||(e?"".concat(e,"-").concat(r):r)}var Fae=g.createContext(void 0),qp=e=>{var{id:t,type:r,children:n}=e,a=$ae("recharts-".concat(r),t);return g.createElement(Fae.Provider,{value:a},n(a))},Bae={cartesianItems:[],polarItems:[]},QD=In({name:"graphicalItems",initialState:Bae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Rt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=zs(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Rt()},removeCartesianGraphicalItem:{reducer(e,t){var r=zs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Rt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Rt()},removePolarGraphicalItem:{reducer(e,t){var r=zs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Rt()}}}),{addCartesianGraphicalItem:Vae,replaceCartesianGraphicalItem:Uae,removeCartesianGraphicalItem:Wae,addPolarGraphicalItem:Kae,removePolarGraphicalItem:qae}=QD.actions,Hae=QD.reducer,Gae=e=>{var t=Ft(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Vae(e)):r.current!==e&&t(Uae({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(Wae(r.current)),r.current=null)},[t]),null},Pj=g.memo(Gae);function Yae(e){var t=Ft();return g.useLayoutEffect(()=>(t(Kae(e)),()=>{t(qae(e))}),[t,e]),null}var Xae=["key"],Qae=["onMouseEnter","onClick","onMouseLeave"],Zae=["id"],Jae=["id"];function BE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BE(Object(r),!0).forEach(function(n){eie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eie(e,t,r){return(t=tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tie(e){var t=rie(e,"string");return typeof t=="symbol"?t:t+""}function rie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(null,arguments)}function Hp(e,t){if(e==null)return{};var r,n,a=nie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sie(e){var t=g.useMemo(()=>bj(e.children,nc),[e.children]),r=_e(n=>mae(n,e.id,t));return r==null?null:g.createElement(Rae,{legendPayload:r})}var aie=g.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:c,hide:d,tooltipType:f,id:m}=e,h={dataDefinedOnItem:n.map(x=>x.tooltipPayload),positions:n.map(x=>x.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:Ai(c,t),hide:d,type:f,color:l,unit:"",graphicalItemId:m}};return g.createElement(Kp,{tooltipEntrySettings:h})}),iie=(e,t)=>e>t?"start":e<t?"end":"middle",oie=(e,t,r)=>nn(typeof t=="function"?t(e):t,r,r*.8),lie=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,c=SM(i,l),d=a+nn(e.cx,i,i/2),f=n+nn(e.cy,l,l/2),m=nn(e.innerRadius,c,0),h=oie(r,e.outerRadius,c),x=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:d,cy:f,innerRadius:m,outerRadius:h,maxRadius:x}},cie=(e,t)=>{var r=Ir(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function uie(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var die=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ut("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Hp(t,Xae);return g.createElement(jl,Ci({},a,{type:"linear",className:r}))},fie=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var a=ut("recharts-pie-label-text",uie(e));return g.createElement(Bp,Ci({},t,{alignmentBaseline:"middle",className:a}),n)};function mie(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var c=pn(r),d=jo(a),f=jo(i),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,h=t.map((x,v)=>{var y=(x.startAngle+x.endAngle)/2,w=cr(x.cx,x.cy,x.outerRadius+m,y),j=Yt(Yt(Yt(Yt({},c),x),{},{stroke:"none"},d),{},{index:v,textAnchor:iie(w.x,x.cx)},w),S=Yt(Yt(Yt(Yt({},c),x),{},{fill:"none",stroke:x.fill},f),{},{index:v,points:[cr(x.cx,x.cy,x.outerRadius,y),w],key:"line"});return g.createElement(gn,{zIndex:rr.label,key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(v)},g.createElement(Xt,null,i&&die(i,S),fie(a,j,ht(x,l))))});return g.createElement(Xt,{className:"recharts-pie-labels"},h)}function hie(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?g.createElement(Vp,{label:a}):g.createElement(mie,{sectors:t,props:r,showLabels:n})}function pie(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:i,id:l}=e,c=_e(Pi),d=_e(uj),f=_e(Are),{onMouseEnter:m,onClick:h,onMouseLeave:x}=a,v=Hp(a,Qae),y=jj(m,a.dataKey,l),w=Nj(x),j=Sj(h,a.dataKey,l);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((S,P)=>{if((S==null?void 0:S.startAngle)===0&&(S==null?void 0:S.endAngle)===0&&t.length!==1)return null;var k=f==null||f===l,E=String(P)===c&&(d==null||a.dataKey===d)&&k,A=c?n:null,z=r&&E?r:A,O=Yt(Yt({},S),{},{stroke:S.stroke,tabIndex:-1,[JT]:P,[eM]:l});return g.createElement(Xt,Ci({key:"sector-".concat(S==null?void 0:S.startAngle,"-").concat(S==null?void 0:S.endAngle,"-").concat(S.midAngle,"-").concat(P),tabIndex:-1,className:"recharts-pie-sector"},tp(v,S,P),{onMouseEnter:y(S,P),onMouseLeave:w(S,P),onClick:j(S,P)}),g.createElement(wj,Ci({option:i??z,index:P,shapeType:"sector",isActive:E},O)))}))}function xie(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:f,nameKey:m,tooltipType:h}=r,x=Math.abs(r.minAngle),v=cie(c,d),y=Math.abs(v),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,j=n.filter(z=>ht(z,f,0)!==0).length,S=(y>=360?j:j-1)*w,P=y-j*x-S,k=n.reduce((z,O)=>{var T=ht(O,f,0);return z+(Oe(T)?T:0)},0),E;if(k>0){var A;E=n.map((z,O)=>{var T=ht(z,f,0),R=ht(z,m,O),I=lie(r,i,z),D=(Oe(T)?T:0)/k,_,F=Yt(Yt({},z),a&&a[O]&&a[O].props);O?_=A.endAngle+Ir(v)*w*(T!==0?1:0):_=c;var W=_+Ir(v)*((T!==0?x:0)+D*P),ne=(_+W)/2,Q=(I.innerRadius+I.outerRadius)/2,V=[{name:R,value:T,payload:F,dataKey:f,type:h,graphicalItemId:r.id}],q=cr(I.cx,I.cy,Q,ne);return A=Yt(Yt(Yt(Yt({},r.presentationProps),{},{percent:D,cornerRadius:typeof l=="string"?parseFloat(l):l,name:R,tooltipPayload:V,midAngle:ne,middleRadius:Q,tooltipPosition:q},F),I),{},{value:T,dataKey:f,startAngle:_,endAngle:W,payload:F,paddingAngle:Ir(v)*w}),A})}return E}function gie(e){var{showLabels:t,sectors:r,children:n}=e,a=g.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return g.createElement(Qse,{value:t?a:void 0},n)}function vie(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:a,isAnimationActive:i,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:x}=t,v=Hl(t,"recharts-pie-"),y=r.current,[w,j]=g.useState(!1),S=g.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),P=g.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return g.createElement(gie,{showLabels:!w,sectors:a},g.createElement(ql,{animationId:v,begin:l,duration:c,isActive:i,easing:d,onAnimationStart:P,onAnimationEnd:S,key:v},k=>{var E=[],A=a&&a[0],z=A==null?void 0:A.startAngle;return a==null||a.forEach((O,T)=>{var R=y&&y[T],I=T>0?So(O,"paddingAngle",0):0;if(R){var D=mt(R.endAngle-R.startAngle,O.endAngle-O.startAngle,k),_=Yt(Yt({},O),{},{startAngle:z+I,endAngle:z+D+I});E.push(_),z=_.endAngle}else{var{endAngle:F,startAngle:W}=O,ne=mt(0,F-W,k),Q=Yt(Yt({},O),{},{startAngle:z+I,endAngle:z+ne+I});E.push(Q),z=Q.endAngle}}),r.current=E,g.createElement(Xt,null,g.createElement(pie,{sectors:E,activeShape:f,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:n}))}),g.createElement(hie,{showLabels:!w,sectors:a,props:t}),t.children)}var bie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:rr.area};function yie(e){var{id:t}=e,r=Hp(e,Zae),{hide:n,className:a,rootTabIndex:i}=e,l=g.useMemo(()=>bj(e.children,nc),[e.children]),c=_e(m=>hae(m,t,l)),d=g.useRef(null),f=ut("recharts-pie",a);return n||c==null?(d.current=null,g.createElement(Xt,{tabIndex:i,className:f})):g.createElement(gn,{zIndex:e.zIndex},g.createElement(aie,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:c,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Xt,{tabIndex:i,className:f},g.createElement(vie,{props:Yt(Yt({},r),{},{sectors:c}),previousSectorsRef:d,id:t})))}function ZD(e){var t=dr(e,bie),{id:r}=t,n=Hp(t,Jae),a=pn(n);return g.createElement(qp,{id:r,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(Yae,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),g.createElement(sie,Ci({},n,{id:i})),g.createElement(yie,Ci({},n,{id:i}))))}ZD.displayName="Pie";var wie=["points"];function VE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(r),!0).forEach(function(n){jie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jie(e,t,r){return(t=Nie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nie(e){var t=Sie(e,"string");return typeof t=="symbol"?t:t+""}function Sie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ah.apply(null,arguments)}function kie(e,t){if(e==null)return{};var r,n,a=Pie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cie(e){var{option:t,dotProps:r,className:n}=e;if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var a=ut(n,typeof t!="boolean"?t.className:""),i=r??{},{points:l}=i,c=kie(i,wie);return g.createElement(KD,Ah({},c,{className:a}))}function Eie(e,t){return e==null?!1:t?!0:e.length===1}function JD(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:l,needClip:c,clipPathId:d,zIndex:f=rr.scatter}=e;if(!Eie(t,r))return null;var m=yj(r),h=pq(r),x=t.map((y,w)=>{var j,S,P=Fv(Fv(Fv({r:3},l),h),{},{index:w,cx:(j=y.x)!==null&&j!==void 0?j:void 0,cy:(S=y.y)!==null&&S!==void 0?S:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return g.createElement(Cie,{key:"dot-".concat(w),option:r,dotProps:P,className:a})}),v={};return c&&d!=null&&(v.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),g.createElement(gn,{zIndex:f},g.createElement(Xt,Ah({className:n},v),x))}function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return(t=zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Oie(e,"string");return typeof t=="symbol"?t:t+""}function Oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eR=0,Tie={xAxis:{},yAxis:{},zAxis:{}},tR=In({name:"cartesianAxis",initialState:Tie,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Rt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Rt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Rt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Rt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Rt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Rt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Rt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Rt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Rt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var l=[...i,n].slice(-3);e.yAxis[r]=WE(WE({},e.yAxis[r]),{},{width:n,widthHistory:l})}}}}),{addXAxis:Mie,replaceXAxis:Iie,removeXAxis:Die,addYAxis:Rie,replaceYAxis:_ie,removeYAxis:Lie,addZAxis:Cme,replaceZAxis:Eme,removeZAxis:Ame,updateYAxisWidth:$ie}=tR.actions,Fie=tR.reducer,Bie=ie([br],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Vie=ie([Bie,La,$a],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Gp=()=>_e(Vie),Uie=()=>_e(Ire);function KE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(r),!0).forEach(function(n){Wie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wie(e,t,r){return(t=Kie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kie(e){var t=qie(e,"string");return typeof t=="symbol"?t:t+""}function qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hie=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=Bv(Bv(Bv({},c),jo(a)),Kw(a)),f;return g.isValidElement(a)?f=g.cloneElement(a,d):typeof a=="function"?f=a(d):f=g.createElement(KD,d),g.createElement(Xt,{className:"recharts-active-dot",clipPath:l},f)};function Sy(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:l=rr.activeDot}=e,c=_e(Pi),d=Uie();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return It(f)?null:g.createElement(gn,{zIndex:l},g.createElement(Hie,{point:f,childIndex:Number(c),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var qE=(e,t,r)=>{var n=r??e;if(!It(n))return nn(n,t,0)},Gie=(e,t,r)=>{var n={},a=e.filter(Op),i=e.filter(f=>f.stackId==null),l=a.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),n),c=Object.entries(l).map(f=>{var[m,h]=f,x=h.map(y=>y.dataKey),v=qE(t,r,h[0].barSize);return{stackId:m,dataKeys:x,barSize:v}}),d=i.map(f=>{var m=[f.dataKey].filter(x=>x!=null),h=qE(t,r,f.barSize);return{stackId:void 0,dataKeys:m,barSize:h}});return[...c,...d]};function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){Yie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yie(e,t,r){return(t=Xie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xie(e){var t=Qie(e,"string");return typeof t=="symbol"?t:t+""}function Qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zie(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=nn(e,r,0,!0),c,d=[];if(Pt(n[0].barSize)){var f=!1,m=r/i,h=n.reduce((S,P)=>S+(P.barSize||0),0);h+=(i-1)*l,h>=r&&(h-=(i-1)*l,l=0),h>=r&&m>0&&(f=!0,m*=.9,h=i*m);var x=(r-h)/2>>0,v={offset:x-l,size:0};c=n.reduce((S,P)=>{var k,E={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:v.offset+v.size+l,size:f?m:(k=P.barSize)!==null&&k!==void 0?k:0}},A=[...S,E];return v=A[A.length-1].position,A},d)}else{var y=nn(t,r,0,!0);r-2*y-(i-1)*l<=0&&(l=0);var w=(r-2*y-(i-1)*l)/i;w>1&&(w>>=0);var j=Pt(a)?Math.min(w,a):w;c=n.reduce((S,P,k)=>[...S,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:y+(w+l)*k+(w-j)/2,size:j}}],d)}return c}}var Jie=(e,t,r,n,a,i,l)=>{var c=It(l)?t:l,d=Zie(r,n,a!==i?a:i,e,c);return a!==i&&d!=null&&(d=d.map(f=>im(im({},f),{},{position:im(im({},f.position),{},{offset:f.position.offset-a/2})}))),d},eoe=(e,t)=>{var r=zp(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}};function toe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Pt(e.zIndex)?e.zIndex:t}var rR=e=>{var{chartData:t}=e,r=Ft(),n=Rr();return g.useEffect(()=>n?()=>{}:(r(eE(t)),()=>{r(eE(void 0))}),[t,r,n]),null},GE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},nR=In({name:"brush",initialState:GE,reducers:{setBrushSettings(e,t){return t.payload==null?GE:t.payload}}}),{setBrushSettings:zme}=nR.actions,roe=nR.reducer;function noe(e,t,r){return(t=soe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function soe(e){var t=aoe(e,"string");return typeof t=="symbol"?t:t+""}function aoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cj{static create(t){return new Cj(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}noe(Cj,"EPS",1e-4);function ioe(e){return(e%180+180)%180}var ooe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ioe(a),l=i*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},loe={dots:[],areas:[],lines:[]},sR=In({name:"referenceElements",initialState:loe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=zs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=zs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=zs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Ome,removeDot:Tme,addArea:Mme,removeArea:Ime,addLine:Dme,removeLine:Rme}=sR.actions,coe=sR.reducer,uoe=g.createContext(void 0),doe=e=>{var{children:t}=e,[r]=g.useState("".concat(Cu("recharts"),"-clip")),n=Gp();if(n==null)return null;var{x:a,y:i,width:l,height:c}=n;return g.createElement(uoe.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:a,y:i,height:c,width:l}))),t)};function aR(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function foe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return ooe(n,r)}function moe(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:c}=e;return t===1?{start:n?a:i,end:n?a+l:i+c}:{start:n?a+l:i+c,end:n?a:i}}function Bu(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function hoe(e,t){return aR(e,t+1)}function poe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:c}=t,d=0,f=1,m=l,h=function(){var y=n==null?void 0:n[d];if(y===void 0)return{v:aR(n,f)};var w=d,j,S=()=>(j===void 0&&(j=r(y,w)),j),P=y.coordinate,k=d===0||Bu(e,P,S,m,c);k||(d=0,m=l,f+=1),k&&(m=P+e*(S()/2+a),d+=f)},x;f<=i.length;)if(x=h(),x)return x.v;return[]}function xoe(e,t,r,n,a){var i=(n||[]).slice(),l=i.length;if(l===0)return[];for(var{start:c,end:d}=t,f=1;f<=l;f++){for(var m=(l-1)%f,h=c,x=!0,v=function(){var P=n[y],k=y,E,A=()=>(E===void 0&&(E=r(P,k)),E),z=P.coordinate,O=y===m||Bu(e,z,A,h,d);if(!O)return x=!1,1;O&&(h=z+e*(A()/2+a))},y=m;y<l&&!v();y+=f);if(x){for(var w=[],j=m;j<l;j+=f)w.push(n[j]);return w}}return[]}function YE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YE(Object(r),!0).forEach(function(n){goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function goe(e,t,r){return(t=voe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function voe(e){var t=boe(e,"string");return typeof t=="symbol"?t:t+""}function boe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yoe(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:c}=t,{end:d}=t,f=function(x){var v=i[x],y,w=()=>(y===void 0&&(y=r(v,x)),y);if(x===l-1){var j=e*(v.coordinate+e*w()/2-d);i[x]=v=Qr(Qr({},v),{},{tickCoord:j>0?v.coordinate-j*e:v.coordinate})}else i[x]=v=Qr(Qr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var S=Bu(e,v.tickCoord,w,c,d);S&&(d=v.tickCoord-e*(w()/2+a),i[x]=Qr(Qr({},v),{},{isShow:!0}))}},m=l-1;m>=0;m--)f(m);return i}function woe(e,t,r,n,a,i){var l=(n||[]).slice(),c=l.length,{start:d,end:f}=t;if(i){var m=n[c-1],h=r(m,c-1),x=e*(m.coordinate+e*h/2-f);if(l[c-1]=m=Qr(Qr({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate}),m.tickCoord!=null){var v=Bu(e,m.tickCoord,()=>h,d,f);v&&(f=m.tickCoord-e*(h/2+a),l[c-1]=Qr(Qr({},m),{},{isShow:!0}))}}for(var y=i?c-1:c,w=function(P){var k=l[P],E,A=()=>(E===void 0&&(E=r(k,P)),E);if(P===0){var z=e*(k.coordinate-e*A()/2-d);l[P]=k=Qr(Qr({},k),{},{tickCoord:z<0?k.coordinate-z*e:k.coordinate})}else l[P]=k=Qr(Qr({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var O=Bu(e,k.tickCoord,A,d,f);O&&(d=k.tickCoord+e*(A()/2+a),l[P]=Qr(Qr({},k),{},{isShow:!0}))}},j=0;j<y;j++)w(j);return l}function Ej(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:m,angle:h}=e;if(!a||!a.length||!n)return[];if(Oe(d)||fd.isSsr){var x;return(x=hoe(a,Oe(d)?d:0))!==null&&x!==void 0?x:[]}var v=[],y=c==="top"||c==="bottom"?"width":"height",w=m&&y==="width"?hu(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=(k,E)=>{var A=typeof f=="function"?f(k.value,E):k.value;return y==="width"?foe(hu(A,{fontSize:t,letterSpacing:r}),w,h):hu(A,{fontSize:t,letterSpacing:r})[y]},S=a.length>=2?Ir(a[1].coordinate-a[0].coordinate):1,P=moe(i,S,y);return d==="equidistantPreserveStart"?poe(S,P,j,a,l):d==="equidistantPreserveEnd"?xoe(S,P,j,a,l):(d==="preserveStart"||d==="preserveStartEnd"?v=woe(S,P,j,a,l,d==="preserveStartEnd"):v=yoe(S,P,j,a,l),v.filter(k=>k.isShow))}var joe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var h=m.getBoundingClientRect();h.width>l&&(l=h.width)}});var c=r?r.getBoundingClientRect().width:0,d=a+i,f=l+d+c+(r?n:0);return Math.round(f)}return 0},Noe=["axisLine","width","height","className","hide","ticks","axisType"];function Soe(e,t){if(e==null)return{};var r,n,a=koe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ao.apply(null,arguments)}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(n){Poe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Poe(e,t,r){return(t=Coe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Coe(e){var t=Eoe(e,"string");return typeof t=="symbol"?t:t+""}function Eoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ka={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:rr.axis};function Aoe(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=lr(lr(lr({},d),pn(c)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!l||i==="bottom"&&l);f=lr(lr({},f),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var h=+(i==="left"&&!l||i==="right"&&l);f=lr(lr({},f),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+a})}return g.createElement("line",Ao({},f,{className:ut("recharts-cartesian-axis-line",So(c,"className"))}))}function zoe(e,t,r,n,a,i,l,c,d){var f,m,h,x,v,y,w=c?-1:1,j=e.tickSize||l,S=Oe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=m=e.coordinate,x=r+ +!c*a,h=x-w*j,y=h-w*d,v=S;break;case"left":h=x=e.coordinate,m=t+ +!c*n,f=m-w*j,v=f-w*d,y=S;break;case"right":h=x=e.coordinate,m=t+ +c*n,f=m+w*j,v=f+w*d,y=S;break;default:f=m=e.coordinate,x=r+ +c*a,h=x+w*j,y=h+w*d,v=S;break}return{line:{x1:f,y1:h,x2:m,y2:x},tick:{x:v,y}}}function Ooe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Toe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Moe(e){var{option:t,tickProps:r,value:n}=e,a,i=ut(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,lr(lr({},r),{},{className:i}));else if(typeof t=="function")a=t(lr(lr({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=ut(l,t==null?void 0:t.className)),a=g.createElement(Bp,Ao({},r,{className:l}),n)}return a}var Ioe=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:l,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:h,x,y:v,width:y,height:w,tickSize:j,tickMargin:S,fontSize:P,letterSpacing:k,getTicksConfig:E,events:A,axisType:z}=e,O=Ej(lr(lr({},E),{},{ticks:r}),P,k),T=Ooe(m,h),R=Toe(m,h),I=pn(E),D=jo(n),_={};typeof a=="object"&&(_=a);var F=lr(lr({},I),{},{fill:"none"},_),W=O.map(V=>lr({entry:V},zoe(V,x,v,y,w,m,j,h,S))),ne=W.map(V=>{var{entry:q,line:te}=V;return g.createElement(Xt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},a&&g.createElement("line",Ao({},F,te,{className:ut("recharts-cartesian-axis-tick-line",So(a,"className"))})))}),Q=W.map((V,q)=>{var{entry:te,tick:se}=V,U=lr(lr(lr(lr({textAnchor:T,verticalAnchor:R},I),{},{stroke:"none",fill:i},D),se),{},{index:q,payload:te,visibleTicksCount:O.length,tickFormatter:l,padding:d},f);return g.createElement(Xt,Ao({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},tp(A,te,q)),n&&g.createElement(Moe,{option:n,tickProps:U,value:"".concat(typeof l=="function"?l(te.value,q):te.value).concat(c||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(z,"-ticks")},Q.length>0&&g.createElement(gn,{zIndex:rr.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(z,"-tick-labels"),ref:t},Q)),ne.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(z,"-tick-lines")},ne))}),Doe=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:l,ticks:c,axisType:d}=e,f=Soe(e,Noe),[m,h]=g.useState(""),[x,v]=g.useState(""),y=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return joe({ticks:y.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=g.useCallback(j=>{if(j){var S=j.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=S;var P=S[0];if(P){var k=window.getComputedStyle(P),E=k.fontSize,A=k.letterSpacing;(E!==m||A!==x)&&(h(E),v(A))}}},[m,x]);return l||n!=null&&n<=0||a!=null&&a<=0?null:g.createElement(gn,{zIndex:e.zIndex},g.createElement(Xt,{className:ut("recharts-cartesian-axis",i)},g.createElement(Aoe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:pn(e)}),g.createElement(Ioe,{ref:w,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:x,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(zse,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(Fse,{label:e.label,labelRef:e.labelRef}),e.children)))}),Aj=g.forwardRef((e,t)=>{var r=dr(e,ka);return g.createElement(Doe,Ao({},r,{ref:t}))});Aj.displayName="CartesianAxis";var Roe=["x1","y1","x2","y2","key"],_oe=["offset"],Loe=["xAxisId","yAxisId"],$oe=["xAxisId","yAxisId"];function QE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(r),!0).forEach(function(n){Foe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Foe(e,t,r){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Boe(e){var t=Voe(e,"string");return typeof t=="symbol"?t:t+""}function Voe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function io(){return io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},io.apply(null,arguments)}function zh(e,t){if(e==null)return{};var r,n,a=Uoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Woe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:c}=e;return g.createElement("rect",{x:n,y:a,ry:c,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function iR(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:l,x2:c,y2:d,key:f}=r,m=zh(r,Roe),h=(a=pn(m))!==null&&a!==void 0?a:{},{offset:x}=h,v=zh(h,_oe);n=g.createElement("line",io({},v,{x1:i,y1:l,x2:c,y2:d,fill:"none",key:f}))}return n}function Koe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,c=zh(e,Loe),d=a.map((f,m)=>{var h=Zr(Zr({},c),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(m),index:m});return g.createElement(iR,{key:"line-".concat(m),option:n,lineItemProps:h})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function qoe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,c=zh(e,$oe),d=a.map((f,m)=>{var h=Zr(Zr({},c),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(m),index:m});return g.createElement(iR,{option:n,lineItemProps:h,key:"line-".concat(m)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Hoe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(h=>Math.round(h+a-a)).sort((h,x)=>h-x);a!==f[0]&&f.unshift(0);var m=f.map((h,x)=>{var v=!f[x+1],y=v?a+l-h:f[x+1]-h;if(y<=0)return null;var w=x%t.length;return g.createElement("rect",{key:"react-".concat(x),y:h,x:n,height:y,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Goe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(h=>Math.round(h+a-a)).sort((h,x)=>h-x);a!==f[0]&&f.unshift(0);var m=f.map((h,x)=>{var v=!f[x+1],y=v?a+l-h:f[x+1]-h;if(y<=0)return null;var w=x%r.length;return g.createElement("rect",{key:"react-".concat(x),x:h,y:i,width:y,height:c,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Yoe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return YT(Ej(Zr(Zr(Zr({},ka),r),{},{ticks:XT(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Xoe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return YT(Ej(Zr(Zr(Zr({},ka),r),{},{ticks:XT(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Qoe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:rr.grid};function oR(e){var t=iM(),r=oM(),n=aM(),a=Zr(Zr({},dr(e,Qoe)),{},{x:Oe(e.x)?e.x:n.left,y:Oe(e.y)?e.y:n.top,width:Oe(e.width)?e.width:n.width,height:Oe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:c,y:d,width:f,height:m,syncWithTicks:h,horizontalValues:x,verticalValues:v}=a,y=Rr(),w=_e(R=>VC(R,"xAxis",i,y)),j=_e(R=>VC(R,"yAxis",l,y));if(!ea(f)||!ea(m)||!Oe(c)||!Oe(d))return null;var S=a.verticalCoordinatesGenerator||Yoe,P=a.horizontalCoordinatesGenerator||Xoe,{horizontalPoints:k,verticalPoints:E}=a;if((!k||!k.length)&&typeof P=="function"){var A=x&&x.length,z=P({yAxis:j?Zr(Zr({},j),{},{ticks:A?x:j.ticks}):void 0,width:t??f,height:r??m,offset:n},A?!0:h);nh(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(k=z)}if((!E||!E.length)&&typeof S=="function"){var O=v&&v.length,T=S({xAxis:w?Zr(Zr({},w),{},{ticks:O?v:w.ticks}):void 0,width:t??f,height:r??m,offset:n},O?!0:h);nh(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}return g.createElement(gn,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Woe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(Hoe,io({},a,{horizontalPoints:k})),g.createElement(Goe,io({},a,{verticalPoints:E})),g.createElement(Koe,io({},a,{offset:n,horizontalPoints:k,xAxis:w,yAxis:j})),g.createElement(qoe,io({},a,{offset:n,verticalPoints:E,xAxis:w,yAxis:j}))))}oR.displayName="CartesianGrid";var Zoe={},lR=In({name:"errorBars",initialState:Zoe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:_me,replaceErrorBar:Lme,removeErrorBar:$me}=lR.actions,Joe=lR.reducer,ele=["children"];function tle(e,t){if(e==null)return{};var r,n,a=rle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},sle=g.createContext(nle);function cR(e){var{children:t}=e,r=tle(e,ele);return g.createElement(sle.Provider,{value:r},t)}function Yp(e,t){var r,n,a=_e(f=>Va(f,e)),i=_e(f=>Ua(f,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Cr.allowDataOverflow,c=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Er.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function zj(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Gp(),{needClipX:i,needClipY:l,needClip:c}=Yp(t,r);if(!c||!a)return null;var{x:d,y:f,width:m,height:h}=a;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:i?d:d-m/2,y:l?f:f-h/2,width:i?m:m*2,height:l?h:h*2}))}var uR=(e,t,r,n)=>na(e,"xAxis",t,n),dR=(e,t,r,n)=>ra(e,"xAxis",t,n),fR=(e,t,r,n)=>na(e,"yAxis",r,n),mR=(e,t,r,n)=>ra(e,"yAxis",r,n),ale=ie([at,uR,fR,dR,mR],(e,t,r,n,a)=>aa(e,"xAxis")?Si(t,n,!1):Si(r,a,!1)),ile=(e,t,r,n,a)=>a;function ole(e){return e.type==="line"}var lle=ie([yd,ile],(e,t)=>e.filter(ole).find(r=>r.id===t)),cle=ie([at,uR,fR,dR,mR,lle,ale,A1],(e,t,r,n,a,i,l,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=c;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:h,data:x}=i,v;if(x!=null&&x.length>0?v=x:v=d==null?void 0:d.slice(f,m+1),v!=null)return Hle({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:h,bandSize:l,displayedData:v})}});function hR(e){var t=jo(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,l=Number(a),c=Number(i);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(c)||c<0)&&(c=n),{r:l,strokeWidth:c}}return{r,strokeWidth:n}}var Vv={exports:{}},Uv={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function ule(){if(ZE)return Uv;ZE=1;var e=Dl();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,c=e.useDebugValue;return Uv.useSyncExternalStoreWithSelector=function(d,f,m,h,x){var v=a(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=l(function(){function j(A){if(!S){if(S=!0,P=A,A=h(A),x!==void 0&&y.hasValue){var z=y.value;if(x(z,A))return k=z}return k=A}if(z=k,r(P,A))return z;var O=h(A);return x!==void 0&&x(z,O)?(P=A,z):(P=A,k=O)}var S=!1,P,k,E=m===void 0?null:m;return[function(){return j(f())},E===null?void 0:function(){return j(E())}]},[f,m,h,x]);var w=n(d,v[0],v[1]);return i(function(){y.hasValue=!0,y.value=w},[w]),c(w),w},Uv}var JE;function dle(){return JE||(JE=1,Vv.exports=ule()),Vv.exports}dle();function fle(e){e()}function mle(){let e=null,t=null;return{clear(){e=null,t=null},notify(){fle(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var eA={notify(){},get:()=>[]};function hle(e,t){let r,n=eA,a=0,i=!1;function l(w){m();const j=n.subscribe(w);let S=!1;return()=>{S||(S=!0,j(),h())}}function c(){n.notify()}function d(){y.onStateChange&&y.onStateChange()}function f(){return i}function m(){a++,r||(r=e.subscribe(d),n=mle())}function h(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=eA)}function x(){i||(i=!0,m())}function v(){i&&(i=!1,h())}const y={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:x,tryUnsubscribe:v,getListeners:()=>n};return y}var ple=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xle=ple(),gle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vle=gle(),ble=()=>xle||vle?g.useLayoutEffect:g.useEffect,yle=ble();function tA(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function wle(e,t){if(tA(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!tA(e[r[a]],t[r[a]]))return!1;return!0}var Wv=Symbol.for("react-redux-context"),Kv=typeof globalThis<"u"?globalThis:{};function jle(){if(!g.createContext)return{};const e=Kv[Wv]??(Kv[Wv]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Nle=jle();function Sle(e){const{children:t,context:r,serverState:n,store:a}=e,i=g.useMemo(()=>{const d=hle(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=g.useMemo(()=>a.getState(),[a]);yle(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const c=r||Nle;return g.createElement(c.Provider,{value:i},t)}var kle=Sle,Ple=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Cle(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Cd(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Ple.has(n)){if(e[n]==null&&t[n]==null)continue;if(!wle(e[n],t[n]))return!1}else if(!Cle(e[n],t[n]))return!1;return!0}var Ele=["id"],Ale=["type","layout","connectNulls","needClip","shape"],zle=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Vu(){return Vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vu.apply(null,arguments)}function rA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(r),!0).forEach(function(n){Ole(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ole(e,t,r){return(t=Tle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tle(e){var t=Mle(e,"string");return typeof t=="symbol"?t:t+""}function Mle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oj(e,t){if(e==null)return{};var r,n,a=Ile(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ile(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Dle=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Ai(r,t),payload:e}]},Rle=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:c,unit:d,tooltipType:f,id:m}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Ai(l,t),hide:c,type:f,color:n,unit:d,graphicalItemId:m}};return g.createElement(Kp,{tooltipEntrySettings:h})}),pR=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function _le(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Lle=(e,t,r)=>{var n=r.reduce((h,x)=>h+x);if(!n)return pR(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,c=[],d=0,f=0;d<r.length;f+=r[d],++d)if(f+r[d]>i){c=[...r.slice(0,d),i-f];break}var m=c.length%2===0?[0,l]:[l];return[..._le(r,a),...c,...m].map(h=>"".concat(h,"px")).join(", ")};function $le(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n,{id:c}=n,d=Oj(n,Ele),f=pn(d);return g.createElement(JD,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:f,needClip:l,clipPathId:t})}function Fle(e){var{showLabels:t,children:r,points:n}=e,a=g.useMemo(()=>n==null?void 0:n.map(i=>{var l,c,d={x:(l=i.x)!==null&&l!==void 0?l:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ks(Ks({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return g.createElement(xj,{value:t?a:void 0},r)}function nA(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:l,layout:c,connectNulls:d,needClip:f,shape:m}=i,h=Oj(i,Ale),x=Ks(Ks({},sn(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return g.createElement(g.Fragment,null,(n==null?void 0:n.length)>1&&g.createElement(wj,Vu({shapeType:"curve",option:m},x,{pathRef:r})),g.createElement($le,{points:n,clipPathId:t,props:i}))}function Ble(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Vle(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:h,animateNewValues:x,width:v,height:y,onAnimationEnd:w,onAnimationStart:j}=r,S=a.current,P=Hl(l,"recharts-line-"),k=g.useRef(P),[E,A]=g.useState(!1),z=!E,O=g.useCallback(()=>{typeof w=="function"&&w(),A(!1)},[w]),T=g.useCallback(()=>{typeof j=="function"&&j(),A(!0)},[j]),R=Ble(n.current),I=g.useRef(0);k.current!==P&&(I.current=i.current,k.current=P);var D=I.current;return g.createElement(Fle,{points:l,showLabels:z},r.children,g.createElement(ql,{animationId:P,begin:f,duration:m,isActive:d,easing:h,onAnimationEnd:O,onAnimationStart:T,key:P},_=>{var F=mt(D,R+D,_),W=Math.min(F,R),ne;if(d)if(c){var Q="".concat(c).split(/[,\s]+/gim).map(te=>parseFloat(te));ne=Lle(W,R,Q)}else ne=pR(R,W);else ne=c==null?void 0:String(c);if(_>0&&R>0&&(a.current=l,i.current=Math.max(i.current,W)),S){var V=S.length/l.length,q=_===1?l:l.map((te,se)=>{var U=Math.floor(se*V);if(S[U]){var X=S[U];return Ks(Ks({},te),{},{x:mt(X.x,te.x,_),y:mt(X.y,te.y,_)})}return x?Ks(Ks({},te),{},{x:mt(v*2,te.x,_),y:mt(y/2,te.y,_)}):Ks(Ks({},te),{},{x:te.x,y:te.y})});return a.current=q,g.createElement(nA,{props:r,points:q,clipPathId:t,pathRef:n,strokeDasharray:ne})}return g.createElement(nA,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:ne})}),g.createElement(Vp,{label:r.label}))}function Ule(e){var{clipPathId:t,props:r}=e,n=g.useRef(null),a=g.useRef(0),i=g.useRef(null);return g.createElement(Vle,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Wle=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:ht(e.payload,t)}};class Kle extends g.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:l,top:c,left:d,width:f,height:m,id:h,needClip:x,zIndex:v}=this.props;if(t)return null;var y=ut("recharts-line",a),w=h,{r:j,strokeWidth:S}=hR(r),P=yj(r),k=j*2+S,E=x?"url(#clipPath-".concat(P?"":"dots-").concat(w,")"):void 0;return g.createElement(gn,{zIndex:v},g.createElement(Xt,{className:y},x&&g.createElement("defs",null,g.createElement(zj,{clipPathId:w,xAxisId:i,yAxisId:l}),!P&&g.createElement("clipPath",{id:"clipPath-dots-".concat(w)},g.createElement("rect",{x:d-k/2,y:c-k/2,width:f+k,height:m+k}))),g.createElement(cR,{xAxisId:i,yAxisId:l,data:n,dataPointFormatter:Wle,errorBarOffset:0},g.createElement(Ule,{props:this.props,clipPathId:w}))),g.createElement(Sy,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:E}))}}var xR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:rr.line,type:"linear"};function qle(e){var t=dr(e,xR),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:c,dot:d,hide:f,isAnimationActive:m,label:h,legendType:x,xAxisId:v,yAxisId:y,id:w}=t,j=Oj(t,zle),{needClip:S}=Yp(v,y),P=Gp(),k=zi(),E=Rr(),A=_e(I=>cle(I,v,y,E,w));if(k!=="horizontal"&&k!=="vertical"||A==null||P==null)return null;var{height:z,width:O,x:T,y:R}=P;return g.createElement(Kle,Vu({},j,{id:w,connectNulls:c,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:m,hide:f,label:h,legendType:x,xAxisId:v,yAxisId:y,points:A,layout:k,height:z,width:O,left:T,top:R,needClip:S}))}function Hle(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:c,displayedData:d}=e;return d.map((f,m)=>{var h=ht(f,l);if(t==="horizontal"){var x=rh({axis:r,ticks:a,bandSize:c,entry:f,index:m}),v=It(h)?null:n.scale(h);return{x,y:v,value:h,payload:f}}var y=It(h)?null:r.scale(h),w=rh({axis:n,ticks:i,bandSize:c,entry:f,index:m});return y==null||w==null?null:{x:y,y:w,value:h,payload:f}}).filter(Boolean)}function Gle(e){var t=dr(e,xR),r=Rr();return g.createElement(qp,{id:t.id,type:"line"},n=>g.createElement(g.Fragment,null,g.createElement(kj,{legendPayload:Dle(t)}),g.createElement(Rle,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),g.createElement(Pj,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),g.createElement(qle,Vu({},t,{id:n}))))}var gR=g.memo(Gle,Cd);gR.displayName="Line";function ia(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:eR}function oa(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:eR}var vR=(e,t,r)=>na(e,"xAxis",ia(e,t),r),bR=(e,t,r)=>ra(e,"xAxis",ia(e,t),r),yR=(e,t,r)=>na(e,"yAxis",oa(e,t),r),wR=(e,t,r)=>ra(e,"yAxis",oa(e,t),r),Yle=ie([at,vR,yR,bR,wR],(e,t,r,n,a)=>aa(e,"xAxis")?Si(t,n,!1):Si(r,a,!1)),Xle=(e,t)=>t,jR=ie([yd,Xle],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),NR=e=>{var t=at(e),r=aa(t,"xAxis");return r?"yAxis":"xAxis"},Qle=(e,t)=>{var r=NR(e);return r==="yAxis"?oa(e,t):ia(e,t)},Zle=(e,t,r)=>Nh(e,NR(e),Qle(e,t),r),Jle=ie([jR,Zle],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=zp(e);if(!(n==null||a==null)){var i=(r=t[n])===null||r===void 0?void 0:r.stackedData,l=i==null?void 0:i.find(c=>c.key===a);if(l!=null)return l.map(c=>[c[0],c[1]])}}}),ece=ie([at,vR,yR,bR,wR,Jle,cI,Yle,jR,Tee],(e,t,r,n,a,i,l,c,d,f)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:x}=l;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||c==null)){var{data:v}=d,y;if(v&&v.length>0?y=v:y=m==null?void 0:m.slice(h,x+1),y!=null)return bce({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:h,areaSettings:d,stackedData:i,displayedData:y,chartBaseValue:f,bandSize:c})}}),tce=["id"],rce=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(null,arguments)}function SR(e,t){if(e==null)return{};var r,n,a=nce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(r),!0).forEach(function(n){sce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sce(e,t,r){return(t=ace(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ace(e){var t=ice(e,"string");return typeof t=="symbol"?t:t+""}function ice(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oh(e,t){return e&&e!=="none"?e:t}var oce=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:Oh(n,a),value:Ai(r,t),payload:e}]},lce=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:c,unit:d,tooltipType:f,id:m}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Ai(l,t),hide:c,type:f,color:Oh(n,i),unit:d,graphicalItemId:m}};return g.createElement(Kp,{tooltipEntrySettings:h})});function cce(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:l}=n,c=pn(n);return g.createElement(JD,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:c,needClip:a,clipPathId:t})}function uce(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var l,c,d={x:(l=i.x)!==null&&l!==void 0?l:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return gl(gl({},d),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return g.createElement(xj,{value:t?a:void 0},r)}function aA(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:l,type:c,stroke:d,connectNulls:f,isRange:m}=i,{id:h}=i,x=SR(i,tce),v=pn(x),y=sn(x);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(Xt,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},g.createElement(jl,ho({},y,{id:h,points:t,connectNulls:f,type:c,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&g.createElement(jl,ho({},v,{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&g.createElement(jl,ho({},v,{className:"recharts-area-curve",layout:l,type:c,connectNulls:f,fill:"none",points:r}))),g.createElement(cce,{points:t,props:x,clipPathId:a}))}function dce(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:l}=e,c=(t=i[0])===null||t===void 0?void 0:t.y,d=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!Pt(c)||!Pt(d))return null;var f=n*Math.abs(c-d),m=Math.max(...i.map(h=>h.x||0));return Oe(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(h=>h.x||0),m)),Oe(m)?g.createElement("rect",{x:0,y:c<d?c:c-f,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}function fce(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:l}=e,c=(t=i[0])===null||t===void 0?void 0:t.x,d=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!Pt(c)||!Pt(d))return null;var f=n*Math.abs(c-d),m=Math.max(...i.map(h=>h.y||0));return Oe(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(h=>h.y||0),m)),Oe(m)?g.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}function mce(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?g.createElement(dce,{alpha:t,points:n,baseLine:a,strokeWidth:i}):g.createElement(fce,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function hce(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:l,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:h,onAnimationStart:x,onAnimationEnd:v}=n,y=g.useMemo(()=>({points:l,baseLine:c}),[l,c]),w=Hl(y,"recharts-area-"),j=cX(),[S,P]=g.useState(!1),k=!S,E=g.useCallback(()=>{typeof v=="function"&&v(),P(!1)},[v]),A=g.useCallback(()=>{typeof x=="function"&&x(),P(!0)},[x]);if(j==null)return null;var z=a.current,O=i.current;return g.createElement(uce,{showLabels:k,points:l},n.children,g.createElement(ql,{animationId:w,begin:f,duration:m,isActive:d,easing:h,onAnimationEnd:E,onAnimationStart:A,key:w},T=>{if(z){var R=z.length/l.length,I=T===1?l:l.map((_,F)=>{var W=Math.floor(F*R);if(z[W]){var ne=z[W];return gl(gl({},_),{},{x:mt(ne.x,_.x,T),y:mt(ne.y,_.y,T)})}return _}),D;return Oe(c)?D=mt(O,c,T):It(c)||fs(c)?D=mt(O,0,T):D=c.map((_,F)=>{var W=Math.floor(F*R);if(Array.isArray(O)&&O[W]){var ne=O[W];return gl(gl({},_),{},{x:mt(ne.x,_.x,T),y:mt(ne.y,_.y,T)})}return _}),T>0&&(a.current=I,i.current=D),g.createElement(aA,{points:I,baseLine:D,needClip:t,clipPathId:r,props:n})}return T>0&&(a.current=l,i.current=c),g.createElement(Xt,null,d&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(mce,{alpha:T,points:l,baseLine:c,layout:j,strokeWidth:n.strokeWidth}))),g.createElement(Xt,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(aA,{points:l,baseLine:c,needClip:t,clipPathId:r,props:n})))}),g.createElement(Vp,{label:n.label}))}function pce(e){var{needClip:t,clipPathId:r,props:n}=e,a=g.useRef(null),i=g.useRef();return g.createElement(hce,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class xce extends g.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:l,needClip:c,xAxisId:d,yAxisId:f,width:m,height:h,id:x,baseLine:v,zIndex:y}=this.props;if(t)return null;var w=ut("recharts-area",a),j=x,{r:S,strokeWidth:P}=hR(r),k=yj(r),E=S*2+P,A=c?"url(#clipPath-".concat(k?"":"dots-").concat(j,")"):void 0;return g.createElement(gn,{zIndex:y},g.createElement(Xt,{className:w},c&&g.createElement("defs",null,g.createElement(zj,{clipPathId:j,xAxisId:d,yAxisId:f}),!k&&g.createElement("clipPath",{id:"clipPath-dots-".concat(j)},g.createElement("rect",{x:l-E/2,y:i-E/2,width:m+E,height:h+E}))),g.createElement(pce,{needClip:c,clipPathId:j,props:this.props})),g.createElement(Sy,{points:n,mainColor:Oh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}),this.props.isRange&&Array.isArray(v)&&g.createElement(Sy,{points:v,mainColor:Oh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}))}}var kR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:rr.area};function gce(e){var t,r=dr(e,kR),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:c,dot:d,fill:f,fillOpacity:m,hide:h,isAnimationActive:x,legendType:v,stroke:y,xAxisId:w,yAxisId:j}=r,S=SR(r,rce),P=zi(),k=kD(),{needClip:E}=Yp(w,j),A=Rr(),{points:z,isRange:O,baseLine:T}=(t=_e(W=>ece(W,e.id,A)))!==null&&t!==void 0?t:{},R=Gp();if(P!=="horizontal"&&P!=="vertical"||R==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:I,width:D,x:_,y:F}=R;return!z||!z.length?null:g.createElement(xce,ho({},S,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,baseLine:T,connectNulls:c,dot:d,fill:f,fillOpacity:m,height:I,hide:h,layout:P,isAnimationActive:x==="auto"?!fd.isSsr:x,isRange:O,legendType:v,needClip:E,points:z,stroke:y,width:D,left:_,top:F,xAxisId:w,yAxisId:j}))}var vce=(e,t,r,n,a)=>{var i=r??t;if(Oe(i))return i;var l=e==="horizontal"?a:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return i==="dataMin"?f:i==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function bce(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:l,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:h,yAxisTicks:x,bandSize:v}=e,y=a&&a.length,w=vce(i,l,r,c,d),j=i==="horizontal",S=!1,P=f.map((E,A)=>{var z,O,T;if(y)T=a[m+A];else{var R=ht(E,n);Array.isArray(R)?(T=R,S=!0):T=[w,R]}var I=(z=(O=T)===null||O===void 0?void 0:O[1])!==null&&z!==void 0?z:null,D=I==null||y&&!t&&ht(E,n)==null;return j?{x:rh({axis:c,ticks:h,bandSize:v,entry:E,index:A}),y:D?null:d.scale(I),value:T,payload:E}:{x:D?null:c.scale(I),y:rh({axis:d,ticks:x,bandSize:v,entry:E,index:A}),value:T,payload:E}}),k;return y||S?k=P.map(E=>{var A=Array.isArray(E.value)?E.value[0]:null;return j?{x:E.x,y:A!=null&&E.y!=null?d.scale(A):null,payload:E.payload}:{x:A!=null?c.scale(A):null,y:E.y,payload:E.payload}}):k=j?d.scale(w):c.scale(w),{points:P,baseLine:k,isRange:S}}function yce(e){var t=dr(e,kR),r=Rr();return g.createElement(qp,{id:t.id,type:"area"},n=>g.createElement(g.Fragment,null,g.createElement(kj,{legendPayload:oce(t)}),g.createElement(lce,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),g.createElement(Pj,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:QT(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),g.createElement(gce,ho({},t,{id:n}))))}var PR=g.memo(yce,Cd);PR.displayName="Area";var wce="Invariant failed";function jce(e,t){throw new Error(wce)}function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ky.apply(null,arguments)}function Th(e){return g.createElement(wj,ky({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Nce=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Oe(t))return t;var i=Oe(n)||It(n);return i?t(n,a):(i||jce(),r)}},Sce=(e,t,r)=>r,kce=(e,t)=>t,Ed=ie([yd,kce],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Pce=ie([Ed],e=>e==null?void 0:e.maxBarSize),Cce=(e,t,r,n)=>n,Ece=ie([at,yd,ia,oa,Sce],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Ace=(e,t,r)=>{var n=at(e),a=ia(e,t),i=oa(e,t);if(!(a==null||i==null))return n==="horizontal"?Nh(e,"yAxis",i,r):Nh(e,"xAxis",a,r)},zce=(e,t)=>{var r=at(e),n=ia(e,t),a=oa(e,t);if(!(n==null||a==null))return r==="horizontal"?BC(e,"xAxis",n):BC(e,"yAxis",a)},Oce=ie([Ece,Oee,zce],Gie),Tce=(e,t,r)=>{var n,a,i=Ed(e,t);if(i!=null){var l=ia(e,t),c=oa(e,t);if(!(l==null||c==null)){var d=at(e),f=SI(e),{maxBarSize:m}=i,h=It(m)?f:m,x,v;return d==="horizontal"?(x=na(e,"xAxis",l,r),v=ra(e,"xAxis",l,r)):(x=na(e,"yAxis",c,r),v=ra(e,"yAxis",c,r)),(n=(a=Si(x,v,!0))!==null&&a!==void 0?a:h)!==null&&n!==void 0?n:0}}},CR=(e,t,r)=>{var n=at(e),a=ia(e,t),i=oa(e,t);if(!(a==null||i==null)){var l,c;return n==="horizontal"?(l=na(e,"xAxis",a,r),c=ra(e,"xAxis",a,r)):(l=na(e,"yAxis",i,r),c=ra(e,"yAxis",i,r)),Si(l,c)}},Mce=ie([Oce,SI,zee,kI,Tce,CR,Pce],Jie),Ice=(e,t,r)=>{var n=ia(e,t);if(n!=null)return na(e,"xAxis",n,r)},Dce=(e,t,r)=>{var n=oa(e,t);if(n!=null)return na(e,"yAxis",n,r)},Rce=(e,t,r)=>{var n=ia(e,t);if(n!=null)return ra(e,"xAxis",n,r)},_ce=(e,t,r)=>{var n=oa(e,t);if(n!=null)return ra(e,"yAxis",n,r)},Lce=ie([Mce,Ed],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),$ce=ie([Ace,Ed],eoe),Fce=ie([br,r1,Ice,Dce,Rce,_ce,Lce,at,cI,CR,$ce,Ed,Cce],(e,t,r,n,a,i,l,c,d,f,m,h,x)=>{var{chartData:v,dataStartIndex:y,dataEndIndex:w}=d;if(!(h==null||l==null||t==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:j}=h,S;if(j!=null&&j.length>0?S=j:S=v==null?void 0:v.slice(y,w+1),S!=null)return pue({layout:c,barSettings:h,pos:l,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:m,displayedData:S,offset:e,cells:x,dataStartIndex:y})}}),Bce=["index"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function Vce(e,t){if(e==null)return{};var r,n,a=Uce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ER=g.createContext(void 0),Wce=e=>{var t=g.useContext(ER);if(t!=null)return t.stackId;if(e!=null)return QT(e)},Kce=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),qce=e=>{var t=g.useContext(ER);if(t!=null){var{stackId:r}=t;return"url(#".concat(Kce(r,e),")")}},Hce=e=>{var{index:t}=e,r=Vce(e,Bce),n=qce(t);return g.createElement(Xt,Py({className:"recharts-bar-stack-layer",clipPath:n},r))},Gce=["onMouseEnter","onMouseLeave","onClick"],Yce=["value","background","tooltipPosition"],Xce=["id"],Qce=["onMouseEnter","onClick","onMouseLeave"];function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(null,arguments)}function iA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(r),!0).forEach(function(n){Zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zce(e,t,r){return(t=Jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jce(e){var t=eue(e,"string");return typeof t=="symbol"?t:t+""}function eue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mh(e,t){if(e==null)return{};var r,n,a=tue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rue=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Ai(r,t),payload:e}]},nue=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:c,tooltipType:d,id:f}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Ai(i,t),hide:l,type:d,color:a,unit:c,graphicalItemId:f}};return g.createElement(Kp,{tooltipEntrySettings:m})});function sue(e){var t=_e(Pi),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:c,onClick:d}=i,f=Mh(i,Gce),m=jj(l,n,i.id),h=Nj(c),x=Sj(d,n,i.id);if(!a||r==null)return null;var v=jo(a);return g.createElement(gn,{zIndex:toe(a,rr.barBackground)},r.map((y,w)=>{var{value:j,background:S,tooltipPosition:P}=y,k=Mh(y,Yce);if(!S)return null;var E=m(y,w),A=h(y,w),z=x(y,w),O=cn(cn(cn(cn(cn({option:a,isActive:String(w)===t},k),{},{fill:"#eee"},S),v),tp(f,y,w)),{},{onMouseEnter:E,onMouseLeave:A,onClick:z,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return g.createElement(Th,_a({key:"background-bar-".concat(w)},O))}))}function aue(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var l={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return cn(cn({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return g.createElement(xj,{value:t?a:void 0},r)}function iue(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:l}=e,c=_e(Pi),d=_e(uj),f=r&&String(i)===c&&(d==null||l===d),m=f?r:t;return f?g.createElement(gn,{zIndex:rr.activeBar},g.createElement(Th,_a({},n,{name:String(n.name)},a,{isActive:f,option:m,index:i,dataKey:l}))):g.createElement(Th,_a({},n,{name:String(n.name)},a,{isActive:f,option:m,index:i,dataKey:l}))}function oue(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return g.createElement(Th,_a({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function lue(e){var t,{data:r,props:n}=e,a=(t=pn(n))!==null&&t!==void 0?t:{},{id:i}=a,l=Mh(a,Xce),{shape:c,dataKey:d,activeBar:f}=n,{onMouseEnter:m,onClick:h,onMouseLeave:x}=n,v=Mh(n,Qce),y=jj(m,d,i),w=Nj(x),j=Sj(h,d,i);return r?g.createElement(g.Fragment,null,r.map((S,P)=>g.createElement(Hce,_a({index:P,key:"rectangle-".concat(S==null?void 0:S.x,"-").concat(S==null?void 0:S.y,"-").concat(S==null?void 0:S.value,"-").concat(P),className:"recharts-bar-rectangle"},tp(v,S,P),{onMouseEnter:y(S,P),onMouseLeave:w(S,P),onClick:j(S,P)}),f?g.createElement(iue,{shape:c,activeBar:f,baseProps:l,entry:S,index:P,dataKey:d}):g.createElement(oue,{shape:c,baseProps:l,entry:S,index:P,dataKey:d})))):null}function cue(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=t,h=r.current,x=Hl(t,"recharts-bar-"),[v,y]=g.useState(!1),w=!v,j=g.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),S=g.useCallback(()=>{typeof m=="function"&&m(),y(!0)},[m]);return g.createElement(aue,{showLabels:w,rects:n},g.createElement(ql,{animationId:x,begin:l,duration:c,isActive:i,easing:d,onAnimationEnd:j,onAnimationStart:S,key:x},P=>{var k=P===1?n:n==null?void 0:n.map((E,A)=>{var z=h&&h[A];if(z)return cn(cn({},E),{},{x:mt(z.x,E.x,P),y:mt(z.y,E.y,P),width:mt(z.width,E.width,P),height:mt(z.height,E.height,P)});if(a==="horizontal"){var O=mt(0,E.height,P),T=mt(E.stackedBarStart,E.y,P);return cn(cn({},E),{},{y:T,height:O})}var R=mt(0,E.width,P),I=mt(E.stackedBarStart,E.x,P);return cn(cn({},E),{},{width:R,x:I})});return P>0&&(r.current=k??null),k==null?null:g.createElement(Xt,null,g.createElement(lue,{props:t,data:k}))}),g.createElement(Vp,{label:t.label}),t.children)}function uue(e){var t=g.useRef(null);return g.createElement(cue,{previousRectanglesRef:t,props:e})}var AR=0,due=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ht(e,t)}};class fue extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:c,background:d,id:f}=this.props;if(t||r==null)return null;var m=ut("recharts-bar",a),h=f;return g.createElement(Xt,{className:m,id:f},c&&g.createElement("defs",null,g.createElement(zj,{clipPathId:h,xAxisId:i,yAxisId:l})),g.createElement(Xt,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(h,")"):void 0},g.createElement(sue,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),g.createElement(uue,this.props)))}}var mue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:AR,xAxisId:0,yAxisId:0,zIndex:rr.bar};function hue(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=e,{needClip:h}=Yp(t,r),x=zi(),v=Rr(),y=bj(e.children,nc),w=_e(P=>Fce(P,e.id,v,y));if(x!=="vertical"&&x!=="horizontal")return null;var j,S=w==null?void 0:w[0];return S==null||S.height==null||S.width==null?j=0:j=x==="vertical"?S.height/2:S.width/2,g.createElement(cR,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:due,errorBarOffset:j},g.createElement(fue,_a({},e,{layout:x,needClip:h,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function pue(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:h,offset:x,cells:v,parentViewBox:y,dataStartIndex:w}=e,j=t==="horizontal"?c:l,S=m?j.scale.domain():null,P=EY({numericAxis:j}),k=j.scale(P);return h.map((E,A)=>{var z,O,T,R,I,D;if(m){var _=m[A+w];if(_==null)return null;z=NY(_,S)}else z=ht(E,r),Array.isArray(z)||(z=[P,z]);var F=Nce(n,AR)(z[1],A);if(t==="horizontal"){var W,[ne,Q]=[c.scale(z[0]),c.scale(z[1])];O=HP({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:E,index:A}),T=(W=Q??ne)!==null&&W!==void 0?W:void 0,R=a.size;var V=ne-Q;if(I=fs(V)?0:V,D={x:O,y:x.top,width:R,height:x.height},Math.abs(F)>0&&Math.abs(I)<Math.abs(F)){var q=Ir(I||F)*(Math.abs(F)-Math.abs(I));T-=q,I+=q}}else{var[te,se]=[l.scale(z[0]),l.scale(z[1])];if(O=te,T=HP({axis:c,ticks:f,bandSize:i,offset:a.offset,entry:E,index:A}),R=se-te,I=a.size,D={x:x.left,y:T,width:x.width,height:I},Math.abs(F)>0&&Math.abs(R)<Math.abs(F)){var U=Ir(R||F)*(Math.abs(F)-Math.abs(R));R+=U}}if(O==null||T==null||R==null||I==null)return null;var X=cn(cn({},E),{},{stackedBarStart:k,x:O,y:T,width:R,height:I,value:m?z:z[1],payload:E,background:D,tooltipPosition:{x:O+R/2,y:T+I/2},parentViewBox:y},v&&v[A]&&v[A].props);return X}).filter(Boolean)}function xue(e){var t=dr(e,mue),r=Wce(t.stackId),n=Rr();return g.createElement(qp,{id:t.id,type:"bar"},a=>g.createElement(g.Fragment,null,g.createElement(kj,{legendPayload:rue(t)}),g.createElement(nue,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),g.createElement(Pj,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),g.createElement(gn,{zIndex:t.zIndex},g.createElement(hue,_a({},t,{id:a})))))}var zR=g.memo(xue,Cd);zR.displayName="Bar";var gue=["domain","range"],vue=["domain","range"];function oA(e,t){if(e==null)return{};var r,n,a=bue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lA(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function OR(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=oA(e,gue),{domain:i,range:l}=t,c=oA(t,vue);return!lA(r,i)||!lA(n,l)?!1:Cd(a,c)}var yue=["dangerouslySetInnerHTML","ticks","scale"],wue=["id","scale"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function cA(e,t){if(e==null)return{};var r,n,a=jue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nue(e){var t=Ft(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Mie(e)):r.current!==e&&t(Iie({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Die(r.current)),r.current=null)},[t]),null}var Sue=e=>{var{xAxisId:t,className:r}=e,n=_e(r1),a=Rr(),i="xAxis",l=_e(S=>nD(S,i,t,a)),c=_e(S=>JI(S,t)),d=_e(S=>Ate(S,t)),f=_e(S=>II(S,t));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:h,scale:x}=e,v=cA(e,yue),{id:y,scale:w}=f,j=cA(f,wue);return g.createElement(Aj,Cy({},v,j,{x:d.x,y:d.y,width:c.width,height:c.height,className:ut("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l,axisType:i}))},kue={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:Cr.allowDecimals,allowDuplicatedCategory:Cr.allowDuplicatedCategory,angle:Cr.angle,axisLine:ka.axisLine,height:Cr.height,hide:!1,includeHidden:Cr.includeHidden,interval:Cr.interval,minTickGap:Cr.minTickGap,mirror:Cr.mirror,orientation:Cr.orientation,padding:Cr.padding,reversed:Cr.reversed,scale:Cr.scale,tick:Cr.tick,tickCount:Cr.tickCount,tickLine:ka.tickLine,tickSize:ka.tickSize,type:Cr.type,xAxisId:0},Pue=e=>{var t=dr(e,kue);return g.createElement(g.Fragment,null,g.createElement(Nue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(Sue,t))},Xp=g.memo(Pue,OR);Xp.displayName="XAxis";var Cue=["dangerouslySetInnerHTML","ticks","scale"],Eue=["id","scale"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(null,arguments)}function uA(e,t){if(e==null)return{};var r,n,a=Aue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Aue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zue(e){var t=Ft(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Rie(e)):r.current!==e&&t(_ie({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Lie(r.current)),r.current=null)},[t]),null}var Oue=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=g.useRef(null),l=g.useRef(null),c=_e(r1),d=Rr(),f=Ft(),m="yAxis",h=_e(z=>eD(z,t)),x=_e(z=>Ote(z,t)),v=_e(z=>nD(z,m,t,d)),y=_e(z=>DI(z,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!h||pj(a)||g.isValidElement(a)||y==null)){var z=i.current;if(z){var O=z.getCalculatedWidth();Math.round(h.width)!==Math.round(O)&&f($ie({id:t,width:O}))}}},[v,h,f,a,t,n,y]),h==null||x==null||y==null)return null;var{dangerouslySetInnerHTML:w,ticks:j,scale:S}=e,P=uA(e,Cue),{id:k,scale:E}=y,A=uA(y,Eue);return g.createElement(Aj,Ey({},P,A,{ref:i,labelRef:l,x:x.x,y:x.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:ut("recharts-".concat(m," ").concat(m),r),viewBox:c,ticks:v,axisType:m}))},Tue={allowDataOverflow:Er.allowDataOverflow,allowDecimals:Er.allowDecimals,allowDuplicatedCategory:Er.allowDuplicatedCategory,angle:Er.angle,axisLine:ka.axisLine,hide:!1,includeHidden:Er.includeHidden,interval:Er.interval,minTickGap:Er.minTickGap,mirror:Er.mirror,orientation:Er.orientation,padding:Er.padding,reversed:Er.reversed,scale:Er.scale,tick:Er.tick,tickCount:Er.tickCount,tickLine:ka.tickLine,tickSize:ka.tickSize,type:Er.type,width:Er.width,yAxisId:0},Mue=e=>{var t=dr(e,Tue);return g.createElement(g.Fragment,null,g.createElement(zue,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(Oue,t))},Qp=g.memo(Mue,OR);Qp.displayName="YAxis";var Iue=(e,t)=>t,Tj=ie([Iue,at,TI,wr,bD,Wa,qre,br],Jre),Mj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},TR=ms("mouseClick"),MR=cd();MR.startListening({actionCreator:TR,effect:(e,t)=>{var r=e.payload,n=Tj(t.getState(),Mj(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Kte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ay=ms("mouseMove"),IR=cd(),om=null;IR.startListening({actionCreator:Ay,effect:(e,t)=>{var r=e.payload;om!==null&&cancelAnimationFrame(om);var n=Mj(r);om=requestAnimationFrame(()=>{var a=t.getState(),i=sj(a,a.tooltip.settings.shared);if(i==="axis"){var l=Tj(a,n);(l==null?void 0:l.activeIndex)!=null?t.dispatch(dD({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(uD())}om=null})}});function Due(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var dA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},DR=In({name:"rootProps",initialState:dA,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:dA.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Rue=DR.reducer,{updateOptions:_ue}=DR.actions,RR=In({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Lue}=RR.actions,$ue=RR.reducer,_R=ms("keyDown"),LR=ms("focus"),Ij=cd();Ij.startListening({actionCreator:_R,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=aj(a,rc(r),jd(r),kd(r)),c=l==null?-1:Number(l);if(!(!Number.isFinite(c)||c<0)){var d=Wa(r);if(i==="Enter"){var f=kh(r,"axis","hover",String(a.index));t.dispatch(vy({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var m=Dte(r),h=m==="left-to-right"?1:-1,x=i==="ArrowRight"?1:-1,v=c+x*h;if(!(d==null||v>=d.length||v<0)){var y=kh(r,"axis","hover",String(v));t.dispatch(vy({active:!0,activeIndex:v.toString(),activeCoordinate:y}))}}}}}});Ij.startListening({actionCreator:LR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=kh(r,"axis","hover",String(i));t.dispatch(vy({active:!0,activeIndex:i,activeCoordinate:l}))}}}});var rs=ms("externalEvent"),$R=cd(),qv=new Map;$R.startListening({actionCreator:rs,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=qv.get(a);i!==void 0&&cancelAnimationFrame(i);var l=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:Ore(c),activeDataKey:uj(c),activeIndex:Pi(c),activeLabel:jD(c),activeTooltipIndex:Pi(c),isTooltipActive:Tre(c)};r(d,n)}finally{qv.delete(a)}});qv.set(a,l)}}});var Fue=ie([ec],e=>e.tooltipItemPayloads),Bue=ie([Fue,Sd,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(c=>c.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),FR=ms("touchMove"),BR=cd();BR.startListening({actionCreator:FR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=sj(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var l=Tj(n,Mj({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(dD({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(JT),h=(c=f.getAttribute(eM))!==null&&c!==void 0?c:void 0,x=tc(n).find(w=>w.id===h);if(m==null||x==null||h==null)return;var{dataKey:v}=x,y=Bue(n,m,h);t.dispatch(cD({activeDataKey:v,activeIndex:m,activeCoordinate:y,activeGraphicalItemId:h}))}}}});var Vue=yT({brush:roe,cartesianAxis:Fie,chartData:zne,errorBars:Joe,graphicalItems:Hae,layout:gY,legend:NX,options:kne,polarAxis:oae,polarOptions:$ue,referenceElements:coe,rootProps:Rue,tooltip:qte,zIndex:mne}),Uue=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return VG({reducer:Vue,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([MR.middleware,IR.middleware,Ij.middleware,$R.middleware,BR.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(DT({type:"raf"}))},devTools:{serialize:{replacer:Due},name:"recharts-".concat(r)}})};function VR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Rr(),i=g.useRef(null);if(a)return r;i.current==null&&(i.current=Uue(t,n));var l=Hw;return g.createElement(kle,{context:l,store:i.current},r)}function Wue(e){var{layout:t,margin:r}=e,n=Ft(),a=Rr();return g.useEffect(()=>{a||(n(hY(t)),n(mY(r)))},[n,a,t,r]),null}var UR=g.memo(Wue,Cd);function WR(e){var t=Ft();return g.useEffect(()=>{t(_ue(e))},[t,e]),null}function fA(e){var{zIndex:t,isPanorama:r}=e,n=g.useRef(null),a=Ft();return g.useLayoutEffect(()=>(n.current&&a(dne({zIndex:t,element:n.current,isPanorama:r})),()=>{a(fne({zIndex:t,isPanorama:r}))}),[a,t,r]),g.createElement("g",{tabIndex:-1,ref:n})}function mA(e){var{children:t,isPanorama:r}=e,n=_e(tne);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),i=n.filter(l=>l>0);return g.createElement(g.Fragment,null,a.map(l=>g.createElement(fA,{key:l,zIndex:l,isPanorama:r})),t,i.map(l=>g.createElement(fA,{key:l,zIndex:l,isPanorama:r})))}var Kue=["children"];function que(e,t){if(e==null)return{};var r,n,a=Hue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(null,arguments)}var Gue={width:"100%",height:"100%",display:"block"},Yue=g.forwardRef((e,t)=>{var r=iM(),n=oM(),a=vM();if(!ea(r)||!ea(n))return null;var{children:i,otherAttributes:l,title:c,desc:d}=e,f,m;return l!=null&&(typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0),g.createElement(_O,Ih({},l,{title:c,desc:d,role:m,tabIndex:f,width:r,height:n,style:Gue,ref:t}),i)}),Xue=e=>{var{children:t}=e,r=_e(hp);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return g.createElement(_O,{width:n,height:a,x:l,y:i},t)},hA=g.forwardRef((e,t)=>{var{children:r}=e,n=que(e,Kue),a=Rr();return a?g.createElement(Xue,null,g.createElement(mA,{isPanorama:!0},r)):g.createElement(Yue,Ih({ref:t},n),g.createElement(mA,{isPanorama:!1},r))});function Que(){var e=Ft(),[t,r]=g.useState(null),n=_e(IY);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Pt(i)&&i!==n&&e(xY(i))}},[t,e,n]),r}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){Jue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jue(e,t,r){return(t=ede(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ede(e){var t=tde(e,"string");return typeof t=="symbol"?t:t+""}function tde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zo.apply(null,arguments)}var rde=()=>($ne(),null);function Dh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nde=g.forwardRef((e,t)=>{var r,n,a=g.useRef(null),[i,l]=g.useState({containerWidth:Dh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Dh((n=e.style)===null||n===void 0?void 0:n.height)}),c=g.useCallback((f,m)=>{l(h=>{var x=Math.round(f),v=Math.round(m);return h.containerWidth===x&&h.containerHeight===v?h:{containerWidth:x,containerHeight:v}})},[]),d=g.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:h}=f.getBoundingClientRect();c(m,h);var x=y=>{var{width:w,height:j}=y[0].contentRect;c(w,j)},v=new ResizeObserver(x);v.observe(f),a.current=v}},[t,c]);return g.useEffect(()=>()=>{var f=a.current;f!=null&&f.disconnect()},[c]),g.createElement(g.Fragment,null,g.createElement(gp,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",zo({ref:d},e)))}),sde=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=g.useState({containerWidth:Dh(r),containerHeight:Dh(n)}),l=g.useCallback((d,f)=>{i(m=>{var h=Math.round(d),x=Math.round(f);return m.containerWidth===h&&m.containerHeight===x?m:{containerWidth:h,containerHeight:x}})},[]),c=g.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();l(f,m)}},[t,l]);return g.createElement(g.Fragment,null,g.createElement(gp,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",zo({ref:c},e)))}),ade=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(gp,{width:r,height:n}),g.createElement("div",zo({ref:t},e)))}),ide=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return Oa(r)||Oa(n)?g.createElement(sde,zo({},e,{ref:t})):g.createElement(ade,zo({},e,{ref:t}))});function ode(e){return e===!0?nde:ide}var lde=g.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:h,onMouseUp:x,onTouchEnd:v,onTouchMove:y,onTouchStart:w,style:j,width:S,responsive:P,dispatchTouchEvents:k=!0}=e,E=g.useRef(null),A=Ft(),[z,O]=g.useState(null),[T,R]=g.useState(null),I=Que(),D=n1(),_=(D==null?void 0:D.width)>0?D.width:S,F=(D==null?void 0:D.height)>0?D.height:a,W=g.useCallback(L=>{I(L),typeof t=="function"&&t(L),O(L),R(L),L!=null&&(E.current=L)},[I,t,O,R]),ne=g.useCallback(L=>{A(TR(L)),A(rs({handler:i,reactEvent:L}))},[A,i]),Q=g.useCallback(L=>{A(Ay(L)),A(rs({handler:f,reactEvent:L}))},[A,f]),V=g.useCallback(L=>{A(uD()),A(rs({handler:m,reactEvent:L}))},[A,m]),q=g.useCallback(L=>{A(Ay(L)),A(rs({handler:h,reactEvent:L}))},[A,h]),te=g.useCallback(()=>{A(LR())},[A]),se=g.useCallback(L=>{A(_R(L.key))},[A]),U=g.useCallback(L=>{A(rs({handler:l,reactEvent:L}))},[A,l]),X=g.useCallback(L=>{A(rs({handler:c,reactEvent:L}))},[A,c]),me=g.useCallback(L=>{A(rs({handler:d,reactEvent:L}))},[A,d]),de=g.useCallback(L=>{A(rs({handler:x,reactEvent:L}))},[A,x]),ve=g.useCallback(L=>{A(rs({handler:w,reactEvent:L}))},[A,w]),ke=g.useCallback(L=>{k&&A(FR(L)),A(rs({handler:y,reactEvent:L}))},[A,k,y]),Ee=g.useCallback(L=>{A(rs({handler:v,reactEvent:L}))},[A,v]),G=ode(P);return g.createElement(zD.Provider,{value:z},g.createElement(jq.Provider,{value:T},g.createElement(G,{width:_??(j==null?void 0:j.width),height:F??(j==null?void 0:j.height),className:ut("recharts-wrapper",n),style:Zue({position:"relative",cursor:"default",width:_,height:F},j),onClick:ne,onContextMenu:U,onDoubleClick:X,onFocus:te,onKeyDown:se,onMouseDown:me,onMouseEnter:Q,onMouseLeave:V,onMouseMove:q,onMouseUp:de,onTouchEnd:Ee,onTouchMove:ke,onTouchStart:ve,ref:W},g.createElement(rde,null),r)))}),cde=["width","height","responsive","children","className","style","compact","title","desc"];function ude(e,t){if(e==null)return{};var r,n,a=dde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KR=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:l,style:c,compact:d,title:f,desc:m}=e,h=ude(e,cde),x=pn(h);return d?g.createElement(g.Fragment,null,g.createElement(gp,{width:r,height:n}),g.createElement(hA,{otherAttributes:x,title:f,desc:m},i)):g.createElement(lde,{className:l,style:c,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(hA,{otherAttributes:x,title:f,desc:m,ref:t},g.createElement(doe,null,i)))});function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}var fde={top:5,right:5,bottom:5,left:5},mde={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:fde,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Dj=g.forwardRef(function(t,r){var n,a=dr(t.categoricalChartProps,mde),{chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:i,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(VR,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},g.createElement(rR,{chartData:f.data}),g.createElement(UR,{layout:a.layout,margin:a.margin}),g.createElement(WR,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),g.createElement(KR,zy({},a,{ref:r})))}),hde=["axis"],pde=g.forwardRef((e,t)=>g.createElement(Dj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hde,tooltipPayloadSearcher:$p,categoricalChartProps:e,ref:t})),xde=["axis","item"],gde=g.forwardRef((e,t)=>g.createElement(Dj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xde,tooltipPayloadSearcher:$p,categoricalChartProps:e,ref:t}));function vde(e){var t=Ft();return g.useEffect(()=>{t(Lue(e))},[t,e]),null}var bde=["layout"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function yde(e,t){if(e==null)return{};var r,n,a=wde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jde={top:5,right:5,bottom:5,left:5},qR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:jde,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Nde=g.forwardRef(function(t,r){var n,a=dr(t.categoricalChartProps,qR),{layout:i}=a,l=yde(a,bde),{chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m}=t,h={chartName:c,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return g.createElement(VR,{preloadedState:{options:h},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:c},g.createElement(rR,{chartData:a.data}),g.createElement(UR,{layout:i,margin:a.margin}),g.createElement(WR,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),g.createElement(vde,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),g.createElement(KR,Oy({},l,{ref:r})))});function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){Sde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sde(e,t,r){return(t=kde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kde(e){var t=Pde(e,"string");return typeof t=="symbol"?t:t+""}function Pde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cde=["item"],Ede=gA(gA({},qR),{},{layout:"centric",startAngle:0,endAngle:360}),Ade=g.forwardRef((e,t)=>{var r=dr(e,Ede);return g.createElement(Nde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Cde,tooltipPayloadSearcher:$p,categoricalChartProps:r,ref:t})}),zde=["axis"],Ode=g.forwardRef((e,t)=>g.createElement(Dj,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zde,tooltipPayloadSearcher:$p,categoricalChartProps:e,ref:t}));const Tde={"Main Branch":{primary:"#3b82f6",bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/30",gradient:"from-blue-500/20 to-blue-500/5"},"Kiserian Branch":{primary:"#10b981",bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/30",gradient:"from-emerald-500/20 to-emerald-500/5"},"Kisumu Branch":{primary:"#f59e0b",bg:"bg-amber-500/10",text:"text-amber-400",border:"border-amber-500/30",gradient:"from-amber-500/20 to-amber-500/5"},"Kakamega Branch":{primary:"#8b5cf6",bg:"bg-violet-500/10",text:"text-violet-400",border:"border-violet-500/30",gradient:"from-violet-500/20 to-violet-500/5"}},lm=["Main Branch","Kiserian Branch","Kisumu Branch","Kakamega Branch"],Mde={primary:"#71717a",bg:"bg-zinc-500/10",text:"text-zinc-400",border:"border-zinc-500/30",gradient:"from-zinc-500/20 to-zinc-500/5"},us=e=>Tde[e]||Mde,Ide=({value:e,format:t="currency"})=>{const[r,n]=g.useState(0);return g.useEffect(()=>{const l=33.333333333333336,c=e/30;let d=0;const f=setInterval(()=>{d++;const m=Math.min(e,c*d);n(m),d>=30&&(clearInterval(f),n(e))},l);return()=>clearInterval(f)},[e]),s.jsx("span",{className:"font-mono tabular-nums",children:t==="currency"?Re(r):Math.round(r).toLocaleString()})},Dde=()=>s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-500/10 border border-emerald-500/20 rounded-full",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),s.jsx("span",{className:"text-xs font-semibold text-emerald-400 uppercase tracking-wider",children:"Live"})]}),Rde=({data:e})=>{const t=e.trend>=0,r=t?Lh:KA;return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"This Week"}),s.jsx("p",{className:"text-lg font-bold text-white font-mono",children:Re(e.thisWeek)})]}),s.jsxs("div",{className:`flex items-center gap-1 px-2.5 py-1 rounded-lg ${t?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:[s.jsx(r,{className:"w-4 h-4"}),s.jsxs("span",{className:"text-sm font-bold",children:[t?"+":"",e.trend.toFixed(1),"%"]})]}),s.jsxs("div",{className:"text-right opacity-60",children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Last Week"}),s.jsx("p",{className:"text-sm text-zinc-400 font-mono",children:Re(e.lastWeek)})]})]})},cm=({label:e,value:t,trend:r,icon:n,format:a="currency",accentColor:i="#10b981",link:l,isAlert:c})=>{const d=r!=null,f=d&&r>=0,m=s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:l?{scale:1.02,y:-2}:{},transition:{duration:.3},className:`relative overflow-hidden bg-zinc-900/80 backdrop-blur-sm border border-zinc-800/50 rounded-2xl p-5 ${l?"cursor-pointer hover:border-zinc-700/50":""}`,style:{boxShadow:`0 0 40px -10px ${i}20`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 opacity-10 blur-2xl",style:{background:`radial-gradient(circle, ${i}, transparent)`}}),c&&t>0&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("span",{className:"relative flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl",style:{backgroundColor:`${i}15`},children:s.jsx(n,{className:"w-5 h-5",style:{color:i}})}),d&&s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-semibold ${f?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:[f?s.jsx(hn,{className:"w-3 h-3"}):s.jsx(vo,{className:"w-3 h-3"}),f?"+":"",r.toFixed(1),"%"]})]}),s.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider mb-1",children:e}),s.jsx("p",{className:"text-2xl font-bold text-white",children:s.jsx(Ide,{value:t,format:a})})]})]});return l?s.jsx("a",{href:l,className:"block",children:m}):m},_de=({branch:e,index:t})=>{const r=us(e.name),n=e.trend>=0,i=(c=>c===1?{icon:qu,color:"text-amber-400",bg:"bg-amber-500/20"}:c===2?{icon:DS,color:"text-zinc-300",bg:"bg-zinc-500/20"}:c===3?{icon:DS,color:"text-orange-400",bg:"bg-orange-500/20"}:{icon:vr,color:"text-zinc-500",bg:"bg-zinc-800"})(e.rank),l=i.icon;return s.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.1},className:`relative overflow-hidden bg-zinc-900/60 backdrop-blur-sm border ${r.border} rounded-2xl p-4`,children:[s.jsx("div",{className:`absolute top-3 left-3 flex items-center justify-center w-7 h-7 rounded-lg ${i.bg}`,children:s.jsx(l,{className:`w-3.5 h-3.5 ${i.color}`})}),s.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 opacity-20 blur-3xl",style:{background:r.primary}}),s.jsxs("div",{className:"ml-10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:`text-sm font-bold ${r.text}`,children:e.name.replace(" Branch","")}),s.jsxs("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded text-[10px] font-medium ${n?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:[n?s.jsx(Lh,{className:"w-2.5 h-2.5"}):s.jsx(KA,{className:"w-2.5 h-2.5"}),n?"+":"",e.trend.toFixed(0),"%"]})]}),s.jsx("p",{className:"text-xl font-bold text-white font-mono mb-2",children:Re(e.todayRevenue)}),s.jsxs("div",{className:"flex items-center gap-3 text-[10px]",children:[s.jsxs("div",{className:"flex items-center gap-1 text-zinc-400",children:[s.jsx(mn,{className:"w-3 h-3"}),s.jsxs("span",{children:[e.transactions," sales"]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-zinc-500",children:[s.jsx(GA,{className:"w-3 h-3"}),s.jsxs("span",{children:[e.contribution.toFixed(0),"%"]})]})]})]})]})},Lde=({data:e})=>{if(!e||e.length===0)return s.jsx("div",{className:"bg-zinc-900/60 border border-zinc-800/50 rounded-2xl p-5 h-[200px] flex items-center justify-center",children:s.jsx("p",{className:"text-zinc-600 text-sm",children:"No race data available"})});const t=Math.max(...e.map(a=>a.revenue)),r=e.reduce((a,i)=>a+i.revenue,0),n=({active:a,payload:i})=>{if(!a||!i||i.length===0)return null;const l=i[0].payload,c=us(l.name),d=r>0?(l.revenue/r*100).toFixed(1):"0";return s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-sm border border-zinc-700 rounded-xl p-3 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.primary}}),s.jsx("span",{className:`text-sm font-bold ${c.text}`,children:l.name})]}),s.jsx("p",{className:"text-white font-bold font-mono text-lg",children:Re(l.revenue)}),s.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-zinc-400",children:[s.jsxs("span",{children:[l.transactions," transactions"]}),s.jsxs("span",{children:[d,"% of total"]})]})]})};return s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-zinc-900/60 backdrop-blur-sm border border-zinc-800/50 rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:s.jsx(bu,{className:"w-4 h-4 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold text-white",children:"Today's Race"}),s.jsx("p",{className:"text-xs text-zinc-500",children:"Real-time branch competition"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-zinc-500",children:"Total Revenue"}),s.jsx("p",{className:"text-sm font-bold text-white font-mono",children:Re(r)})]})]}),s.jsx(pp,{width:"100%",height:160,children:s.jsxs(gde,{data:e,layout:"vertical",margin:{left:0,right:20},children:[s.jsx(Xp,{type:"number",stroke:"#52525b",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:a=>_w(a)}),s.jsx(Qp,{type:"category",dataKey:"name",stroke:"#52525b",fontSize:11,tickLine:!1,axisLine:!1,width:90,tickFormatter:a=>a.replace(" Branch","")}),s.jsx(Fp,{content:s.jsx(n,{}),cursor:{fill:"rgba(255,255,255,0.03)"}}),s.jsx(zR,{dataKey:"revenue",radius:[0,8,8,0],barSize:24,children:e.map(a=>{const i=a.revenue===t&&t>0,l=us(a.name);return s.jsx(nc,{fill:l.primary,opacity:i?1:.7,stroke:i?"#fbbf24":"transparent",strokeWidth:i?2:0},a.name)})})]})})]})},$de=({data:e,branchNames:t})=>{const r=({active:n,payload:a,label:i})=>!n||!a||a.length===0?null:s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-sm border border-zinc-700 rounded-xl p-4 shadow-2xl",children:[s.jsx("p",{className:"text-sm font-semibold text-white mb-3",children:i}),s.jsx("div",{className:"space-y-2",children:a.sort((l,c)=>(c.value||0)-(l.value||0)).map(l=>{const c=us(l.name);return s.jsxs("div",{className:"flex items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:l.color}}),s.jsx("span",{className:`text-sm ${c.text}`,children:l.name.replace(" Branch","")})]}),s.jsx("span",{className:"text-sm font-bold text-white font-mono",children:Re(l.value||0)})]},l.name)})})]});return!e||e.length===0?s.jsx("div",{className:"bg-zinc-900/60 border border-zinc-800/50 rounded-2xl p-6 h-[320px] flex items-center justify-center",children:s.jsx("p",{className:"text-zinc-600",children:"No weekly data available"})}):s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"bg-zinc-900/60 backdrop-blur-sm border border-zinc-800/50 rounded-2xl p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx(Wy,{className:"w-4 h-4 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold text-white",children:"7-Day Trend"}),s.jsx("p",{className:"text-xs text-zinc-500",children:"Branch revenue comparison"})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:t.map(n=>{const a=us(n);return s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:a.primary}}),s.jsx("span",{className:`text-[10px] ${a.text}`,children:n.replace(" Branch","")})]},n)})})]}),s.jsx(pp,{width:"100%",height:240,children:s.jsxs(pde,{data:e,children:[s.jsx(oR,{strokeDasharray:"3 3",stroke:"#27272a",vertical:!1}),s.jsx(Xp,{dataKey:"date",stroke:"#52525b",fontSize:11,tickLine:!1,axisLine:!1}),s.jsx(Qp,{stroke:"#52525b",fontSize:10,tickLine:!1,axisLine:!1,tickFormatter:n=>_w(n)}),s.jsx(Fp,{content:s.jsx(r,{})}),t.map(n=>{const a=us(n);return s.jsx(gR,{type:"monotone",dataKey:n,stroke:a.primary,strokeWidth:2,dot:{fill:a.primary,strokeWidth:0,r:3},activeDot:{r:5,strokeWidth:0}},n)})]})})]})},Fde=({data:e})=>{const t=e.reduce((a,i)=>a+i.revenue,0),r=[...e].map(a=>({name:a.name,value:a.revenue,percentage:t>0?(a.revenue/t*100).toFixed(1):"0"})).sort((a,i)=>i.value-a.value),n=({active:a,payload:i})=>{if(!a||!i||i.length===0)return null;const l=i[0].payload,c=us(l.name);return s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-sm border border-zinc-700 rounded-xl p-3 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.primary}}),s.jsx("span",{className:`text-sm font-bold ${c.text}`,children:l.name})]}),s.jsx("p",{className:"text-white font-bold font-mono",children:Re(l.value)}),s.jsxs("p",{className:"text-xs text-zinc-400",children:[l.percentage,"% share"]})]})};return!e||e.length===0||t===0?s.jsx("div",{className:"bg-zinc-900/60 border border-zinc-800/50 rounded-2xl p-5 h-full flex items-center justify-center",children:s.jsx("p",{className:"text-zinc-600 text-sm",children:"No data available"})}):s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-zinc-900/60 backdrop-blur-sm border border-zinc-800/50 rounded-2xl p-5 h-full",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-violet-500/10",children:s.jsx(U$,{className:"w-4 h-4 text-violet-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold text-white",children:"Branch Share"}),s.jsx("p",{className:"text-xs text-zinc-500",children:"Today's contribution"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(pp,{width:"100%",height:140,children:s.jsxs(Ade,{children:[s.jsx(ZD,{data:r,cx:"50%",cy:"50%",innerRadius:35,outerRadius:55,paddingAngle:4,dataKey:"value",stroke:"#09090b",strokeWidth:2,children:r.map(a=>{const i=us(a.name);return s.jsx(nc,{fill:i.primary},a.name)})}),s.jsx(Fp,{content:s.jsx(n,{})})]})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[9px] text-zinc-500 uppercase",children:"Total"}),s.jsx("p",{className:"text-xs font-bold text-white font-mono",children:_w(t)})]})})]}),s.jsx("div",{className:"space-y-1.5 mt-3",children:r.map((a,i)=>{const l=us(a.name),c=i===0;return s.jsxs("div",{className:`flex items-center justify-between py-1 px-2 rounded-lg ${c?"bg-amber-500/10":""}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-sm",style:{backgroundColor:l.primary}}),s.jsx("span",{className:`text-[11px] font-medium ${l.text}`,children:a.name.replace(" Branch","")}),c&&s.jsx(qu,{className:"w-2.5 h-2.5 text-amber-400"})]}),s.jsxs("span",{className:"text-[10px] font-bold text-zinc-400",children:[a.percentage,"%"]})]},a.name)})})]})},Bde=({data:e})=>{const t=({active:n,payload:a,label:i})=>{var l;return!n||!a||a.length===0?null:s.jsxs("div",{className:"bg-zinc-900/95 backdrop-blur-sm border border-zinc-700 rounded-xl p-3 shadow-2xl",children:[s.jsx("p",{className:"text-xs text-zinc-400 mb-1",children:i}),s.jsx("p",{className:"text-white font-bold font-mono",children:Re(((l=a[0])==null?void 0:l.value)||0)})]})};if(!e||e.length===0)return s.jsx("div",{className:"bg-zinc-900/60 border border-zinc-800/50 rounded-2xl p-5 h-full flex items-center justify-center",children:s.jsx("p",{className:"text-zinc-600 text-sm",children:"No trend data"})});const r=e.reduce((n,a)=>n+a.value,0);return s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3},className:"bg-zinc-900/60 backdrop-blur-sm border border-zinc-800/50 rounded-2xl p-5 h-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:s.jsx(hn,{className:"w-4 h-4 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold text-white",children:"Weekly Total"}),s.jsx("p",{className:"text-xs text-zinc-500",children:"7-day revenue"})]})]}),s.jsx("p",{className:"text-sm font-bold text-emerald-400 font-mono",children:Re(r)})]}),s.jsx(pp,{width:"100%",height:140,children:s.jsxs(Ode,{data:e,children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"revenueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),s.jsx(Xp,{dataKey:"name",stroke:"#52525b",fontSize:10,tickLine:!1,axisLine:!1}),s.jsx(Qp,{hide:!0}),s.jsx(Fp,{content:s.jsx(t,{})}),s.jsx(PR,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:2,fill:"url(#revenueGradient)"})]})})]})},Ty=e=>{switch(e){case"sale":return{icon:mn,color:"#10b981",bg:"bg-emerald-500/10"};case"reversal":return{icon:rn,color:"#ef4444",bg:"bg-red-500/10"};case"transfer":return{icon:Lh,color:"#3b82f6",bg:"bg-blue-500/10"};case"stock":return{icon:St,color:"#f59e0b",bg:"bg-amber-500/10"};case"login":return{icon:Wy,color:"#8b5cf6",bg:"bg-violet-500/10"};default:return{icon:GA,color:"#71717a",bg:"bg-zinc-500/10"}}},Vde=e=>{switch(e){case"sale":return"/admin/audit";case"reversal":return"/admin/audit";case"transfer":return"/admin/allocation";case"stock":return"/admin/inventory";case"login":return"/admin/audit";default:return"/admin/command-center"}},Ude=e=>{switch(e){case"sale":return"View in Sales Audit";case"reversal":return"View in Sales Audit";case"transfer":return"View Transfers";case"stock":return"View Inventory";case"login":return"View Audit Log";default:return"View Details"}},Wde=({activity:e,isOpen:t,onClose:r,onNavigate:n})=>{if(!t||!e)return null;const a=Ty(e.type),i=a.icon,l=e.branch?us(e.branch):null,c=Vde(e.type),d=Ude(e.type);return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-md",onClick:r}),s.jsxs(Z.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-md bg-zinc-900/80 backdrop-blur-xl border border-zinc-700/50 rounded-2xl shadow-2xl overflow-hidden",style:{boxShadow:`0 0 60px -15px ${a.color}30`},children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-32 opacity-20",style:{background:`linear-gradient(180deg, ${a.color}, transparent)`}}),s.jsxs("div",{className:"relative px-6 py-5 border-b border-zinc-700/50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl ${a.bg} flex items-center justify-center`,children:s.jsx(i,{className:"w-5 h-5",style:{color:a.color}})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white capitalize",children:e.type}),s.jsx("p",{className:"text-xs text-zinc-500 font-mono",children:"Transaction Details"})]})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5 text-zinc-500 hover:text-white"})})]}),s.jsxs("div",{className:"relative px-6 py-5 space-y-4",children:[e.receiptNumber&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-zinc-800/50 rounded-xl",children:[s.jsx(Hy,{className:"w-4 h-4 text-zinc-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Receipt Number"}),s.jsx("p",{className:"text-sm font-mono text-white",children:e.receiptNumber})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-zinc-800/50 rounded-xl",children:[s.jsx(ct,{className:"w-4 h-4 text-zinc-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Description"}),s.jsx("p",{className:"text-sm text-white",children:e.message})]})]}),e.amount!==void 0&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-zinc-800/50 rounded-xl",children:[s.jsx(az,{className:"w-4 h-4 text-zinc-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Amount"}),s.jsxs("p",{className:`text-xl font-bold font-mono ${e.type==="reversal"?"text-red-400":"text-emerald-400"}`,children:[e.type==="reversal"?"-":"",Re(e.amount)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.branch&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-zinc-800/50 rounded-xl",children:[s.jsx(vr,{className:"w-4 h-4 text-zinc-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Branch"}),s.jsx("p",{className:`text-sm font-medium ${(l==null?void 0:l.text)||"text-white"}`,children:e.branch.replace(" Branch","")})]})]}),e.user&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-zinc-800/50 rounded-xl",children:[s.jsx(Qs,{className:"w-4 h-4 text-zinc-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Processed By"}),s.jsx("p",{className:"text-sm font-medium text-white",children:e.user})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-zinc-800/50 rounded-xl",children:[s.jsx(zn,{className:"w-4 h-4 text-zinc-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase tracking-wider",children:"Timestamp"}),s.jsx("p",{className:"text-sm text-white font-mono",children:Cn(new Date(e.timestamp),"MMM d, yyyy HH:mm:ss")})]})]})]}),s.jsx("div",{className:"relative px-6 py-4 border-t border-zinc-700/50 bg-zinc-900/50",children:s.jsxs("button",{onClick:()=>n(c),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-zinc-700 to-zinc-800 hover:from-zinc-600 hover:to-zinc-700 text-white font-semibold rounded-xl transition-all group",children:[s.jsx(rb,{className:"w-4 h-4 group-hover:translate-x-0.5 transition-transform"}),d]})})]})]})},Kde=({data:e})=>{const t=sa(),[r,n]=g.useState(null),[a,i]=g.useState(!1),l=g.useMemo(()=>!e||e.length===0?[]:e.map(h=>({id:h.id,type:h.isReversed?"reversal":"sale",message:h.isReversed?`Sale #${h.receiptNumber} reversed`:`${h.itemSummary}`,branch:h.branch,amount:h.total,timestamp:h.createdAt,user:h.user,receiptNumber:h.receiptNumber,itemSummary:h.itemSummary})),[e]),c=4,d=l.length>c,f=h=>{n(h),i(!0)},m=h=>{i(!1),t(h)};return!e||e.length===0?s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-zinc-800 bg-zinc-900/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-zinc-600"}),s.jsx("span",{className:"text-sm font-semibold text-zinc-400 uppercase tracking-wider",children:"System Pulse"})]})}),s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-zinc-600 text-sm font-mono",children:"No activity recorded today"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-zinc-950 border border-zinc-800 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-zinc-800 bg-zinc-900/50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),s.jsx("span",{className:"text-sm font-semibold text-zinc-300 uppercase tracking-wider",children:"Live Activity"}),s.jsxs("span",{className:"text-xs text-zinc-600 font-mono",children:[" ",Cn(new Date,"MMM d, yyyy")]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:"text-xs text-zinc-500 font-mono",children:[l.length," events today"]})})]}),s.jsx("div",{className:"divide-y divide-zinc-800/50",children:l.slice(0,c).map((h,x)=>{const v=Ty(h.type),y=v.icon,w=h.branch?us(h.branch):null;return s.jsxs(Z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:x*.05},onClick:()=>f(h),className:"px-4 py-3 flex items-center gap-4 hover:bg-zinc-900/50 transition-colors cursor-pointer group",children:[s.jsx("div",{className:"w-16 flex-shrink-0",children:s.jsx("span",{className:"text-xs font-mono text-zinc-500",children:Cn(new Date(h.timestamp),"HH:mm")})}),s.jsx("div",{className:`w-7 h-7 rounded-lg ${v.bg} flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform`,children:s.jsx(y,{className:"w-3.5 h-3.5",style:{color:v.color}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-zinc-300 truncate group-hover:text-white transition-colors",children:h.message}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[h.branch&&w&&s.jsx("span",{className:`text-[10px] ${w.text}`,children:h.branch.replace(" Branch","")}),h.user&&s.jsxs("span",{className:"text-[10px] text-zinc-600",children:["by ",h.user]})]})]}),h.amount!==void 0&&s.jsx("div",{className:"flex-shrink-0 text-right",children:s.jsxs("span",{className:`text-sm font-mono font-semibold ${h.type==="reversal"?"text-red-400":"text-emerald-400"}`,children:[h.type==="reversal"?"-":"+",Re(h.amount)]})}),s.jsx(rb,{className:"w-3.5 h-3.5 text-zinc-600 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]},h.id)})}),d&&s.jsxs("div",{className:"border-t border-zinc-800",children:[s.jsx("div",{className:"px-4 py-2 bg-zinc-900/30",children:s.jsx("span",{className:"text-[10px] text-zinc-500 uppercase tracking-wider font-semibold",children:"Earlier Activity"})}),s.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar divide-y divide-zinc-800/30",children:l.slice(c).map(h=>{const x=Ty(h.type),v=x.icon,y=h.branch?us(h.branch):null;return s.jsxs("div",{onClick:()=>f(h),className:"px-4 py-2.5 flex items-center gap-4 hover:bg-zinc-900/50 transition-colors opacity-70 hover:opacity-100 cursor-pointer group",children:[s.jsx("div",{className:"w-16 flex-shrink-0",children:s.jsx("span",{className:"text-[11px] font-mono text-zinc-600",children:Cn(new Date(h.timestamp),"HH:mm")})}),s.jsx("div",{className:`w-6 h-6 rounded ${x.bg} flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform`,children:s.jsx(v,{className:"w-3 h-3",style:{color:x.color}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-zinc-400 truncate group-hover:text-zinc-200 transition-colors",children:h.message}),h.branch&&y&&s.jsx("span",{className:`text-[10px] ${y.text} opacity-70`,children:h.branch.replace(" Branch","")})]}),h.amount!==void 0&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:`text-xs font-mono ${h.type==="reversal"?"text-red-400/70":"text-emerald-400/70"}`,children:Re(h.amount)})}),s.jsx(rb,{className:"w-3 h-3 text-zinc-600 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0"})]},h.id)})})]}),s.jsxs("div",{className:"px-4 py-2 border-t border-zinc-800 bg-zinc-900/30 flex items-center justify-between",children:[s.jsxs("span",{className:"text-[10px] text-zinc-600 font-mono",children:["Last update: ",Cn(new Date,"HH:mm:ss")]}),s.jsx("span",{className:"text-[10px] text-zinc-600",children:"Click any item for details"})]})]}),s.jsx(Ve,{children:a&&s.jsx(Wde,{activity:r,isOpen:a,onClose:()=>i(!1),onNavigate:m})})]})},qde=()=>s.jsxs("div",{className:"p-6 space-y-6 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 bg-zinc-800 rounded-lg w-48"}),s.jsx("div",{className:"h-4 bg-zinc-800/50 rounded w-64"})]}),s.jsx("div",{className:"h-10 bg-zinc-800 rounded-full w-32"})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(e=>s.jsx("div",{className:"bg-zinc-900 rounded-2xl p-5 h-28"},e))}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(e=>s.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 h-32"},e))}),s.jsx("div",{className:"bg-zinc-900 rounded-2xl h-[200px]"}),s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-6 bg-zinc-900 rounded-2xl h-[300px]"}),s.jsx("div",{className:"col-span-3 bg-zinc-900 rounded-2xl h-[300px]"}),s.jsx("div",{className:"col-span-3 bg-zinc-900 rounded-2xl h-[300px]"})]})]});function Hde(){const[e,t]=g.useState(null),[r,n]=g.useState(!0),[a,i]=g.useState(null),[l,c]=g.useState(null),d=async()=>{var P,k,E,A;try{const z=await we.get("/admin/mission-control");(P=z.data)!=null&&P.error?(i(((k=z.data)==null?void 0:k.errorMessage)||"System temporarily unavailable"),t(null)):(t(z.data||null),i(null),c(new Date))}catch(z){i(((A=(E=z.response)==null?void 0:E.data)==null?void 0:A.message)||"Failed to load Command Center data"),t(null)}finally{n(!1)}};g.useEffect(()=>{d();const P=setInterval(d,3e4);return()=>clearInterval(P)},[]);const f=g.useMemo(()=>{if(!e)return null;const P=new Set,E=(e.branchRankings||[]).filter(T=>!lm.includes(T.name)||P.has(T.name)?!1:(P.add(T.name),!0)).slice(0,4).sort((T,R)=>R.todayRevenue-T.todayRevenue).map((T,R)=>({...T,rank:R+1})),A=new Set,z=(e.branchPerformance||[]).filter(T=>!lm.includes(T.name)||A.has(T.name)?!1:(A.add(T.name),!0)).slice(0,4),O=lm.filter(T=>(e.branchNames||[]).includes(T));return{...e,branchRankings:E,branchPerformance:z,branchNames:O.length>0?O:lm}},[e]);if(r)return s.jsx("div",{className:"min-h-screen bg-black",children:s.jsx(qde,{})});if(a||!f)return s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(St,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"System Error"}),s.jsx("p",{className:"text-zinc-500 mb-6",children:a||"Failed to load data"}),s.jsxs("button",{onClick:d,className:"px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl transition-colors font-semibold flex items-center gap-2 mx-auto",children:[s.jsx(rn,{className:"w-4 h-4"}),"Retry"]})]})});const{vitals:m,chartData:h,branchPerformance:x,recentActivity:v,weeklyBranchChart:y=[],branchRankings:w=[],weekComparison:j={thisWeek:0,lastWeek:0,trend:0},branchNames:S=[]}=f;return s.jsxs("div",{className:"min-h-screen bg-black",children:[s.jsx("div",{className:"sticky top-0 z-20 bg-black/80 backdrop-blur-xl border-b border-zinc-800/50",children:s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Command Center"}),s.jsxs("p",{className:"text-sm text-zinc-500",children:["Multi-branch performance monitoring",l&&s.jsxs("span",{className:"ml-2 text-zinc-600",children:[" Updated ",Cn(l,"HH:mm:ss")]})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx(Rde,{data:j}),s.jsx(Dde,{})]})]})})}),s.jsxs("div",{className:"p-6 space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsx(cm,{label:"Today's Revenue",value:m.todayRevenue||0,trend:m.revenueTrend,icon:az,accentColor:"#10b981",link:"/admin/audit"}),s.jsx(cm,{label:"Net Profit",value:m.todayProfit||0,trend:m.profitTrend,icon:hn,accentColor:"#3b82f6",link:"/admin/audit"}),s.jsx(cm,{label:"Outstanding Debt",value:m.totalDebt||0,icon:Or,accentColor:"#f59e0b",link:"/admin/debts"}),s.jsx(cm,{label:"Low Stock Alerts",value:m.lowStockCount||0,icon:St,format:"number",accentColor:"#ef4444",link:"/admin/inventory",isAlert:!0})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(qu,{className:"w-5 h-5 text-amber-400"}),s.jsx("h2",{className:"text-lg font-bold text-white",children:"Branch Leaderboard"}),s.jsx("span",{className:"text-xs text-zinc-500 bg-zinc-800/50 px-2 py-1 rounded-full",children:"Today"})]}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:w.map((P,k)=>s.jsx(_de,{branch:P,index:k},P.name))})]}),s.jsx(Lde,{data:x}),s.jsx(Kde,{data:v}),s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-6",children:s.jsx($de,{data:y,branchNames:S})}),s.jsx("div",{className:"col-span-3",children:s.jsx(Fde,{data:x})}),s.jsx("div",{className:"col-span-3",children:s.jsx(Bde,{data:h})})]})]}),s.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #3f3f46;
          border-radius: 2px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #52525b;
        }
      `})]})}const Gde=({currentStep:e,steps:t})=>s.jsx("div",{className:"flex items-center justify-between mb-8",children:t.map((r,n)=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all ${n<e?"bg-emerald-600 text-white":n===e?"bg-indigo-600 text-white ring-4 ring-indigo-600/30":"bg-zinc-800 text-zinc-500"}`,children:n<e?s.jsx(zr,{className:"w-5 h-5"}):n+1}),s.jsx("span",{className:`mt-2 text-xs font-bold uppercase tracking-wider ${n<=e?"text-white":"text-zinc-600"}`,children:r})]}),n<t.length-1&&s.jsx("div",{className:"flex-1 h-1 mx-4 bg-zinc-800 rounded-full overflow-hidden",children:s.jsx(Z.div,{className:"h-full bg-emerald-600",initial:{width:"0%"},animate:{width:n<e?"100%":"0%"},transition:{duration:.3}})})]},n))});function Yde({isOpen:e,onClose:t,branches:r,suppliers:n=[],onSuccess:a}){const[i,l]=g.useState(0),[c,d]=g.useState(!1),[f,m]=g.useState(null),h=["Product Details","Base Financials","Distribution"],x=T=>{try{const R=new Audio(T);R.volume=.5,R.play().catch(()=>{})}catch{}},[v,y]=g.useState({name:"",partNumber:"",vehicleMake:"",vehicleModel:"",category:"GENERAL",costPrice:"",sellingPrice:"",lowStockThreshold:5,supplierId:"",buyingPrice:""}),[w,j]=g.useState([]);g.useEffect(()=>{if(r.length>0&&w.length===0){const T=r.filter(R=>R.isActive).map(R=>({branchId:R.id,branchName:R.name,enabled:!1,quantity:0,sellingPrice:v.sellingPrice||"",lowStockThreshold:v.lowStockThreshold||5}));j(T)}},[r]),g.useEffect(()=>{v.sellingPrice&&j(T=>T.map(R=>({...R,sellingPrice:R.sellingPrice===""?v.sellingPrice:R.sellingPrice})))},[v.sellingPrice]);const S=w.filter(T=>T.enabled).reduce((T,R)=>T+Number(R.quantity||0),0),P=()=>{if(m(null),i===0){if(!v.name.trim())return m("Product name is required"),!1;if(!v.partNumber.trim())return m("Part number is required"),!1}if(i===1){if(!v.costPrice||Number(v.costPrice)<=0)return m("Valid cost price is required"),!1;if(!v.sellingPrice||Number(v.sellingPrice)<=0)return m("Valid selling price is required"),!1;if(Number(v.sellingPrice)<=Number(v.costPrice))return m("Selling price must be greater than cost price"),!1}return!0},k=()=>{P()&&l(T=>Math.min(T+1,h.length-1))},E=()=>{m(null),l(T=>Math.max(T-1,0))},A=T=>{j(R=>R.map(I=>I.branchId===T?{...I,enabled:!I.enabled}:I))},z=(T,R,I)=>{j(D=>D.map(_=>_.branchId===T?{..._,[R]:I}:_))},O=async()=>{try{d(!0),m(null),xe.loading("Creating product...",{id:"create-product"});const T=w.filter(I=>I.enabled).map(I=>({branchId:I.branchId,quantity:Number(I.quantity)||0,sellingPrice:I.sellingPrice!==""?Number(I.sellingPrice):null,lowStockThreshold:I.lowStockThreshold!==""?Number(I.lowStockThreshold):null,isActive:!0})),R={name:v.name,partNumber:v.partNumber,vehicleMake:v.vehicleMake||null,vehicleModel:v.vehicleModel||null,category:v.category,costPrice:Number(v.costPrice),sellingPrice:Number(v.sellingPrice),lowStockThreshold:Number(v.lowStockThreshold),isActive:!0,distribution:T,...v.supplierId&&{supplierId:v.supplierId,buyingPrice:v.buyingPrice?Number(v.buyingPrice):null}};console.log(" Creating product with payload:",R),await we.post("/products",R),xe.dismiss("create-product"),x("/sounds/success.mp3"),xe.success("Product Created",{description:"Inventory has been updated."}),setTimeout(()=>{a(),t()},1500)}catch(T){console.error(" Product creation failed:",T),xe.dismiss("create-product"),x("/sounds/error.mp3"),xe.error("Action Failed",{description:"We couldn't save this product. Please try again."}),m("We couldn't save this product. Please try again.")}finally{d(!1)}};return e?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t}),s.jsxs(Z.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-zinc-950 border border-zinc-800 rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-zinc-900/50 border-b border-zinc-800 px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ct,{className:"w-6 h-6 text-emerald-500"}),s.jsx("h2",{className:"text-2xl font-black text-white uppercase tracking-tight",children:"Add New Product"})]}),s.jsx("p",{className:"text-zinc-500 text-sm",children:"Create a product with multi-branch distribution"})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors group",children:s.jsx(Ze,{className:"w-6 h-6 text-zinc-500 group-hover:text-white transition-colors"})})]}),s.jsx("div",{className:"px-8 pt-6",children:s.jsx(Gde,{currentStep:i,steps:h})}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-8 py-6 bg-zinc-950",children:[s.jsxs(Ve,{mode:"wait",children:[i===0&&s.jsx(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"block text-xs font-bold text-zinc-400 uppercase tracking-wider mb-2",children:"Product Name *"}),s.jsx("input",{type:"text",value:v.name,onChange:T=>y({...v,name:T.target.value}),placeholder:"e.g., Brake Pad Set",className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-700 rounded-xl text-white placeholder-zinc-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all font-medium"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-zinc-400 uppercase tracking-wider mb-2",children:"Part Number (SKU) *"}),s.jsx("input",{type:"text",value:v.partNumber,onChange:T=>y({...v,partNumber:T.target.value}),placeholder:"e.g., BP-001",className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-700 rounded-xl text-indigo-400 font-mono placeholder-zinc-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-zinc-400 uppercase tracking-wider mb-2",children:"Category"}),s.jsxs("select",{value:v.category,onChange:T=>y({...v,category:T.target.value}),className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-700 rounded-xl text-white focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all",children:[s.jsx("option",{value:"GENERAL",children:"General"}),s.jsx("option",{value:"BRAKES",children:"Brakes"}),s.jsx("option",{value:"ENGINE",children:"Engine"}),s.jsx("option",{value:"SUSPENSION",children:"Suspension"}),s.jsx("option",{value:"ELECTRICAL",children:"Electrical"}),s.jsx("option",{value:"BODY",children:"Body"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-zinc-400 uppercase tracking-wider mb-2",children:"Vehicle Make"}),s.jsx("input",{type:"text",value:v.vehicleMake,onChange:T=>y({...v,vehicleMake:T.target.value}),placeholder:"e.g., Toyota",className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-700 rounded-xl text-white placeholder-zinc-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-zinc-400 uppercase tracking-wider mb-2",children:"Vehicle Model"}),s.jsx("input",{type:"text",value:v.vehicleModel,onChange:T=>y({...v,vehicleModel:T.target.value}),placeholder:"e.g., Corolla",className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-700 rounded-xl text-white placeholder-zinc-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]})]})},"step1"),i===1&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-zinc-400 uppercase tracking-wider mb-2",children:"Base Cost Price (KES) *"}),s.jsx("input",{type:"number",value:v.costPrice,onChange:T=>y({...v,costPrice:T.target.value}),placeholder:"0",className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-700 rounded-xl text-zinc-300 font-mono placeholder-zinc-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-emerald-500 uppercase tracking-wider mb-2",children:"Global Selling Price (KES) *"}),s.jsx("input",{type:"number",value:v.sellingPrice,onChange:T=>y({...v,sellingPrice:T.target.value}),placeholder:"0",className:"w-full px-4 py-3 bg-zinc-900 border border-emerald-900/50 rounded-xl text-emerald-400 font-mono font-bold placeholder-zinc-600 focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-red-500 uppercase tracking-wider mb-2",children:"Global Low Stock Alert"}),s.jsx("input",{type:"number",value:v.lowStockThreshold,onChange:T=>y({...v,lowStockThreshold:T.target.value}),placeholder:"5",className:"w-full px-4 py-3 bg-zinc-900 border border-red-900/50 rounded-xl text-red-400 font-mono font-bold placeholder-zinc-600 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"})]})]}),v.costPrice&&v.sellingPrice&&s.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6",children:[s.jsx("h3",{className:"text-sm font-bold text-zinc-400 uppercase tracking-wider mb-4",children:"Profit Preview"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-zinc-400",children:"Profit per Unit:"}),s.jsxs("span",{className:`text-2xl font-bold font-mono ${Number(v.sellingPrice)-Number(v.costPrice)>0?"text-emerald-500":"text-red-500"}`,children:["KES"," ",(Number(v.sellingPrice)-Number(v.costPrice)).toFixed(2)]})]})]}),n.length>0&&s.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(bo,{className:"w-4 h-4 text-blue-400"}),s.jsx("h4",{className:"text-sm font-bold text-zinc-300 uppercase tracking-wider",children:"Procurement Link"}),s.jsx("span",{className:"text-[10px] text-zinc-600 bg-zinc-800 px-2 py-0.5 rounded-full",children:"Optional"})]}),s.jsx("p",{className:"text-xs text-zinc-500 mb-4",children:"Link this product to a supplier to automatically populate the Procurement Catalog."}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-bold text-blue-400 uppercase tracking-wider",children:"Supplier"}),s.jsxs("div",{className:"relative",children:[s.jsx(bo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsxs("select",{value:v.supplierId,onChange:T=>y({...v,supplierId:T.target.value}),className:"w-full pl-10 pr-10 py-3 bg-zinc-900 border border-zinc-700 rounded-xl text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none cursor-pointer",children:[s.jsx("option",{value:"",children:"No Supplier Linked"}),n.filter(T=>T.isActive).map(T=>s.jsxs("option",{value:T.id,children:[T.name," (",T.location,")"]},T.id))]}),s.jsx(Wr,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500 pointer-events-none"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-xs font-bold text-amber-400 uppercase tracking-wider",children:"Buying Price (KES)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsx("input",{type:"number",placeholder:"Wholesale price",value:v.buyingPrice,onChange:T=>y({...v,buyingPrice:T.target.value}),disabled:!v.supplierId,className:`w-full pl-10 pr-4 py-3 bg-zinc-900 border rounded-xl font-mono placeholder-zinc-600 focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all ${v.supplierId?"border-zinc-700 text-amber-400":"border-zinc-800/50 text-zinc-600 cursor-not-allowed"}`})]}),!v.supplierId&&s.jsx("p",{className:"text-[10px] text-zinc-600",children:"Select a supplier first"})]})]})]})]},"step2"),i===2&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-emerald-600 to-emerald-700 rounded-xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold uppercase tracking-wider opacity-90",children:"Total Initial Stock"}),s.jsxs("p",{className:"text-4xl font-black mt-1",children:[S," Units"]})]}),s.jsx(vr,{className:"w-12 h-12 opacity-50"})]})}),s.jsx("div",{className:"border border-zinc-800 rounded-2xl overflow-hidden bg-zinc-900/50",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-900 border-b border-zinc-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Enable"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Initial Stock"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Branch Price (KES)"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Low Stock Alert"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-800",children:w.map(T=>s.jsxs("tr",{className:`transition-all ${T.enabled?"bg-zinc-900/50 hover:bg-zinc-800":"bg-zinc-950 opacity-40"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:T.enabled,onChange:()=>A(T.branchId),className:"w-5 h-5 rounded border-zinc-700 text-emerald-600 focus:ring-2 focus:ring-emerald-500 focus:ring-offset-0 bg-zinc-900"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${T.enabled?"bg-emerald-500":"bg-zinc-700"}`}),s.jsx("span",{className:"font-bold text-zinc-300",children:T.branchName})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"number",value:T.quantity,onChange:R=>z(T.branchId,"quantity",R.target.value),disabled:!T.enabled,className:"w-28 px-3 py-2 bg-zinc-950 border border-zinc-700 rounded-lg text-white font-mono focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all disabled:opacity-30 disabled:cursor-not-allowed"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"number",value:T.sellingPrice,onChange:R=>z(T.branchId,"sellingPrice",R.target.value),disabled:!T.enabled,placeholder:`Default: ${v.sellingPrice}`,className:"w-32 px-3 py-2 bg-zinc-950 border border-zinc-700 rounded-lg text-white font-mono focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all disabled:opacity-30 disabled:cursor-not-allowed placeholder-zinc-700"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"number",value:T.lowStockThreshold,onChange:R=>z(T.branchId,"lowStockThreshold",R.target.value),disabled:!T.enabled,placeholder:`Default: ${v.lowStockThreshold}`,className:"w-24 px-3 py-2 bg-zinc-950 border border-zinc-700 rounded-lg text-white font-mono focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all disabled:opacity-30 disabled:cursor-not-allowed placeholder-zinc-700"})})]},T.branchId))})]})})]},"step3")]}),f&&s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-4 bg-red-900/20 border border-red-800 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(tn,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),s.jsx("p",{className:"text-red-400 text-sm",children:f})]})]}),s.jsxs("div",{className:"border-t border-zinc-800 px-8 py-6 bg-zinc-900 flex items-center justify-between",children:[s.jsxs("button",{onClick:E,disabled:i===0||c,className:"px-6 py-3 border border-zinc-700 rounded-xl text-zinc-400 font-bold hover:bg-zinc-800 hover:text-white transition-colors text-sm uppercase tracking-wide flex items-center gap-2 disabled:opacity-30 disabled:cursor-not-allowed",children:[s.jsx(k$,{className:"w-4 h-4"}),"Back"]}),s.jsx("div",{className:"flex items-center gap-3",children:i<h.length-1?s.jsxs("button",{onClick:k,disabled:c,className:"px-8 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-500 transition-colors font-bold shadow-lg shadow-emerald-900/20 text-sm uppercase tracking-wide flex items-center gap-2",children:["Next",s.jsx(Xs,{className:"w-4 h-4"})]}):s.jsx("button",{onClick:O,disabled:c,className:"px-8 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-500 transition-colors font-bold shadow-lg shadow-emerald-900/20 text-sm uppercase tracking-wide flex items-center gap-2 disabled:opacity-50",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-4 h-4"}),"Create Product"]})})})]})]})]}):null}const vA=e=>{try{const t=e==="success"?"/sounds/info.mp3":"/sounds/error.mp3",r=new Audio(t);r.volume=.5,r.play().catch(n=>{console.warn("Audio playback failed:",n)})}catch(t){console.warn("Failed to play notification sound:",t)}},iu=e=>{try{const t=Number(e);return isNaN(t)?Re(0):Re(t)}catch{return Re(0)}},Xde=({branches:e,currentContext:t,onContextChange:r})=>{const[n,a]=g.useState(!1);console.log(" ContextSwitcher rendered with:",{branchesCount:e.length,branches:e,currentContext:t});const i=()=>{if(t==="GLOBAL")return"Global Overview";if(t==="CRITICAL")return"Critical Stock Only";const c=e.find(d=>d.id===t);return c?c.name:"Global Overview"},l=()=>t==="GLOBAL"?"":t==="CRITICAL"?"":"";return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>a(!n),className:"px-6 py-3 bg-zinc-950/50 border border-zinc-800/50 rounded-xl text-white font-bold hover:bg-zinc-800 transition-all flex items-center gap-3 min-w-[240px] text-sm uppercase tracking-wide",children:[t==="GLOBAL"?s.jsx(nb,{className:"w-5 h-5 text-indigo-400"}):t==="CRITICAL"?s.jsx(St,{className:"w-5 h-5 text-red-400"}):s.jsx(vr,{className:"w-5 h-5 text-amber-400"}),s.jsxs("span",{className:"flex-1 text-left flex items-center gap-2",children:[s.jsx("span",{children:l()}),s.jsx("span",{children:i()})]}),s.jsx(Wr,{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`})]}),s.jsx(Ve,{children:n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 right-0 w-72 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl overflow-hidden z-20",children:[s.jsxs("button",{onClick:()=>{r("GLOBAL"),a(!1)},className:`w-full px-4 py-3 flex items-center gap-3 transition-colors ${t==="GLOBAL"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-zinc-800"}`,children:[s.jsx(nb,{className:"w-5 h-5"}),s.jsx("span",{className:"flex-1 text-left font-medium",children:" Global Overview"}),t==="GLOBAL"&&s.jsx(tr,{className:"w-5 h-5 text-white"})]}),s.jsxs("button",{onClick:()=>{r("CRITICAL"),a(!1)},className:`w-full px-4 py-3 flex items-center gap-3 transition-colors ${t==="CRITICAL"?"bg-red-600 text-white":"text-gray-300 hover:bg-zinc-800"}`,children:[s.jsx(Hu,{className:"w-5 h-5"}),s.jsx("span",{className:"flex-1 text-left font-medium",children:" Critical Stock Only"}),t==="CRITICAL"&&s.jsx(tr,{className:"w-5 h-5 text-white"})]}),s.jsx("div",{className:"border-t border-zinc-700 my-1"}),s.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.length===0?s.jsx("div",{className:"px-4 py-3 text-center text-zinc-500 text-sm",children:"No branches available"}):e.filter(c=>c.isActive).map(c=>s.jsxs("button",{onClick:()=>{console.log(" Branch selected:",c.name,c.id),r(c.id),a(!1)},className:`w-full px-4 py-3 flex items-center gap-3 transition-colors ${t===c.id?"bg-amber-600 text-white":"text-gray-300 hover:bg-zinc-800"}`,children:[s.jsx(vr,{className:"w-5 h-5"}),s.jsxs("span",{className:"flex-1 text-left font-medium",children:[" ",c.name]}),t===c.id&&s.jsx(tr,{className:"w-5 h-5 text-white"})]},c.id))})]})]})})]})},Qde=({isOpen:e,onClose:t,product:r,branches:n,suppliers:a,onSave:i})=>{const[l,c]=g.useState("essentials"),[d,f]=g.useState({}),[m,h]=g.useState(()=>r?{name:r.name||"",partNumber:r.partNumber||"",vehicleMake:r.vehicleMake||"",vehicleModel:r.vehicleModel||"",costPrice:r.costPrice||0,sellingPrice:r.sellingPrice||0,lowStockThreshold:r.lowStockThreshold||0,supplierId:"",buyingPrice:""}:{name:"",partNumber:"",vehicleMake:"",vehicleModel:"",costPrice:0,sellingPrice:0,lowStockThreshold:0,supplierId:"",buyingPrice:""});g.useEffect(()=>{if(r&&(c("essentials"),h({name:r.name||"",partNumber:r.partNumber||"",vehicleMake:r.vehicleMake||"",vehicleModel:r.vehicleModel||"",costPrice:r.costPrice||0,sellingPrice:r.sellingPrice||0,lowStockThreshold:r.lowStockThreshold||0,supplierId:"",buyingPrice:""}),n.length>0)){const y={};n.forEach(w=>{const j=r.distribution.find(S=>S.branchId===w.id);j?y[w.id]={branchId:w.id,quantity:j.quantity,isActive:j.isActive!==void 0?j.isActive:!0,...j.sellingPrice!==null&&{sellingPrice:Number(j.sellingPrice)},...j.lowStockThreshold!==null&&{lowStockThreshold:Number(j.lowStockThreshold)}}:y[w.id]={branchId:w.id,quantity:0,isActive:!1}}),f(y)}},[r,n]);const x=(y,w,j)=>{f(S=>{const P=S[y]||{branchId:y};if(typeof j=="boolean")return{...S,[y]:{...P,[w]:j}};if(j===""||j===null||j===void 0){const{[w]:k,...E}=P;return{...S,[y]:{branchId:y,...E}}}return{...S,[y]:{...P,[w]:Number(j)}}})},v=()=>{const y=Object.values(d).map(w=>({branchId:w.branchId,isActive:w.isActive!==void 0?w.isActive:!0,quantity:w.quantity!==void 0?Number(w.quantity):0,...w.sellingPrice!==void 0&&{sellingPrice:Number(w.sellingPrice)},...w.lowStockThreshold!==void 0&&{lowStockThreshold:Number(w.lowStockThreshold)}}));i(m,y)};return!e||!r?null:s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:t}),s.jsxs(Z.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-zinc-950 border border-zinc-800 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"bg-zinc-900/50 border-b border-zinc-800 px-8 py-6 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(go,{className:"w-5 h-5 text-indigo-500"}),s.jsx("h2",{className:"text-xl font-black text-white uppercase tracking-tight",children:"System Registry"})]}),s.jsxs("p",{className:"text-zinc-500 text-sm font-mono",children:["EDITING: ",s.jsx("span",{className:"text-indigo-400",children:r.name})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-800 rounded-lg transition-colors group",children:s.jsx(Ze,{className:"w-6 h-6 text-zinc-500 group-hover:text-white transition-colors"})})]}),s.jsx("div",{className:"border-b border-zinc-800 bg-zinc-950/50 px-8",children:s.jsxs("div",{className:"flex gap-8",children:[s.jsx("button",{onClick:()=>c("essentials"),className:`py-4 text-sm font-bold uppercase tracking-wider transition-all border-b-2 ${l==="essentials"?"border-indigo-500 text-indigo-500":"border-transparent text-zinc-500 hover:text-zinc-300"}`,children:"General Information"}),s.jsx("button",{onClick:()=>c("branches"),className:`py-4 text-sm font-bold uppercase tracking-wider transition-all border-b-2 ${l==="branches"?"border-indigo-500 text-indigo-500":"border-transparent text-zinc-500 hover:text-zinc-300"}`,children:"Pricing Matrix"})]})}),s.jsx("div",{className:"p-8 overflow-y-auto flex-1 bg-zinc-950",children:l==="essentials"?s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Product Name"}),s.jsx("input",{type:"text",value:m.name,onChange:y=>h({...m,name:y.target.value}),className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all font-medium"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Part Number (SKU)"}),s.jsx("input",{type:"text",value:m.partNumber,onChange:y=>h({...m,partNumber:y.target.value}),className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-indigo-400 font-mono focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Vehicle Make"}),s.jsxs("div",{className:"relative",children:[s.jsx(HA,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsx("input",{type:"text",value:m.vehicleMake,onChange:y=>h({...m,vehicleMake:y.target.value}),className:"w-full pl-10 pr-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Vehicle Model"}),s.jsx("input",{type:"text",value:m.vehicleModel,onChange:y=>h({...m,vehicleModel:y.target.value}),className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]})]}),s.jsx("div",{className:"h-px bg-zinc-900 w-full"}),s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Base Cost Price"}),s.jsx("input",{type:"number",value:m.costPrice,onChange:y=>h({...m,costPrice:Number(y.target.value)}),className:"w-full px-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-zinc-300 font-mono focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-emerald-600 uppercase tracking-wider",children:"Base Selling Price"}),s.jsx("input",{type:"number",value:m.sellingPrice,onChange:y=>h({...m,sellingPrice:Number(y.target.value)}),className:"w-full px-4 py-3 bg-zinc-900 border border-emerald-900/50 rounded-xl text-emerald-400 font-mono font-bold focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-red-500 uppercase tracking-wider",children:"Global Threshold"}),s.jsx("input",{type:"number",value:m.lowStockThreshold,onChange:y=>h({...m,lowStockThreshold:Number(y.target.value)}),className:"w-full px-4 py-3 bg-zinc-900 border border-red-900/50 rounded-xl text-red-400 font-mono font-bold focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all"})]})]}),s.jsx("div",{className:"h-px bg-zinc-900 w-full"}),s.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(bo,{className:"w-4 h-4 text-blue-400"}),s.jsx("h4",{className:"text-sm font-bold text-zinc-300 uppercase tracking-wider",children:"Procurement Link"}),s.jsx("span",{className:"text-[10px] text-zinc-600 bg-zinc-800 px-2 py-0.5 rounded-full",children:"Optional"})]}),s.jsx("p",{className:"text-xs text-zinc-500 mb-4",children:"Link this product to a supplier to automatically populate the Procurement Catalog."}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-blue-400 uppercase tracking-wider",children:"Supplier"}),s.jsxs("div",{className:"relative",children:[s.jsx(bo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsxs("select",{value:m.supplierId,onChange:y=>h({...m,supplierId:y.target.value}),className:"w-full pl-10 pr-4 py-3 bg-zinc-900 border border-zinc-800 rounded-xl text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none cursor-pointer",children:[s.jsx("option",{value:"",children:"No Supplier Linked"}),a.filter(y=>y.isActive).map(y=>s.jsxs("option",{value:y.id,children:[y.name," (",y.location,")"]},y.id))]}),s.jsx(Wr,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500 pointer-events-none"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-bold text-amber-400 uppercase tracking-wider",children:"Buying Price (KES)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsx("input",{type:"number",placeholder:"Wholesale price from supplier",value:m.buyingPrice,onChange:y=>h({...m,buyingPrice:y.target.value}),disabled:!m.supplierId,className:`w-full pl-10 pr-4 py-3 bg-zinc-900 border rounded-xl font-mono placeholder-zinc-600 focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all ${m.supplierId?"border-amber-900/50 text-amber-400":"border-zinc-800/50 text-zinc-600 cursor-not-allowed"}`})]}),!m.supplierId&&s.jsx("p",{className:"text-[10px] text-zinc-600",children:"Select a supplier first"})]})]})]})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Branch Configuration"}),s.jsx("span",{className:"text-xs text-zinc-500 bg-zinc-900 px-3 py-1 rounded-full border border-zinc-800",children:"Overrides Base Pricing"})]}),s.jsx("div",{className:"border border-zinc-800 rounded-2xl overflow-hidden bg-zinc-900/50",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-zinc-900 border-b border-zinc-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Visibility"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Stock Level"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Custom Price"}),s.jsx("th",{className:"px-6 py-4 text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Alert Level"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-800",children:n.filter(y=>y.isActive).map(y=>{const w=r.distribution.find(O=>O.branchId===y.id),j=d[y.id]||{branchId:y.id},S=j.sellingPrice??((w==null?void 0:w.sellingPrice)||""),P=j.lowStockThreshold??((w==null?void 0:w.lowStockThreshold)||""),k=j.quantity!==void 0?j.quantity:(w==null?void 0:w.quantity)||0,E=j.isActive!==void 0?j.isActive:(w==null?void 0:w.isActive)!==void 0?w.isActive:!0,A=j.sellingPrice!==void 0||(w==null?void 0:w.sellingPrice)!==null,z=j.lowStockThreshold!==void 0||(w==null?void 0:w.lowStockThreshold)!==null;return s.jsxs("tr",{className:`hover:bg-zinc-900 transition-all ${E?"":"opacity-50"}`,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"checkbox",checked:E,onChange:O=>x(y.id,"isActive",O.target.checked),className:"w-5 h-5 rounded border-zinc-700 bg-zinc-900 text-indigo-600 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-0 cursor-pointer"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("span",{className:"font-bold text-zinc-300",children:y.name})})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("input",{type:"number",value:k,onChange:O=>x(y.id,"quantity",O.target.value),disabled:!E,className:`w-32 px-3 py-2 bg-zinc-950 border rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all ${E?"border-zinc-700 text-white":"opacity-50 cursor-not-allowed"}`})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",placeholder:`Global: ${iu(r.sellingPrice)}`,value:S,onChange:O=>x(y.id,"sellingPrice",O.target.value),disabled:!E,className:`w-40 px-3 py-2 bg-zinc-950 border rounded-lg text-sm font-mono focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all placeholder-zinc-600 ${E?A?"border-indigo-500 text-indigo-300 font-bold":"border-zinc-700 text-white":"opacity-50 cursor-not-allowed"}`}),A&&E&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-indigo-500"})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",placeholder:`Global: ${r.lowStockThreshold}`,value:P,onChange:O=>x(y.id,"lowStockThreshold",O.target.value),disabled:!E,className:`w-28 px-3 py-2 bg-zinc-950 border rounded-lg text-sm font-mono focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all placeholder-zinc-600 ${E?z?"border-red-500 text-red-300 font-bold":"border-zinc-700 text-white":"opacity-50 cursor-not-allowed"}`}),z&&E&&s.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]})})]},y.id)})})]})})]})}),s.jsxs("div",{className:"border-t border-zinc-800 px-8 py-6 bg-zinc-900 flex items-center justify-end gap-4",children:[s.jsx("button",{onClick:t,className:"px-6 py-3 border border-zinc-700 rounded-xl text-zinc-400 font-bold hover:bg-zinc-800 hover:text-white transition-colors text-sm uppercase tracking-wide",children:"Discard"}),s.jsxs("button",{onClick:v,className:"px-8 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-500 transition-colors font-bold shadow-lg shadow-indigo-900/20 text-sm uppercase tracking-wide flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),"Save Changes"]})]})]},r.id)]})};function Zde(){const[e,t]=g.useState([]),[r,n]=g.useState([]),[a,i]=g.useState([]),[l,c]=g.useState(!0),[d,f]=g.useState(null),[m,h]=g.useState(""),[x,v]=g.useState("GLOBAL"),[y,w]=g.useState(null),[j,S]=g.useState(!1),[P,k]=g.useState(!1),[E,A]=g.useState(!1),z=async()=>{var W,ne;try{c(!0);const Q={};m&&(Q.search=m),x!=="GLOBAL"&&x!=="CRITICAL"&&(Q.branchId=x);const V=await we.get("/products/global/inventory",{params:Q});t(V.data.data||[]),f(null)}catch(Q){f(((ne=(W=Q.response)==null?void 0:W.data)==null?void 0:ne.message)||"Failed to fetch products"),t([])}finally{c(!1)}},O=async()=>{try{const W=await we.get("/admin/branches");console.log(" Branches fetched:",W.data),n(W.data.data||[])}catch(W){console.error(" Failed to fetch branches:",W),n([])}},T=async()=>{try{const W=await we.get("/procurement/suppliers");console.log(" Suppliers fetched:",W.data),i(W.data.data||[])}catch(W){console.error(" Failed to fetch suppliers:",W),i([])}};g.useEffect(()=>{z(),O(),T()},[]),g.useEffect(()=>{const W=setTimeout(()=>{z()},300);return()=>clearTimeout(W)},[m,x]),g.useEffect(()=>{const W=ne=>{ne.key==="Escape"&&E&&A(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[E]);const R=W=>{w(W),S(!0)},I=async(W,ne)=>{var V,q,te;const Q=xe.loading("Updating product configuration...",{description:"Please wait while we save your changes"});try{console.log(" Sending product update:",{productId:y==null?void 0:y.id,productData:W,inventoryUpdates:ne});const se=await we.put(`/products/${y==null?void 0:y.id}`,{...W,inventoryUpdates:ne});console.log(" Product update response:",se.data),xe.dismiss(Q),vA("success"),xe.success("Product updated successfully!",{description:`${W.name} has been updated with new pricing and inventory settings.`,duration:4e3}),S(!1),z()}catch(se){console.error(" Product update failed:",se),console.error("Error response:",(V=se.response)==null?void 0:V.data),xe.dismiss(Q),vA("error");const U=((te=(q=se.response)==null?void 0:q.data)==null?void 0:te.message)||se.message||"Failed to update product";xe.error("Update failed",{description:U,duration:5e3})}},D=e.filter(W=>x==="CRITICAL"?W.lowStockStatus===!0:!0),_=()=>{if(x==="GLOBAL")return"Centralized Stock Control & Pricing Matrix";if(x==="CRITICAL")return"Critical Stock Alert View";const W=r.find(ne=>ne.id===x);return W?`Viewing: ${W.name}`:"Centralized Stock Control & Pricing Matrix"},F=x!=="GLOBAL"&&x!=="CRITICAL";return s.jsxs("div",{className:"min-h-screen bg-[#09090b] py-8 px-6 font-sans",children:[s.jsxs("div",{className:"max-w-[1400px] mx-auto mb-10 flex flex-col md:flex-row md:items-end justify-between gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h1",{className:"text-4xl font-black text-white uppercase tracking-tighter italic",children:"Global Inventory"}),s.jsx("span",{className:"px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-xs font-bold text-indigo-400 uppercase tracking-widest",children:"Enterprise"})]}),s.jsxs("p",{className:"text-zinc-500 font-medium flex items-center gap-2",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),_()]})]}),s.jsxs("button",{onClick:()=>k(!0),className:"px-6 py-3 bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold rounded-xl shadow-lg shadow-emerald-900/30 transition-all flex items-center gap-2 uppercase tracking-wide text-sm group",children:[s.jsx(Tr,{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-300"}),s.jsx("span",{children:"New Item"})]})]}),s.jsx("div",{className:"max-w-[1400px] mx-auto mb-8 sticky top-4 z-30",children:s.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur-xl border border-zinc-800 p-2 rounded-2xl flex flex-col md:flex-row gap-2 shadow-2xl",children:[s.jsxs("div",{className:"flex-1 relative group",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500 group-focus-within:text-white transition-colors"}),s.jsx("input",{type:"text",placeholder:"Search by name, part number, or vehicle make...",value:m,onChange:W=>h(W.target.value),className:"w-full pl-12 pr-4 py-3 bg-zinc-950/50 border border-zinc-800/50 rounded-xl text-white placeholder-zinc-600 focus:bg-zinc-950 focus:border-indigo-500/50 focus:ring-1 focus:ring-indigo-500/50 outline-none transition-all font-medium"})]}),s.jsx(Xde,{branches:r,currentContext:x,onContextChange:v})]})}),s.jsx("div",{className:"max-w-[1400px] mx-auto",children:s.jsxs("div",{className:`bg-white rounded-[1.5rem] shadow-[0_20px_50px_rgba(0,0,0,0.5)] overflow-hidden border border-zinc-800 transition-all duration-300 ${E?"fixed inset-4 z-50 max-w-none flex flex-col":"relative"}`,children:[s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsx("button",{onClick:()=>A(!E),className:`group flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm transition-all shadow-lg ${E?"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800":"bg-gradient-to-r from-indigo-600 to-blue-600 text-white hover:from-indigo-700 hover:to-blue-700"}`,title:E?"Exit Fullscreen (ESC)":"Expand Fullscreen",children:E?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:"w-4 h-4"}),s.jsx("span",{children:"Exit Fullscreen"})]}):s.jsxs(s.Fragment,{children:[s.jsx(To,{className:"w-4 h-4"}),s.jsx("span",{children:"Fullscreen"})]})})}),s.jsx("div",{className:`overflow-x-auto ${E?"flex-1":""}`,children:l?s.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-zinc-900 mb-4"}),s.jsx("p",{className:"text-zinc-400 font-mono text-xs uppercase tracking-widest",children:"Loading Catalog..."})]}):d?s.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[s.jsx(St,{className:"w-16 h-16 text-red-500 mb-6"}),s.jsx("p",{className:"text-red-600 text-lg font-bold",children:d})]}):D.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[s.jsx("div",{className:"bg-zinc-100 p-6 rounded-full mb-6",children:s.jsx(ct,{className:"w-12 h-12 text-zinc-400"})}),s.jsx("p",{className:"text-zinc-900 font-bold text-lg",children:"No Inventory Found"}),s.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:x==="CRITICAL"?"No critical stock items - all inventory levels are healthy!":F?"No products found for this branch":"Adjust filters to see results"})]}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-50 border-b border-zinc-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-5 text-left text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Product Identity"}),s.jsx("th",{className:"px-6 py-5 text-left text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Fitment"}),F?s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-5 text-left text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Branch Stock"}),s.jsx("th",{className:"px-6 py-5 text-left text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Branch Price"}),s.jsx("th",{className:"px-6 py-5 text-left text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Status"})]}):s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"px-6 py-5 text-left text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Global Stock"}),s.jsx("th",{className:"px-6 py-5 text-left text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Distribution"})]}),s.jsx("th",{className:"px-6 py-5 text-right text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Cost (KES)"}),s.jsx("th",{className:"px-6 py-5 text-right text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Price (KES)"}),s.jsx("th",{className:"px-6 py-5 text-right text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Margin"}),s.jsx("th",{className:"px-6 py-5 text-center text-[11px] font-black text-zinc-400 uppercase tracking-widest",children:"Action"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-100",children:D.map((W,ne)=>{const Q=F?W.distribution.find(U=>U.branchId===x):null,V=(Q==null?void 0:Q.quantity)||0,q=(Q==null?void 0:Q.sellingPrice)||W.sellingPrice,te=(Q==null?void 0:Q.lowStockThreshold)||W.lowStockThreshold,se=V<=te;return s.jsxs(Z.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ne*.02},className:"group hover:bg-indigo-50/30 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"font-bold text-zinc-900 text-sm group-hover:text-indigo-700 transition-colors",children:W.name}),s.jsx("span",{className:"text-[11px] font-mono text-zinc-500 bg-zinc-100 px-1.5 py-0.5 rounded w-fit border border-zinc-200",children:W.partNumber||"NO SKU"})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-bold text-zinc-700",children:[s.jsx(HA,{className:"w-3 h-3 text-zinc-400"}),W.vehicleMake||"Universal"]}),s.jsx("span",{className:"text-[11px] text-zinc-500 pl-4",children:W.vehicleModel||"All Models"})]})}),F?s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsx("span",{className:"text-2xl font-black text-zinc-900 tracking-tight font-mono",children:V})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"font-mono font-bold text-zinc-900 text-sm",children:iu(q)}),(Q==null?void 0:Q.sellingPrice)&&s.jsx("span",{className:"text-xs text-amber-600 font-bold bg-amber-50 px-2 py-0.5 rounded border border-amber-200 w-fit",children:"CUSTOM"})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:se?s.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-md text-xs font-bold bg-red-50 text-red-700 border border-red-100",children:[s.jsx(St,{className:"w-3 h-3"}),"LOW"]}):s.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-1 rounded-md text-xs font-bold bg-emerald-50 text-emerald-700 border border-emerald-100",children:[s.jsx(tr,{className:"w-3 h-3"}),"OK"]})})]}):s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsxs("div",{className:"flex flex-col items-start gap-2",children:[W.lowStockStatus?s.jsxs("div",{className:"flex items-center gap-2 bg-red-50 text-red-700 px-2 py-1 rounded-md border border-red-100",children:[s.jsx(St,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs font-bold",children:"CRITICAL"})]}):s.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 text-emerald-700 px-2 py-1 rounded-md border border-emerald-100",children:[s.jsx(tr,{className:"w-3 h-3"}),s.jsx("span",{className:"text-xs font-bold",children:"HEALTHY"})]}),s.jsx("span",{className:"text-2xl font-black text-zinc-900 tracking-tight font-mono ml-1",children:W.globalQuantity})]})}),s.jsx("td",{className:"px-6 py-4 align-top",children:s.jsx("div",{className:"flex flex-col gap-1.5",children:W.distribution.map((U,X)=>s.jsxs("div",{className:"flex items-center justify-between gap-4 text-xs",children:[s.jsx("span",{className:"font-bold text-zinc-500 uppercase tracking-wide text-[10px] w-12 truncate",children:U.branch}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-1.5 w-16 bg-zinc-100 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full ${U.quantity>0?"bg-zinc-400":"bg-red-200"}`,style:{width:`${Math.min(100,U.quantity/50*100)}%`}})}),s.jsx("span",{className:`font-mono font-bold w-6 text-right ${U.quantity===0?"text-red-500":"text-zinc-700"}`,children:U.quantity})]})]},X))})})]}),s.jsx("td",{className:"px-6 py-4 align-top text-right",children:s.jsx("span",{className:"font-mono text-sm text-zinc-900",children:iu(W.costPrice)})}),s.jsx("td",{className:"px-6 py-4 align-top text-right",children:s.jsx("span",{className:"font-mono font-bold text-zinc-900 text-sm bg-zinc-50 px-2 py-1 rounded",children:iu(W.sellingPrice)})}),s.jsx("td",{className:"px-6 py-4 align-top text-right",children:s.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded font-mono text-xs font-bold ${W.profitMargin>0?"bg-emerald-50 text-emerald-700":"bg-red-50 text-red-700"}`,children:[W.profitMargin>0&&s.jsx(hn,{className:"w-3 h-3"}),W.profitMargin>0?"+":"",iu(W.profitMargin)]})}),s.jsx("td",{className:"px-6 py-4 align-top text-center",children:s.jsx("button",{onClick:()=>R(W),className:"p-2 text-zinc-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",title:"Manage Product",children:s.jsx(go,{className:"w-4 h-4"})})})]},W.id)})})]})})]})}),s.jsx(Ve,{children:j&&s.jsx(Qde,{isOpen:j,onClose:()=>S(!1),product:y,branches:r,suppliers:a,onSave:I})}),s.jsx(Ve,{children:P&&s.jsx(Yde,{isOpen:P,onClose:()=>k(!1),branches:r,suppliers:a,onSuccess:()=>{z(),k(!1)}})}),E&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>A(!1)}),s.jsx(Oo,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{background:"#18181b",border:"1px solid #27272a",color:"#fafafa"},className:"font-sans"}})]})}const Jde=()=>{try{const e=new Audio("/sounds/success.mp3");e.volume=.5,e.play().catch(t=>{console.warn("Audio playback failed:",t)})}catch(e){console.warn("Failed to play success sound:",e)}};function efe(){const t=Mn().state,[r,n]=g.useState([]),[a,i]=g.useState(""),[l,c]=g.useState([]),[d,f]=g.useState(null),[m,h]=g.useState({}),[x,v]=g.useState(!1),[y,w]=g.useState(!1),[j,S]=g.useState(!1),[P,k]=g.useState([]),E=g.useRef(!1);g.useEffect(()=>{(async()=>{try{const D=await we.get("/admin/branches");n(D.data.data||[])}catch(D){console.error("Failed to fetch branches:",D),xe.error("Failed to load branches")}})()},[]),g.useEffect(()=>{(async()=>{if(!(E.current||!(t!=null&&t.autoSelectProductId)||r.length===0)){E.current=!0,t.highlightBranchIds&&(k(t.highlightBranchIds),setTimeout(()=>{k([])},5e3));try{const D=await we.get(`/products/${t.autoSelectProductId}`),_=D.data.data||D.data;if(_){const F={id:_.id,name:_.name,partNumber:_.partNumber,vehicleMake:_.vehicleMake,vehicleModel:_.vehicleModel,category:_.category,inventory:(_.inventory||[]).map(W=>{var ne;return{branchId:W.branchId,branch:{id:W.branchId,name:((ne=W.branch)==null?void 0:ne.name)||"Unknown"},quantity:W.quantity||0}})};z(F),xe.info("Product loaded from Branch Orders",{description:`${F.name} - Ready for allocation`,duration:3e3})}}catch(D){console.error("Failed to auto-select product:",D),xe.error("Failed to load product",{description:"Please search for the product manually"})}}})()},[t,r]),g.useEffect(()=>{const I=setTimeout(()=>{a.trim().length>0?A():c([])},300);return()=>clearTimeout(I)},[a]);const A=async()=>{w(!0);try{const D=((await we.get("/products/global/inventory",{params:{search:a}})).data.data||[]).map(_=>({id:_.id,name:_.name,partNumber:_.partNumber,vehicleMake:_.vehicleMake,vehicleModel:_.vehicleModel,category:_.category,inventory:_.distribution.map(F=>({branchId:F.branchId,branch:{id:F.branchId,name:F.branch},quantity:F.quantity||0}))}));console.log(" Search Results with Inventory:",D),c(D)}catch(I){console.error("Search failed:",I),xe.error("Failed to search products")}finally{w(!1)}},z=I=>{console.log(" Selected Product:",I),console.log(" Product Inventory:",I.inventory),f(I),i(""),c([]);const D={};r.filter(_=>_.isActive).forEach(_=>{const F=I.inventory.find(ne=>ne.branchId===_.id),W=(F==null?void 0:F.quantity)||0;console.log(` ${_.name}:`,{branchId:_.id,existingInventory:F,currentStock:W}),D[_.id]={branchId:_.id,branchName:_.name,currentStock:W,incomingQty:0,newLevel:W}}),console.log(" Initialized Allocations:",D),h(D)},O=(I,D)=>{const _=D===""?0:parseInt(D,10);isNaN(_)||_<0||h(F=>{const W=F[I];return W?{...F,[I]:{...W,incomingQty:_,newLevel:W.currentStock+_}}:F})},T=async()=>{var _,F;if(!d)return;const I=Object.values(m).filter(W=>W.incomingQty>0).map(W=>{const ne=W.currentStock+W.incomingQty;return console.log(" Stock Allocation:",{branch:W.branchName,current:W.currentStock,incoming:W.incomingQty,newTotal:ne,formula:`${W.currentStock} + ${W.incomingQty} = ${ne}`}),{branchId:W.branchId,quantity:ne,isActive:!0}});if(I.length===0){xe.error("No allocations to save",{description:"Please enter incoming quantities for at least one branch"});return}console.log(" Submitting Stock Allocation:",{product:d.name,updates:I});const D=xe.loading("Updating stock levels...",{description:`Allocating ${d.name} to ${I.length} branch(es)`});S(!0);try{await we.put(`/products/${d.id}`,{inventoryUpdates:I}),xe.dismiss(D),Jde(),xe.success("Stock allocated successfully!",{description:`${d.name} has been distributed to ${I.length} branch(es)`,duration:4e3}),f(null),h({})}catch(W){xe.dismiss(D),console.error("Allocation failed:",W);const ne=((F=(_=W.response)==null?void 0:_.data)==null?void 0:F.message)||"Failed to allocate stock";xe.error("Allocation failed",{description:ne,duration:5e3})}finally{S(!1)}},R=Object.values(m).reduce((I,D)=>I+D.incomingQty,0);return s.jsxs("div",{className:"min-h-screen bg-[#09090b] py-8 px-6 font-sans",children:[s.jsxs("div",{className:"max-w-[1200px] mx-auto mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(ct,{className:"w-8 h-8 text-emerald-500"}),s.jsx("h1",{className:"text-4xl font-black text-white uppercase tracking-tighter italic",children:"Stock Allocation"}),s.jsx("span",{className:"px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-xs font-bold text-emerald-400 uppercase tracking-widest",children:"Stock Reception"})]}),s.jsx("p",{className:"text-zinc-500 font-medium",children:"Receive new shipments and distribute to branches instantly"})]}),s.jsx("div",{className:"max-w-[1200px] mx-auto mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(gr,{className:"absolute left-6 top-1/2 -translate-y-1/2 w-6 h-6 text-zinc-500"}),s.jsx("input",{type:"text",placeholder:"Search by product name or part number...",value:a,onChange:I=>i(I.target.value),className:"w-full pl-16 pr-6 py-5 bg-zinc-900/50 border border-zinc-800 rounded-2xl text-white placeholder-zinc-600 focus:bg-zinc-900 focus:border-emerald-500/50 focus:ring-2 focus:ring-emerald-500/20 outline-none transition-all font-medium text-lg"}),s.jsx(Ve,{children:l.length>0&&s.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full mt-2 w-full bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl overflow-hidden z-20 max-h-[400px] overflow-y-auto",children:l.map(I=>s.jsxs("button",{onClick:()=>z(I),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-zinc-800 transition-colors text-left border-b border-zinc-800 last:border-b-0",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-white text-sm mb-1",children:I.name}),s.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[s.jsxs("span",{className:"text-zinc-500 font-mono",children:["SKU: ",I.partNumber||"N/A"]}),s.jsx("span",{className:"text-zinc-600",children:""}),s.jsx("span",{className:"text-zinc-500",children:I.vehicleMake||"Universal"})]})]}),s.jsx(Om,{className:"w-5 h-5 text-zinc-600"})]},I.id))})}),y&&s.jsx("div",{className:"absolute right-6 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-5 h-5 border-2 border-emerald-500 border-t-transparent rounded-full animate-spin"})})]})}),s.jsx(Ve,{children:d&&s.jsx(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"max-w-[1200px] mx-auto",children:s.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-3xl overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"bg-zinc-900/50 border-b border-zinc-800 px-8 py-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:d.name}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-zinc-500 font-mono",children:["SKU: ",s.jsx("span",{className:"text-emerald-400",children:d.partNumber||"N/A"})]}),s.jsx("span",{className:"text-zinc-700",children:"|"}),s.jsxs("span",{className:"text-zinc-500",children:["Make: ",s.jsx("span",{className:"text-white font-medium",children:d.vehicleMake||"Universal"})]}),d.vehicleModel&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-zinc-700",children:"|"}),s.jsxs("span",{className:"text-zinc-500",children:["Model: ",s.jsx("span",{className:"text-white font-medium",children:d.vehicleModel})]})]})]})]}),s.jsx("button",{onClick:()=>{f(null),h({})},className:"px-4 py-2 text-zinc-500 hover:text-white hover:bg-zinc-800 rounded-lg transition-colors text-sm font-medium",children:"Cancel"})]})}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"mb-6 bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:s.jsx(Tr,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-bold text-blue-400 mb-1",children:"Additive Stock Allocation"}),s.jsxs("p",{className:"text-xs text-zinc-400 leading-relaxed",children:["Enter the ",s.jsx("span",{className:"font-bold text-blue-400",children:"quantity you're adding"})," to each branch. The system will automatically calculate the new total by adding to existing stock.",s.jsx("span",{className:"block mt-1 font-mono text-[10px] text-blue-300",children:"Example: Current (2) + Incoming (5) = New Total (7)"})]})]})]}),s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[s.jsx(vr,{className:"w-5 h-5 text-emerald-500"}),"Branch Allocation"]}),R>0&&s.jsx("div",{className:"px-4 py-2 bg-emerald-500/10 border border-emerald-500/20 rounded-lg",children:s.jsxs("p",{className:"text-sm font-bold text-emerald-400",children:["Total Incoming: ",s.jsx("span",{className:"text-2xl",children:R})," units"]})})]}),s.jsx("div",{className:"border border-zinc-800 rounded-2xl overflow-hidden bg-zinc-900/30",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-900 border-b border-zinc-800",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"In Stock"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-emerald-500 uppercase tracking-wider",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Tr,{className:"w-4 h-4"}),"Incoming Qty"]})}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-emerald-400 uppercase tracking-wider",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Om,{className:"w-4 h-4"}),"New Total"]})})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-800",children:Object.values(m).map((I,D)=>{const _=P.includes(I.branchId);return s.jsxs(Z.tr,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0,scale:_?[1,1.01,1]:1},transition:{delay:D*.05,scale:{repeat:_?3:0,duration:.5}},className:`
                            transition-colors
                            ${_?"bg-blue-500/10 ring-2 ring-blue-500/50 ring-inset":"hover:bg-zinc-900/50"}
                          `,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-blue-500 animate-pulse":"bg-emerald-500"}`}),s.jsx("span",{className:"font-bold text-zinc-300",children:I.branchName}),_&&s.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 border border-blue-500/30 rounded text-[10px] font-bold text-blue-400 uppercase tracking-wider animate-pulse",children:"Requested"})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("span",{className:"text-zinc-400 font-mono text-base font-medium",children:I.currentStock}),s.jsx("span",{className:"text-[10px] text-zinc-600 uppercase tracking-wider font-bold mt-1",children:"In Stock"})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("input",{type:"number",min:"0",value:I.incomingQty||"",onChange:F=>O(I.branchId,F.target.value),placeholder:"0",className:"w-32 px-4 py-3 bg-zinc-950 border-2 border-emerald-700/50 rounded-lg text-emerald-400 font-mono font-bold text-right focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all placeholder-zinc-700"})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsx("span",{className:`font-mono font-black text-xl ${I.incomingQty>0?"text-emerald-400":"text-zinc-600"}`,children:I.newLevel}),I.incomingQty>0&&s.jsxs("div",{className:"text-[10px] text-zinc-500 font-mono",children:[s.jsx("span",{className:"text-zinc-400",children:I.currentStock}),s.jsx("span",{className:"text-emerald-500 mx-1",children:"+"}),s.jsx("span",{className:"text-emerald-400",children:I.incomingQty}),s.jsx("span",{className:"text-zinc-600 mx-1",children:"="}),s.jsx("span",{className:"text-emerald-400 font-bold",children:I.newLevel})]})]})})]},I.branchId)})})]})})]}),s.jsxs("div",{className:"border-t border-zinc-800 px-8 py-6 bg-zinc-900/50 flex items-center justify-between",children:[s.jsx("div",{className:"text-sm text-zinc-500",children:R>0?s.jsxs("span",{className:"text-emerald-400 font-medium",children:["Ready to allocate ",R," units across ",Object.values(m).filter(I=>I.incomingQty>0).length," branch(es)"]}):s.jsx("span",{children:"Enter incoming quantities to proceed"})}),s.jsxs("button",{onClick:T,disabled:j||R===0,className:"px-8 py-4 bg-emerald-600 text-white rounded-xl hover:bg-emerald-500 transition-colors font-bold shadow-lg shadow-emerald-900/20 text-sm uppercase tracking-wide flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(nz,{className:"w-5 h-5"}),j?"Updating...":"Confirm & Update Stock"]})]})]})})}),!d&&!a&&s.jsx("div",{className:"max-w-[1200px] mx-auto",children:s.jsxs("div",{className:"bg-zinc-950/50 border border-zinc-800 rounded-3xl p-16 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-zinc-900 rounded-2xl mb-6",children:s.jsx(gr,{className:"w-10 h-10 text-zinc-700"})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Search for a product to begin"}),s.jsx("p",{className:"text-zinc-500",children:"Use the search bar above to find products and allocate incoming stock"})]})}),s.jsx(Oo,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{background:"#18181b",border:"1px solid #27272a",color:"#fafafa"},className:"font-sans"}})]})}const tfe=()=>{try{const e=new Audio("/sounds/success.mp3");e.volume=.5,e.play().catch(t=>{console.warn("Audio playback failed:",t)})}catch(e){console.warn("Failed to play success sound:",e)}};function rfe(){const[e,t]=g.useState([]),[r,n]=g.useState({cash:0,mpesa:0,credit:0,revenue:0,volume:0}),[a,i]=g.useState({cash:{total:0,breakdown:[]},mpesa:{total:0,breakdown:[]},credit:{total:0,breakdown:[]}}),[l,c]=g.useState([]),[d,f]=g.useState(!0),[m,h]=g.useState(null),[x,v]=g.useState(!1),[y,w]=g.useState(!1),[j,S]=g.useState(!1),[P,k]=g.useState(null),[E,A]=g.useState(!1),[z,O]=g.useState(null),[T,R]=g.useState(!1),[I,D]=g.useState(""),[_,F]=g.useState("ALL"),[W,ne]=g.useState(""),[Q,V]=g.useState(""),[q,te]=g.useState(""),[se,U]=g.useState("");g.useEffect(()=>{const $=setTimeout(()=>{U(q)},500);return()=>clearTimeout($)},[q]),g.useEffect(()=>{const $=()=>{P&&k(null)};return document.addEventListener("click",$),()=>document.removeEventListener("click",$)},[P]),g.useEffect(()=>{const $=ue=>{ue.key==="Escape"&&T&&R(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[T]),g.useEffect(()=>{X(),me(),de()},[I,_,W,Q,se]);const X=async()=>{try{const $=await we.get("/admin/branches");c($.data.data||[])}catch($){console.error("Failed to fetch branches:",$)}},me=async()=>{f(!0);try{const $={limit:100};if(I&&($.branchId=I),se&&($.search=se,console.log(" Deep Search:",se)),W){const Ce=new Date(W);Ce.setHours(0,0,0,0),$.startDate=Ce.toISOString(),console.log(" Start of Day:",$.startDate)}if(Q){const Ce=new Date(Q);Ce.setHours(23,59,59,999),$.endDate=Ce.toISOString(),console.log(" End of Day:",$.endDate)}_==="DEBT"&&($.isCredit=!0,$.creditStatus=["PENDING","PARTIAL"]);let ee=(await we.get("/sales",{params:$})).data.sales||[];_==="REVERSED"?ee=ee.filter(Ce=>Ce.isReversed):_!=="ALL"&&(ee=ee.filter(Ce=>!Ce.isReversed)),t(ee)}catch($){console.error("Failed to fetch sales:",$),xe.error("Failed to load sales data")}finally{f(!1)}},de=async()=>{try{const $={};if(I&&($.branchId=I),se&&($.search=se),W){const ee=new Date(W);ee.setHours(0,0,0,0),$.startDate=ee.toISOString()}if(Q){const ee=new Date(Q);ee.setHours(23,59,59,999),$.endDate=ee.toISOString()}const ue=await we.get("/sales/kpi-stats",{params:$});if(console.log(" KPI Response:",ue.data),ue.data.success&&ue.data.data){const ee=ue.data.data;n({cash:ee.cash.total||0,mpesa:ee.mpesa.total||0,credit:ee.credit.total||0,revenue:ee.totals.revenue||0,volume:ee.volume.total||0}),i({cash:ee.cash||{total:0,breakdown:[]},mpesa:ee.mpesa||{total:0,breakdown:[]},credit:ee.credit||{total:0,breakdown:[]}}),console.log(" KPI Breakdown by Branch:",{cash:ee.cash.breakdown,mpesa:ee.mpesa.breakdown,credit:ee.credit.breakdown})}}catch($){console.error("Failed to fetch KPIs:",$)}},ve=$=>{h($),v(!0)},ke=async $=>{var ee,Ce;const ue=xe.loading("Verifying and unflagging sale...");try{await we.post(`/sales/${$.id}/confirm-verification`,{notes:"Admin manual confirmation - payment verified"}),xe.dismiss(ue),xe.success(" Sale verified and unflagged successfully!",{description:"The sale is now treated as a normal verified transaction",duration:4e3}),A(!1),O(null),w(!1),me(),de()}catch(ye){xe.dismiss(ue),console.error("Verification error:",ye),xe.error("Failed to verify sale",{description:((Ce=(ee=ye.response)==null?void 0:ee.data)==null?void 0:Ce.message)||"An error occurred",duration:5e3})}},Ee=async $=>{var ee,Ce;if(!m)return;const ue=xe.loading($==="APPROVED"?"Approving reversal...":"Rejecting reversal...",{description:`Processing reversal for ${m.receiptNumber}`});S(!0);try{await we.post(`/sales/${m.id}/reversal-decision`,{decision:$,adminNotes:$==="APPROVED"?"Approved by admin":"Rejected by admin"}),xe.dismiss(ue),$==="APPROVED"?(tfe(),xe.success("Reversal approved successfully!",{description:"Stock has been restored to the branch",duration:4e3})):xe.success("Reversal rejected",{description:"The sale remains unchanged",duration:3e3}),v(!1),h(null),me(),de()}catch(ye){xe.dismiss(ue),console.error("Reversal processing error:",ye);const Xe=((Ce=(ee=ye.response)==null?void 0:ee.data)==null?void 0:Ce.message)||"Failed to process reversal";xe.error("Processing failed",{description:Xe,duration:5e3})}finally{S(!1)}},G=$=>$.flaggedForVerification&&$.mpesaVerificationStatus==="PENDING"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"relative flex h-4 w-4",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-600 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-4 w-4 bg-red-600"})]}),s.jsxs("span",{className:"px-3 py-1 rounded-lg bg-red-600 text-white text-xs font-black uppercase tracking-wider flex items-center gap-1.5 animate-pulse",children:[s.jsx(St,{className:"w-3 h-3"})," VERIFY NOW"]})]}):$.isReversed?s.jsxs("span",{className:"px-3 py-1 rounded-lg bg-red-600 border border-red-500 text-white text-xs font-bold uppercase tracking-wider flex items-center gap-1.5 line-through",children:[s.jsx(vl,{className:"w-3 h-3"}),"Reversed"]}):$.reversalStatus==="PENDING"?s.jsxs("span",{className:"px-3 py-1 rounded-lg bg-amber-500/10 border border-amber-500/20 text-amber-400 text-xs font-bold uppercase tracking-wider flex items-center gap-1.5 animate-pulse",children:[s.jsx(zn,{className:"w-3 h-3"}),"Pending Reversal"]}):$.isCredit?$.creditStatus==="PAID"?s.jsxs("span",{className:"px-3 py-1 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-bold uppercase tracking-wider flex items-center gap-1.5",children:[s.jsx(tr,{className:"w-3 h-3"}),"Paid"]}):$.creditStatus==="PARTIAL"?s.jsxs("span",{className:"px-3 py-1 rounded-lg bg-blue-500/10 border border-blue-500/20 text-blue-400 text-xs font-bold uppercase tracking-wider flex items-center gap-1.5",children:[s.jsx(zn,{className:"w-3 h-3"}),"Partial"]}):s.jsxs("span",{className:"px-3 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20 text-orange-400 text-xs font-bold uppercase tracking-wider flex items-center gap-1.5",children:[s.jsx(Vx,{className:"w-3 h-3"}),"Debt"]}):s.jsxs("span",{className:"px-3 py-1 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-xs font-bold uppercase tracking-wider flex items-center gap-1.5",children:[s.jsx(tr,{className:"w-3 h-3"}),"Paid"]}),L=$=>{switch($){case"CASH":return s.jsx(xr,{className:"w-4 h-4 text-emerald-500"});case"MPESA":return s.jsx(ls,{className:"w-4 h-4 text-green-500"});case"CREDIT":return s.jsx(Vx,{className:"w-4 h-4 text-orange-500"});default:return s.jsx(xr,{className:"w-4 h-4 text-zinc-500"})}};return s.jsxs("div",{className:"min-h-screen bg-[#09090b] py-8 px-6 font-sans",children:[s.jsxs("div",{className:"max-w-[1600px] mx-auto mb-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Hs,{className:"w-8 h-8 text-blue-500"}),s.jsx("h1",{className:"text-4xl font-black text-white uppercase tracking-tighter italic",children:"Sales Audit"}),s.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-xs font-bold text-blue-400 uppercase tracking-widest",children:"Financial Source of Truth"})]}),s.jsx("p",{className:"text-zinc-500 font-medium",children:"Complete sales tracking with reversal management and debt monitoring"})]}),s.jsxs("div",{className:"max-w-[1600px] mx-auto mb-8 grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative bg-zinc-900/50 backdrop-blur-xl border border-zinc-800 rounded-2xl overflow-hidden group hover:border-emerald-500/30 transition-all h-[280px] flex flex-col",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/5 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative z-10 p-6 pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center",children:s.jsx(xr,{className:"w-5 h-5 text-emerald-500"})}),s.jsx("span",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:"Physical"})]}),s.jsx("p",{className:"text-xs text-zinc-500 font-medium mb-1",children:"Cash Payments"})]}),s.jsx("div",{className:"relative z-10 px-6 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-zinc-700 scrollbar-track-transparent",children:a.cash.breakdown.length>0?s.jsx("div",{className:"space-y-2 pb-3",children:a.cash.breakdown.map(($,ue)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(hm,{className:"w-3 h-3 text-emerald-500 flex-shrink-0"}),s.jsx("span",{className:"text-zinc-400 font-medium truncate",children:$.branch})]}),s.jsx("span",{className:"text-white font-bold font-mono ml-2",children:Re($.amount)})]},ue))}):s.jsx("p",{className:"text-xs text-zinc-600 italic pb-3",children:"No data"})}),s.jsx("div",{className:"relative z-10 px-6 py-3 border-t border-zinc-800 bg-zinc-950/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-bold text-emerald-500 uppercase tracking-wider",children:"Total"}),s.jsx("span",{className:"text-2xl font-black text-white",children:Re(r.cash)})]})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"relative bg-zinc-900/50 backdrop-blur-xl border border-zinc-800 rounded-2xl overflow-hidden group hover:border-green-500/30 transition-all h-[280px] flex flex-col",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-500/5 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative z-10 p-6 pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-500/10 border border-green-500/20 flex items-center justify-center",children:s.jsx(ls,{className:"w-5 h-5 text-green-500"})}),s.jsx("span",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:"Digital"})]}),s.jsx("p",{className:"text-xs text-zinc-500 font-medium mb-1",children:"M-Pesa Payments"})]}),s.jsx("div",{className:"relative z-10 px-6 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-zinc-700 scrollbar-track-transparent",children:a.mpesa.breakdown.length>0?s.jsx("div",{className:"space-y-2 pb-3",children:a.mpesa.breakdown.map(($,ue)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(hm,{className:"w-3 h-3 text-green-500 flex-shrink-0"}),s.jsx("span",{className:"text-zinc-400 font-medium truncate",children:$.branch})]}),s.jsx("span",{className:"text-white font-bold font-mono ml-2",children:Re($.amount)})]},ue))}):s.jsx("p",{className:"text-xs text-zinc-600 italic pb-3",children:"No data"})}),s.jsx("div",{className:"relative z-10 px-6 py-3 border-t border-zinc-800 bg-zinc-950/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-bold text-green-500 uppercase tracking-wider",children:"Total"}),s.jsx("span",{className:"text-2xl font-black text-white",children:Re(r.mpesa)})]})})]}),s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"relative bg-zinc-900/50 backdrop-blur-xl border border-zinc-800 rounded-2xl overflow-hidden group hover:border-orange-500/30 transition-all h-[280px] flex flex-col",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-500/5 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative z-10 p-6 pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/10 border border-orange-500/20 flex items-center justify-center",children:s.jsx(Vx,{className:"w-5 h-5 text-orange-500"})}),s.jsx("span",{className:"text-[10px] font-bold text-zinc-600 uppercase tracking-widest",children:"Credit"})]}),s.jsx("p",{className:"text-xs text-zinc-500 font-medium mb-1",children:"Debt (Deni)"})]}),s.jsx("div",{className:"relative z-10 px-6 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-zinc-700 scrollbar-track-transparent",children:a.credit.breakdown.length>0?s.jsx("div",{className:"space-y-2 pb-3",children:a.credit.breakdown.map(($,ue)=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[s.jsx(hm,{className:"w-3 h-3 text-orange-500 flex-shrink-0"}),s.jsx("span",{className:"text-zinc-400 font-medium truncate",children:$.branch})]}),s.jsx("span",{className:"text-white font-bold font-mono ml-2",children:Re($.amount)})]},ue))}):s.jsx("p",{className:"text-xs text-zinc-600 italic pb-3",children:"No data"})}),s.jsx("div",{className:"relative z-10 px-6 py-3 border-t border-zinc-800 bg-zinc-950/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-bold text-orange-500 uppercase tracking-wider",children:"Total"}),s.jsx("span",{className:"text-2xl font-black text-white",children:Re(r.credit)})]})})]})]}),s.jsx("div",{className:"max-w-[1600px] mx-auto mb-6",children:s.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Hu,{className:"w-5 h-5 text-zinc-500"}),s.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Filters & Search"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),s.jsx("input",{type:"text",value:q,onChange:$=>te($.target.value),placeholder:"Search Receipt, Customer, or Product...",className:"w-full pl-12 pr-4 py-3 bg-zinc-950 border border-zinc-700 rounded-xl text-white text-sm placeholder:text-zinc-600 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"}),q&&s.jsx("button",{onClick:()=>te(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-white transition-colors",children:s.jsx(vl,{className:"w-4 h-4"})})]}),se&&s.jsxs("p",{className:"mt-2 text-xs text-zinc-500",children:[" Searching for: ",s.jsxs("span",{className:"text-blue-400 font-bold",children:['"',se,'"']})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase tracking-wider mb-2",children:[s.jsx(vr,{className:"w-3 h-3 inline mr-1"}),"Branch"]}),s.jsxs("select",{value:I,onChange:$=>D($.target.value),className:"w-full px-4 py-2 bg-zinc-950 border border-zinc-700 rounded-lg text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[s.jsx("option",{value:"",children:"All Branches"}),l.filter($=>$.isActive).map($=>s.jsx("option",{value:$.id,children:$.name},$.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase tracking-wider mb-2",children:"Status"}),s.jsxs("select",{value:_,onChange:$=>F($.target.value),className:"w-full px-4 py-2 bg-zinc-950 border border-zinc-700 rounded-lg text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[s.jsx("option",{value:"ALL",children:"All Sales"}),s.jsx("option",{value:"DEBT",children:"Debt Only"}),s.jsx("option",{value:"REVERSED",children:"Reversed Only"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase tracking-wider mb-2",children:[s.jsx(Ca,{className:"w-3 h-3 inline mr-1"}),"Start Date"]}),s.jsx("input",{type:"date",value:W,onChange:$=>ne($.target.value),className:"w-full px-4 py-2 bg-zinc-950 border border-zinc-700 rounded-lg text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-bold text-zinc-500 uppercase tracking-wider mb-2",children:[s.jsx(Ca,{className:"w-3 h-3 inline mr-1"}),"End Date"]}),s.jsx("input",{type:"date",value:Q,onChange:$=>V($.target.value),className:"w-full px-4 py-2 bg-zinc-950 border border-zinc-700 rounded-lg text-white text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]})]})}),s.jsxs("div",{className:"max-w-[1600px] mx-auto",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-zinc-400",children:[s.jsx(ct,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"Click on any row to view full transaction details"})]}),s.jsxs("div",{className:"text-xs text-zinc-500 font-medium",children:["Showing ",e.length," transactions"]})]}),s.jsxs("div",{className:`bg-white rounded-3xl shadow-2xl overflow-hidden transition-all duration-300 ${T?"fixed inset-4 z-50 max-w-none flex flex-col":"relative"}`,children:[s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsx("button",{onClick:()=>R(!T),className:`group flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm transition-all shadow-lg ${T?"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800":"bg-gradient-to-r from-indigo-600 to-blue-600 text-white hover:from-indigo-700 hover:to-blue-700"}`,title:T?"Exit Fullscreen (ESC)":"Expand Fullscreen",children:T?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:"w-4 h-4"}),s.jsx("span",{children:"Exit Fullscreen"})]}):s.jsxs(s.Fragment,{children:[s.jsx(To,{className:"w-4 h-4"}),s.jsx("span",{children:"Fullscreen"})]})})}),s.jsx("div",{className:`overflow-x-auto ${T?"flex-1":""}`,children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-50 border-b border-zinc-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Date & Time"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Receipt"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-700 uppercase tracking-wider",children:s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(ct,{className:"w-3 h-3"}),"Sold Items"]})}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Payment Breakdown"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Total"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-200",children:d?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-zinc-500 font-medium",children:"Loading sales data..."})]})})}):e.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:9,className:"px-6 py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(Hs,{className:"w-12 h-12 text-zinc-300"}),s.jsx("p",{className:"text-zinc-500 font-medium",children:"No sales found"})]})})}):e.map($=>s.jsxs(Z.tr,{initial:{opacity:0},animate:{opacity:1},onClick:()=>{h($),w(!0)},className:`transition-all cursor-pointer group ${$.flaggedForVerification&&$.mpesaVerificationStatus==="PENDING"?"animate-pulse bg-red-50 border-l-4 border-l-red-600 hover:bg-red-100 hover:shadow-md":$.reversalStatus==="PENDING"?"bg-amber-50/50 border-l-4 border-l-amber-500 hover:bg-amber-100 hover:shadow-md":"hover:bg-blue-50 hover:shadow-md border-l-4 border-l-transparent hover:border-l-blue-500"}`,style:$.flaggedForVerification&&$.mpesaVerificationStatus==="PENDING"?{boxShadow:"0 0 20px rgba(220, 38, 38, 0.3)",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"}:void 0,children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs font-bold text-zinc-900",children:new Date($.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})}),s.jsx("span",{className:"text-xs text-zinc-500 font-mono",children:new Date($.createdAt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("span",{className:"font-mono text-sm text-zinc-900 font-bold cursor-help",title:$.receiptNumber,children:["...",$.receiptNumber.slice(-4)]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[$.items.slice(0,2).map((ue,ee)=>s.jsxs("div",{className:"text-xs font-bold text-zinc-700 truncate max-w-[200px]",title:ue.product.name,children:[ue.quantity,"x ",ue.product.name]},ee)),$.items.length>2&&s.jsxs("div",{className:"text-xs font-bold text-zinc-500",children:["... + ",$.items.length-2," more items"]}),$.items.length>0&&s.jsxs("button",{onClick:ue=>{ue.stopPropagation(),h($),w(!0)},className:"text-xs font-bold text-blue-600 hover:text-blue-700 hover:underline text-left transition-colors mt-1 flex items-center gap-1",children:[s.jsx(ct,{className:"w-3 h-3"}),"View All Details"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[$.isWalkIn?s.jsx(Qs,{className:"w-4 h-4 text-zinc-400"}):s.jsx(Un,{className:"w-4 h-4 text-blue-500"}),s.jsx("span",{className:"text-sm text-zinc-900 font-medium",children:$.customerName})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-zinc-900",children:$.branch.name})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex flex-col gap-1.5",children:$.payments.map((ue,ee)=>s.jsxs("div",{className:"flex items-center gap-2",children:[L(ue.method),s.jsxs("span",{className:"text-xs font-bold text-zinc-700",children:[ue.method,":"]}),s.jsx("span",{className:"text-xs font-mono text-zinc-900",children:Re(ue.amount)})]},ee))})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:"text-sm font-bold text-zinc-900",children:Re($.total)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"flex justify-center",children:G($)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[$.reversalStatus==="PENDING"&&s.jsx("button",{onClick:ue=>{ue.stopPropagation(),ve($)},className:"px-3 py-1.5 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors text-xs font-bold uppercase tracking-wide animate-pulse",children:"Review Request"}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:ue=>{ue.stopPropagation(),k(P===$.id?null:$.id)},className:"p-2 rounded-lg hover:bg-zinc-100 transition-colors",title:"Actions",children:s.jsx(go,{className:"w-4 h-4 text-zinc-600"})}),P===$.id&&s.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white border border-zinc-200 rounded-xl shadow-xl z-50 overflow-hidden",children:[s.jsxs("button",{onClick:ue=>{ue.stopPropagation(),h($),w(!0),k(null)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-zinc-50 transition-colors text-left",children:[s.jsx(ct,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-zinc-900",children:"View Details"})]}),s.jsxs("button",{onClick:ue=>{ue.stopPropagation(),window.print(),k(null)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-zinc-50 transition-colors text-left",children:[s.jsx(Es,{className:"w-4 h-4 text-zinc-600"}),s.jsx("span",{className:"text-sm font-medium text-zinc-900",children:"Print Receipt"})]}),$.flaggedForVerification&&$.mpesaVerificationStatus==="PENDING"&&s.jsxs("button",{onClick:ue=>{ue.stopPropagation(),k(null),O($),A(!0)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-emerald-50 transition-colors text-left border-t border-zinc-100",children:[s.jsx(tr,{className:"w-4 h-4 text-emerald-600"}),s.jsx("span",{className:"text-sm font-medium text-emerald-900",children:"Unflag & Verify"})]}),s.jsxs("button",{onClick:ue=>{ue.stopPropagation(),xe.warning("Force Reversal",{description:"This feature requires admin authentication"}),k(null)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-red-50 transition-colors text-left border-t border-zinc-100",children:[s.jsx(Pl,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-red-900",children:"Force Reversal"})]})]})]})]})})]},$.id))})]})})]})]}),s.jsx(Ve,{children:x&&m&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!j&&v(!1),children:s.jsxs(Z.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:$=>$.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-2xl w-full overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(St,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white",children:"Reversal Request"}),s.jsxs("p",{className:"text-white/80 text-sm font-medium",children:["Receipt: ",m.receiptNumber]})]})]})}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6 p-4 bg-zinc-50 rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-zinc-500 font-medium mb-1",children:"Customer"}),s.jsx("p",{className:"text-zinc-900 font-bold",children:m.customerName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-zinc-500 font-medium mb-1",children:"Total Amount"}),s.jsx("p",{className:"text-zinc-900 font-bold",children:Re(m.total)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-zinc-500 font-medium mb-1",children:"Branch"}),s.jsx("p",{className:"text-zinc-900 font-bold",children:m.branch.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-zinc-500 font-medium mb-1",children:"Cashier"}),s.jsx("p",{className:"text-zinc-900 font-bold",children:m.user.name})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-bold text-zinc-700 uppercase tracking-wider mb-3",children:"Manager's Reason"}),s.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl",children:s.jsx("p",{className:"text-zinc-900 font-medium leading-relaxed",children:m.reversalReason||"No reason provided"})})]}),s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3",children:[s.jsx(St,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-red-900 mb-1",children:"Warning"}),s.jsx("p",{className:"text-xs text-red-700 leading-relaxed",children:"Approving this reversal will restore all items back to inventory and mark the sale as reversed. This action cannot be undone."})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>Ee("REJECTED"),disabled:j,className:"flex-1 px-6 py-3 bg-zinc-200 text-zinc-700 rounded-xl hover:bg-zinc-300 transition-colors font-bold text-sm uppercase tracking-wide disabled:opacity-50 disabled:cursor-not-allowed",children:"Reject"}),s.jsx("button",{onClick:()=>Ee("APPROVED"),disabled:j,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors font-bold text-sm uppercase tracking-wide disabled:opacity-50 disabled:cursor-not-allowed",children:j?"Processing...":"Approve Reversal"})]})]})]})})}),s.jsx(Ve,{children:y&&m&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>w(!1),children:s.jsxs(Z.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:$=>$.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-4xl w-full overflow-hidden max-h-[90vh] flex flex-col",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(Hs,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white",children:"Transaction Details"}),s.jsxs("p",{className:"text-white/80 text-sm font-medium",children:["Receipt: ",m.receiptNumber]})]})]}),s.jsx("button",{onClick:()=>w(!1),className:"w-10 h-10 rounded-xl bg-white/10 hover:bg-white/20 transition-colors flex items-center justify-center",children:s.jsx(vl,{className:"w-5 h-5 text-white"})})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[s.jsx("div",{className:"mb-6 p-5 bg-zinc-50 rounded-2xl border border-zinc-200",children:s.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 font-bold uppercase tracking-wider mb-1.5",children:"Date & Time"}),s.jsxs("p",{className:"text-zinc-900 font-bold",children:[new Date(m.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})," at ",new Date(m.createdAt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 font-bold uppercase tracking-wider mb-1.5",children:"Customer"}),s.jsx("p",{className:"text-zinc-900 font-bold",children:m.customerName}),m.customerPhone&&s.jsx("p",{className:"text-xs text-zinc-600 font-mono",children:m.customerPhone})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 font-bold uppercase tracking-wider mb-1.5",children:"Branch"}),s.jsx("p",{className:"text-zinc-900 font-bold",children:m.branch.name}),s.jsxs("p",{className:"text-xs text-zinc-600",children:["Cashier: ",m.user.name]})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"text-sm font-black text-zinc-900 uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(ct,{className:"w-4 h-4"}),"Sold Items (",m.items.length,")"]}),s.jsx("div",{className:"border border-zinc-200 rounded-2xl overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-100 border-b border-zinc-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Product"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Qty"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Unit Price"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Subtotal"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-200",children:m.items.map(($,ue)=>s.jsxs("tr",{className:"hover:bg-zinc-50 transition-colors",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-zinc-900",children:$.product.name}),s.jsx("p",{className:"text-xs text-zinc-500 font-mono",children:$.product.partNumber})]})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-900 rounded-lg text-sm font-bold",children:$.quantity})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("span",{className:"text-sm font-mono text-zinc-900",children:Re($.unitPrice)})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("span",{className:"text-sm font-bold text-zinc-900",children:Re($.total)})})]},ue))}),s.jsxs("tfoot",{className:"bg-zinc-50 border-t-2 border-zinc-300",children:[s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"px-4 py-3 text-right",children:s.jsx("span",{className:"text-sm font-bold text-zinc-700 uppercase tracking-wider",children:"Subtotal:"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("span",{className:"text-lg font-black text-zinc-900",children:Re(m.subtotal)})})]}),m.discount>0&&s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"px-4 py-2 text-right",children:s.jsx("span",{className:"text-sm font-bold text-red-600 uppercase tracking-wider",children:"Discount:"})}),s.jsx("td",{className:"px-4 py-2 text-right",children:s.jsxs("span",{className:"text-sm font-bold text-red-600",children:["-",Re(m.discount)]})})]}),s.jsxs("tr",{className:"bg-zinc-900",children:[s.jsx("td",{colSpan:3,className:"px-4 py-4 text-right",children:s.jsx("span",{className:"text-base font-black text-white uppercase tracking-wider",children:"Total:"})}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsx("span",{className:"text-2xl font-black text-white",children:Re(m.total)})})]})]})]})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-black text-zinc-900 uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(xr,{className:"w-4 h-4"}),"Payment Breakdown"]}),s.jsx("div",{className:"space-y-3",children:m.payments.map(($,ue)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-zinc-50 to-zinc-100 border border-zinc-200 rounded-xl",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[L($.method),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-zinc-900",children:$.method}),$.reference&&s.jsxs("p",{className:"text-xs text-zinc-600 font-mono",children:["Ref: ",$.reference]})]})]}),s.jsx("span",{className:"text-lg font-black text-zinc-900",children:Re($.amount)})]},ue))})]}),(m.isReversed||m.reversalStatus!=="NONE")&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h3",{className:"text-sm font-black text-zinc-900 uppercase tracking-wider mb-4 flex items-center gap-2",children:[s.jsx(Pl,{className:"w-4 h-4"}),"Reversal History"]}),s.jsx("div",{className:"p-5 bg-amber-50 border border-amber-200 rounded-2xl",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-bold text-zinc-700 uppercase tracking-wider",children:"Status"}),s.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-bold uppercase ${m.isReversed?"bg-red-600 text-white":m.reversalStatus==="PENDING"?"bg-amber-500 text-white":m.reversalStatus==="REJECTED"?"bg-zinc-600 text-white":"bg-zinc-200 text-zinc-700"}`,children:m.isReversed?"Reversed":m.reversalStatus})]}),m.reversalReason&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-bold text-zinc-700 uppercase tracking-wider block mb-1",children:"Reason"}),s.jsx("p",{className:"text-sm text-zinc-900 font-medium",children:m.reversalReason})]}),m.isReversed&&s.jsx("div",{className:"pt-3 border-t border-amber-300",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-xs text-red-900",children:"This transaction has been reversed. All items have been restored to inventory."})]})})]})})]}),m.flaggedForVerification&&m.mpesaVerificationStatus==="PENDING"&&s.jsx("div",{className:"mt-6 p-5 bg-red-50 border-2 border-red-200 rounded-2xl",children:s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsxs("div",{className:"relative flex h-8 w-8 flex-shrink-0",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-600 opacity-75"}),s.jsx("span",{className:"relative inline-flex items-center justify-center rounded-full h-8 w-8 bg-red-600",children:s.jsx(St,{className:"w-4 h-4 text-white"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-sm font-black text-red-900 uppercase tracking-wider mb-1",children:" Flagged for Verification"}),s.jsx("p",{className:"text-xs text-red-700 mb-3",children:"This sale is awaiting M-Pesa payment confirmation. As an admin, you can manually confirm this transaction."}),s.jsx("div",{className:"bg-white rounded-lg p-3 mb-3",children:s.jsxs("div",{className:"text-xs space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-600",children:"Expected Amount:"}),s.jsxs("span",{className:"font-bold text-zinc-900",children:["KES"," ",m.payments.filter($=>$.method==="MPESA").reduce(($,ue)=>$+ue.amount,0).toLocaleString()]})]}),m.flaggedAt&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-600",children:"Flagged Since:"}),s.jsxs("span",{className:"text-zinc-900",children:[Math.floor((Date.now()-new Date(m.flaggedAt).getTime())/1e3/60)," ","minutes ago"]})]})]})}),s.jsxs("button",{onClick:()=>{O(m),A(!0)},className:"w-full px-4 py-3 bg-red-600 text-white font-black rounded-xl hover:bg-red-700 transition-all uppercase tracking-wider shadow-lg flex items-center justify-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),"Confirm & Unflag (Admin Override)"]})]})]})}),s.jsx("div",{className:"mt-6 flex items-center justify-center",children:G(m)})]})]})})}),s.jsx(Ve,{children:E&&z&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center p-4",onClick:()=>{A(!1),O(null)},children:s.jsxs(Z.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:$=>$.stopPropagation(),className:"bg-white rounded-3xl shadow-2xl max-w-md w-full overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-green-500 px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:s.jsx(tr,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-white",children:"Confirm Verification"}),s.jsx("p",{className:"text-white/80 text-sm font-medium",children:"Admin Override Action"})]})]})}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"mb-6 p-4 bg-zinc-50 rounded-xl border border-zinc-200",children:s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-600 font-medium",children:"Receipt:"}),s.jsx("span",{className:"text-zinc-900 font-bold font-mono",children:z.receiptNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-600 font-medium",children:"Customer:"}),s.jsx("span",{className:"text-zinc-900 font-bold",children:z.customerName})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-600 font-medium",children:"M-Pesa Amount:"}),s.jsxs("span",{className:"text-emerald-600 font-bold",children:["KES"," ",z.payments.filter($=>$.method==="MPESA").reduce(($,ue)=>$+Number(ue.amount),0).toLocaleString()]})]})]})}),s.jsx("div",{className:"mb-6 p-4 bg-emerald-50 border border-emerald-200 rounded-xl",children:s.jsxs("p",{className:"text-sm text-emerald-900 font-medium leading-relaxed",children:["Are you sure you want to ",s.jsx("span",{className:"font-black",children:"manually verify"})," this M-Pesa payment? This will unflag the sale and treat it as a ",s.jsx("span",{className:"font-black",children:"normal verified transaction"}),"."]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>{A(!1),O(null)},className:"flex-1 px-6 py-3 bg-zinc-200 text-zinc-700 rounded-xl hover:bg-zinc-300 transition-colors font-bold text-sm uppercase tracking-wide",children:"Cancel"}),s.jsx("button",{onClick:()=>ke(z),className:"flex-1 px-6 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors font-bold text-sm uppercase tracking-wide shadow-lg",children:"Confirm & Unflag"})]})]})]})})}),T&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>R(!1)}),s.jsx(Oo,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{background:"#18181b",border:"1px solid #27272a",color:"#fafafa"},className:"font-sans"}})]})}const bA={Ruai:{bg:"bg-blue-100",text:"text-blue-700",border:"border-blue-300"},Utawala:{bg:"bg-purple-100",text:"text-purple-700",border:"border-purple-300"},Embakasi:{bg:"bg-emerald-100",text:"text-emerald-700",border:"border-emerald-300"},Pipeline:{bg:"bg-amber-100",text:"text-amber-700",border:"border-amber-300"},default:{bg:"bg-zinc-100",text:"text-zinc-700",border:"border-zinc-300"}},nfe=e=>bA[e]||bA.default,sfe=e=>{const t=new Date,r=new Date(t);r.setDate(r.getDate()-1);const n=e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear(),a=e.getDate()===r.getDate()&&e.getMonth()===r.getMonth()&&e.getFullYear()===r.getFullYear();return n?"Today":a?"Yesterday":e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},afe=e=>{const t=new Date(e);return`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`},ife=e=>e==="Today"||e==="Yesterday",ofe=e=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),lfe=e=>{const t={};return e.forEach(n=>{const a=afe(n.requestedAt);t[a]||(t[a]=[]),t[a].push(n)}),Object.entries(t).map(([n,a])=>{const i=new Date(a[0].requestedAt),l=sfe(i),c=[...a].sort((d,f)=>new Date(f.requestedAt).getTime()-new Date(d.requestedAt).getTime());return{label:l,date:i,requests:c,isRecent:ife(l)}}).sort((n,a)=>a.date.getTime()-n.date.getTime())},cfe=e=>{const t=new Map;return e.forEach(r=>{r.items.forEach(n=>{var l,c;const a=t.get(n.productId),i={branchId:((l=r.fromBranch)==null?void 0:l.id)||"",branchName:((c=r.fromBranch)==null?void 0:c.name)||"Unknown",qty:n.quantityRequested,transferId:r.id,itemId:n.id,flattenedId:`${r.id}-${n.id}`,status:r.status};a?(a.totalQuantity+=n.quantityRequested,a.breakdown.push(i)):t.set(n.productId,{productId:n.productId,productName:n.product.name,partNumber:n.product.partNumber,vehicleMake:n.product.vehicleMake,vehicleModel:n.product.vehicleModel,totalQuantity:n.quantityRequested,breakdown:[i]})})}),Array.from(t.values()).sort((r,n)=>r.productName.localeCompare(n.productName))};function ufe({group:e,onPrintDay:t,pickedItems:r,onBatchTogglePicked:n,onNavigateToAllocate:a}){const[i,l]=g.useState(!0),c=g.useMemo(()=>cfe(e.requests),[e.requests]),d=g.useMemo(()=>c.flatMap(P=>P.breakdown.map(k=>k.flattenedId)),[c]),f=e.requests.filter(P=>P.status==="REQUESTED"||P.status==="APPROVED").length,m=e.requests.filter(P=>P.status==="PACKED"||P.status==="DISPATCHED").length,h=e.requests.filter(P=>P.status==="RECEIVED").length,x=c.length,v=d.length,y=d.filter(P=>r.has(P)).length,w=P=>P.breakdown.every(k=>r.has(k.flattenedId)),j=P=>P.breakdown.some(k=>r.has(k.flattenedId))&&!w(P),S=P=>{const k=P.breakdown.map(E=>E.flattenedId);n(k)};return s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:`
          sticky top-0 z-20 flex items-center gap-3 px-4 py-3 mb-3
          backdrop-blur-xl rounded-xl border cursor-pointer
          ${e.isRecent?"bg-zinc-900/95 border-zinc-700":"bg-zinc-900/95 border-zinc-800"}
        `,onClick:()=>l(!i),children:[s.jsx("button",{className:"text-zinc-500 hover:text-zinc-300 transition-colors",children:i?s.jsx(Wr,{className:"w-5 h-5"}):s.jsx(Xs,{className:"w-5 h-5"})}),s.jsx("div",{className:`
            w-9 h-9 rounded-lg flex items-center justify-center
            ${e.isRecent?"bg-blue-500/20":"bg-zinc-800"}
          `,children:s.jsx(Ca,{className:`w-4 h-4 ${e.isRecent?"text-blue-400":"text-zinc-500"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`
              font-bold text-sm uppercase tracking-wider
              ${e.isRecent?"text-white":"text-zinc-400"}
            `,children:e.label}),e.label!=="Today"&&e.label!=="Yesterday"&&s.jsx("p",{className:"text-xs text-zinc-500",children:e.date.toLocaleDateString("en-US",{weekday:"long"})})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[y>0&&y<v&&s.jsxs("span",{className:"px-2.5 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-xs font-bold text-blue-400",children:[y,"/",v," picked"]}),y===v&&v>0&&s.jsx("span",{className:"px-2.5 py-1 bg-green-500/20 border border-green-500/30 rounded-full text-xs font-bold text-green-400",children:"All picked "}),f>0&&s.jsxs("span",{className:"px-2.5 py-1 bg-amber-500/20 border border-amber-500/30 rounded-full text-xs font-bold text-amber-400",children:[f," orders pending"]}),m>0&&s.jsxs("span",{className:"px-2.5 py-1 bg-blue-500/20 border border-blue-500/30 rounded-full text-xs font-bold text-blue-400",children:[m," packed"]}),h>0&&s.jsxs("span",{className:"px-2.5 py-1 bg-green-500/20 border border-green-500/30 rounded-full text-xs font-bold text-green-400",children:[h," restocked "]}),s.jsxs("span",{className:"text-xs text-zinc-500",children:[x," product",x!==1?"s":""]})]}),s.jsxs("button",{onClick:P=>{P.stopPropagation(),t(e,c)},className:"flex items-center gap-1.5 px-3 py-2 bg-zinc-800 hover:bg-zinc-700 border border-zinc-700 rounded-lg text-xs font-medium text-zinc-400 hover:text-white transition-all",children:[s.jsx(Es,{className:"w-3.5 h-3.5"}),"Print Day"]})]}),s.jsx(Ve,{children:i&&s.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:s.jsxs("div",{className:"bg-white rounded-xl border border-zinc-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"grid grid-cols-[1fr_100px_1fr_80px] gap-4 px-5 py-3 bg-zinc-50 border-b border-zinc-200",children:[s.jsx("div",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Product Details"}),s.jsx("div",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider text-center",children:"Total Qty"}),s.jsx("div",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider",children:"Branch Breakdown"}),s.jsx("div",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider text-center",children:"Picked"})]}),s.jsx("div",{className:"divide-y divide-zinc-100",children:c.map(P=>{const k=w(P),E=j(P),A=P.breakdown.every(z=>z.status==="CANCELLED");return s.jsxs(Z.div,{layout:!0,initial:{opacity:0},animate:{opacity:1},className:`
                        grid grid-cols-[1fr_100px_1fr_80px] gap-4 px-5 py-4 items-center
                        transition-colors duration-150
                        ${k?"bg-green-50/50":"bg-white hover:bg-zinc-50"}
                        ${A?"opacity-40":""}
                      `,children:[s.jsxs("button",{onClick:()=>{const z=P.breakdown.map(O=>O.branchId);a(P.productId,z)},className:`text-left group cursor-pointer ${k?"opacity-60":""}`,title:"Go to Stock Allocation",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:`font-semibold text-zinc-900 group-hover:text-blue-600 transition-colors ${k?"line-through text-zinc-500":""}`,children:P.productName}),s.jsx(Lh,{className:"w-4 h-4 text-zinc-400 opacity-0 group-hover:opacity-100 group-hover:text-blue-500 transition-all -translate-y-0.5"})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsx("span",{className:"text-xs text-zinc-500",children:P.vehicleMake&&P.vehicleModel?`${P.vehicleMake} ${P.vehicleModel}`:"Universal"}),s.jsx("span",{className:"font-mono text-xs text-zinc-400 bg-zinc-100 px-1.5 py-0.5 rounded",children:P.partNumber})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx("span",{className:`
                          inline-flex items-center justify-center min-w-[3.5rem] px-4 py-2
                          rounded-xl text-2xl font-black
                          ${k?"bg-green-100 text-green-700 border-2 border-green-300":E?"bg-blue-50 text-blue-700 border-2 border-blue-200":"bg-zinc-100 text-zinc-800 border-2 border-zinc-200"}
                        `,children:P.totalQuantity})}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:P.breakdown.map(z=>{const O=nfe(z.branchName),T=r.has(z.flattenedId),R=z.status==="RECEIVED";return s.jsxs("span",{className:`
                                inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs font-bold
                                border transition-all
                                ${R?"bg-green-100 text-green-700 border-green-300":T?"bg-green-100 text-green-700 border-green-300 line-through opacity-60":`${O.bg} ${O.text} ${O.border}`}
                              `,children:[R&&s.jsx(tr,{className:"w-3 h-3"}),z.branchName,": ",z.qty,R&&s.jsx("span",{className:"ml-1 text-[10px] uppercase tracking-wide",children:"RESTOCKED"})]},z.flattenedId)})}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:()=>S(P),disabled:A,className:`
                            w-10 h-10 rounded-xl flex items-center justify-center
                            transition-all duration-200 border-2
                            ${k?"bg-green-500 border-green-500 text-white":E?"bg-blue-100 border-blue-400 text-blue-600":A?"bg-zinc-100 border-zinc-200 cursor-not-allowed":"bg-white border-zinc-300 hover:border-green-400 hover:bg-green-50 cursor-pointer"}
                          `,children:k?s.jsx(tr,{className:"w-6 h-6"}):E?s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}):A?s.jsx("span",{className:"text-zinc-400 text-xs font-bold",children:"X"}):s.jsx(E$,{className:"w-5 h-5 text-zinc-400"})})})]},P.productId)})}),c.length>0&&s.jsxs("div",{className:"px-5 py-3 bg-zinc-50 border-t border-zinc-200 flex items-center justify-between",children:[s.jsxs("div",{className:"text-xs text-zinc-500",children:[x," unique products  ",v," line items from ",e.requests.length," orders"]}),s.jsx("div",{className:"flex items-center gap-2",children:y>0&&s.jsxs("span",{className:"text-xs font-medium text-green-600",children:[y," of ",v," picked"]})})]})]})})})]})}function dfe(){var z;const e=sa(),[t,r]=g.useState([]),[n,a]=g.useState([]),[i,l]=g.useState(!0),[c,d]=g.useState("ALL"),[f,m]=g.useState(!1),[h,x]=g.useState(()=>{try{const O=localStorage.getItem("branchOrders_pickedItems");return O?new Set(JSON.parse(O)):new Set}catch{return new Set}});g.useEffect(()=>{localStorage.setItem("branchOrders_pickedItems",JSON.stringify([...h]))},[h]);const v=O=>{x(T=>{const R=new Set(T);return O.every(D=>R.has(D))?O.forEach(D=>R.delete(D)):O.forEach(D=>R.add(D)),R})};g.useEffect(()=>{y(),w(!1)},[]),g.useEffect(()=>{const O=setInterval(()=>{w(!0)},15e3);return()=>clearInterval(O)},[]);const y=async()=>{try{const O=await we.get("/admin/branches");a(O.data.data||[])}catch(O){console.error("Failed to fetch branches:",O)}},w=async(O=!1)=>{var T,R;O||l(!0);try{const I=await we.get("/transfers/requests/pending"),D=((T=I.data)==null?void 0:T.data)||I.data||[];r(D)}catch(I){console.error("Failed to fetch transfer requests:",((R=I.response)==null?void 0:R.data)||I),O||xe.error("Connection failed. Please try again.")}finally{O||l(!1)}},j=g.useMemo(()=>{let O=t;return c!=="ALL"&&(O=O.filter(T=>{var R;return((R=T.fromBranch)==null?void 0:R.id)===c})),f&&(O=O.filter(T=>T.status==="REQUESTED"||T.status==="APPROVED")),O},[t,c,f]),S=g.useMemo(()=>lfe(j),[j]),P=(O,T)=>{e("/admin/allocation",{state:{autoSelectProductId:O,highlightBranchIds:T}})},k=(O,T)=>{const R=T.reduce((_,F)=>_+F.breakdown.length,0),I=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Picking List - ${O.label}</title>
          <style>
            * {
              margin: 0;
              padding: 0;
              box-sizing: border-box;
            }
            body {
              font-family: 'Segoe UI', Arial, sans-serif;
              font-size: 12px;
              line-height: 1.4;
              color: #000;
              background: #fff;
              padding: 20px;
            }
            .header {
              text-align: center;
              margin-bottom: 20px;
              padding-bottom: 15px;
              border-bottom: 2px solid #000;
            }
            .header h1 {
              font-size: 20px;
              font-weight: bold;
              margin-bottom: 5px;
            }
            .header h2 {
              font-size: 16px;
              font-weight: normal;
              color: #333;
            }
            .header .stats {
              margin-top: 10px;
              font-size: 12px;
              color: #666;
            }
            table {
              width: 100%;
              border-collapse: collapse;
              margin-top: 15px;
            }
            th {
              padding: 10px 8px;
              text-align: left;
              border-bottom: 2px solid #333;
              font-weight: bold;
              font-size: 11px;
              text-transform: uppercase;
              color: #333;
              background: #f5f5f5;
            }
            th.qty {
              text-align: center;
              width: 80px;
            }
            th.picked {
              text-align: center;
              width: 60px;
            }
            td {
              padding: 12px 8px;
              border-bottom: 1px solid #ddd;
              vertical-align: middle;
            }
            td.qty {
              text-align: center;
              font-weight: bold;
              font-size: 22px;
              background: #f0f0f0;
            }
            td.picked {
              text-align: center;
            }
            .checkbox {
              display: inline-block;
              width: 24px;
              height: 24px;
              border: 2px solid #333;
              border-radius: 4px;
            }
            .product-name {
              font-weight: bold;
              font-size: 14px;
            }
            .product-meta {
              font-size: 11px;
              color: #666;
              margin-top: 3px;
            }
            .part-number {
              font-family: monospace;
              font-size: 10px;
              background: #eee;
              padding: 2px 5px;
              border-radius: 3px;
              display: inline-block;
              margin-left: 8px;
            }
            .breakdown {
              margin-top: 6px;
            }
            .branch-badge {
              display: inline-block;
              padding: 3px 8px;
              border-radius: 4px;
              font-size: 10px;
              font-weight: bold;
              margin-right: 4px;
              margin-bottom: 4px;
              background: #f0f0f0;
              border: 1px solid #ccc;
            }
            .branch-Ruai { background: #dbeafe; border-color: #93c5fd; color: #1d4ed8; }
            .branch-Utawala { background: #f3e8ff; border-color: #d8b4fe; color: #7c3aed; }
            .branch-Embakasi { background: #d1fae5; border-color: #6ee7b7; color: #059669; }
            .branch-Pipeline { background: #fef3c7; border-color: #fcd34d; color: #b45309; }
            .branch-Kisumu { background: #fce7f3; border-color: #f9a8d4; color: #be185d; }
            .branch-Kiserian { background: #e0e7ff; border-color: #a5b4fc; color: #4338ca; }
            .footer {
              margin-top: 30px;
              padding-top: 15px;
              border-top: 1px solid #ccc;
              text-align: center;
              font-size: 10px;
              color: #666;
            }
            tr:nth-child(even) {
              background: #fafafa;
            }
            @media print {
              body { padding: 10px; }
              tr { page-break-inside: avoid; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>PRAM AUTO SPARES</h1>
            <h2>Picking List - ${ofe(O.date)}</h2>
            <div class="stats">
              ${T.length} unique products &bull; ${R} line items from ${O.requests.length} orders &bull; Sorted by Product Name
            </div>
          </div>

          <table>
            <thead>
              <tr>
                <th>Product Details</th>
                <th class="qty">Total Qty</th>
                <th>Branch Breakdown</th>
                <th class="picked">Picked</th>
              </tr>
            </thead>
            <tbody>
              ${T.map(_=>`
                <tr>
                  <td>
                    <div class="product-name">${_.productName}</div>
                    <div class="product-meta">
                      ${_.vehicleMake&&_.vehicleModel?`${_.vehicleMake} ${_.vehicleModel}`:"Universal"}
                      <span class="part-number">${_.partNumber}</span>
                    </div>
                  </td>
                  <td class="qty">${_.totalQuantity}</td>
                  <td>
                    <div class="breakdown">
                      ${_.breakdown.map(F=>`
                        <span class="branch-badge branch-${F.branchName}">${F.branchName}: ${F.qty}</span>
                      `).join("")}
                    </div>
                  </td>
                  <td class="picked">
                    <span class="checkbox"></span>
                  </td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <div class="footer">
            Printed on ${new Date().toLocaleString()} &bull; PRAM Auto Spares Inventory System
          </div>
        </body>
      </html>
    `,D=window.open("","_blank","width=800,height=600");D&&(D.document.write(I),D.document.close(),D.focus(),setTimeout(()=>{D.print()},250))},E=t.filter(O=>O.status==="REQUESTED"||O.status==="APPROVED").length,A=((z=S.find(O=>O.label==="Today"))==null?void 0:z.requests.length)||0;return s.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white py-8 px-6 font-sans",children:[s.jsx("div",{className:"max-w-[1400px] mx-auto mb-8",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-xl flex items-center justify-center border border-blue-500/30",children:s.jsx(YA,{className:"w-6 h-6 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:"Branch Orders"}),s.jsx("p",{className:"text-zinc-400 text-sm font-medium",children:"Order ledger  Review and process restock requests"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[E>0&&s.jsxs(Z.div,{animate:{scale:[1,1.02,1]},transition:{repeat:1/0,duration:3},className:"px-4 py-2 rounded-xl bg-amber-500/20 border border-amber-500/30 flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-sm font-bold text-amber-400",children:[E," to clear"]})]}),s.jsx("div",{className:"px-4 py-2 rounded-xl bg-zinc-800 border border-zinc-700",children:s.jsxs("span",{className:"text-sm text-zinc-400",children:["Today: ",s.jsx("span",{className:"font-bold text-white",children:A})]})})]})]})}),s.jsx("div",{className:"max-w-[1400px] mx-auto mb-8",children:s.jsxs("div",{className:"flex items-center gap-4 flex-wrap bg-zinc-900 rounded-xl border border-zinc-800 px-5 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-zinc-500",children:[s.jsx(Hu,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Filters:"})]}),s.jsxs("select",{value:c,onChange:O=>d(O.target.value),className:"px-4 py-2.5 bg-zinc-800 border border-zinc-700 rounded-xl text-sm font-medium text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none cursor-pointer",children:[s.jsx("option",{value:"ALL",children:"All Branches"}),n.filter(O=>O.isActive).map(O=>s.jsx("option",{value:O.id,children:O.name},O.id))]}),s.jsxs("div",{className:"flex items-center gap-1 bg-zinc-800 border border-zinc-700 rounded-xl p-1",children:[s.jsx("button",{onClick:()=>m(!1),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${f?"text-zinc-400 hover:text-zinc-200":"bg-zinc-700 text-white shadow-sm border border-zinc-600"}`,children:"All Orders"}),s.jsx("button",{onClick:()=>m(!0),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${f?"bg-zinc-700 text-white shadow-sm border border-zinc-600":"text-zinc-400 hover:text-zinc-200"}`,children:"Pending Only"})]})]})}),s.jsx("div",{className:"max-w-[1400px] mx-auto",children:i?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-zinc-900 rounded-2xl border border-zinc-800",children:[s.jsx(vt,{className:"w-8 h-8 text-blue-400 animate-spin mb-4"}),s.jsx("p",{className:"text-zinc-400 font-medium",children:"Loading orders..."})]}):S.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-zinc-900 rounded-2xl border border-zinc-800",children:[s.jsx("div",{className:"w-20 h-20 bg-zinc-800 rounded-2xl flex items-center justify-center mb-4",children:s.jsx(ct,{className:"w-10 h-10 text-zinc-500"})}),s.jsx("p",{className:"text-zinc-400 font-medium text-lg",children:"All caught up!"}),s.jsx("p",{className:"text-zinc-500 text-sm mt-1",children:"No orders to display"})]}):s.jsx("div",{className:"space-y-2",children:S.map(O=>s.jsx(ufe,{group:O,onPrintDay:k,pickedItems:h,onBatchTogglePicked:v,onNavigateToAllocate:P},O.label))})}),s.jsx(Oo,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{background:"#fff",border:"1px solid #e4e4e7",color:"#18181b"},className:"font-sans"}})]})}const Rj=e=>{if(e.totalDebt===0)return{status:"excellent",label:"Excellent",description:"No outstanding debt",bgColor:"bg-emerald-100",textColor:"text-emerald-700",borderColor:"border-emerald-300",icon:s.jsx(tr,{className:"w-4 h-4"})};const t=Math.floor((new Date().getTime()-new Date(e.lastVisitAt).getTime())/(1e3*60*60*24));return t>=30?{status:"critical",label:"Critical",description:`${t}+ days overdue`,bgColor:"bg-red-100",textColor:"text-red-700",borderColor:"border-red-300",icon:s.jsx(vl,{className:"w-4 h-4"})}:t>=20?{status:"warning",label:"At Risk",description:`${t} days overdue`,bgColor:"bg-amber-100",textColor:"text-amber-700",borderColor:"border-amber-300",icon:s.jsx(St,{className:"w-4 h-4"})}:{status:"good",label:"Good",description:"Recent activity",bgColor:"bg-green-100",textColor:"text-green-700",borderColor:"border-green-300",icon:s.jsx(zn,{className:"w-4 h-4"})}},ffe=e=>{const t=Math.floor((new Date().getTime()-new Date(e.createdAt).getTime())/864e5),r=Math.floor((new Date().getTime()-new Date(e.lastVisitAt).getTime())/(1e3*60*60*24));return e.totalSpent>1e5?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-bold bg-purple-100 text-purple-700 border border-purple-200",children:[s.jsx(JA,{className:"w-3 h-3"}),"VIP"]}):t<=30?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-bold bg-blue-100 text-blue-700 border border-blue-200",children:[s.jsx(Qy,{className:"w-3 h-3"}),"New"]}):r>60?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-bold bg-orange-100 text-orange-700 border border-orange-200",children:[s.jsx(Yy,{className:"w-3 h-3"}),"At Risk"]}):null},My=e=>{const t=Number(e.total),r=(e.payments||[]).filter(a=>a.method!=="CREDIT").reduce((a,i)=>a+Number(i.amount),0),n=(e.creditPayments||[]).reduce((a,i)=>a+Number(i.amount),0);return Math.max(0,t-r-n)},mfe=e=>{const t=new Date,r=new Date(e),n=Math.floor((t.getTime()-r.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)} minutes ago`:n<86400?`${Math.floor(n/3600)} hours ago`:n<172800?"Yesterday":n<604800?`${Math.floor(n/86400)} days ago`:n<2592e3?`${Math.floor(n/604800)} weeks ago`:`${Math.floor(n/2592e3)} months ago`},hfe=e=>{const t={default:"bg-amber-100 text-amber-700 border-amber-200",blue:"bg-blue-100 text-blue-700 border-blue-200",green:"bg-green-100 text-green-700 border-green-200",purple:"bg-purple-100 text-purple-700 border-purple-200"},r=e.split("").reduce((i,l)=>i+l.charCodeAt(0),0),n=Object.keys(t).filter(i=>i!=="default"),a=n[r%n.length];return t[a]||t.default},um=({icon:e,label:t,value:r,trend:n,iconColor:a,delay:i})=>{const l=()=>n>0?s.jsx(hn,{className:"w-3 h-3"}):n<0?s.jsx(vo,{className:"w-3 h-3"}):s.jsx(xo,{className:"w-3 h-3"}),c=()=>n>0?"text-emerald-600":n<0?"text-red-600":"text-zinc-500";return s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i},className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-6 hover:border-zinc-700 transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:`w-12 h-12 ${a} bg-opacity-10 rounded-xl flex items-center justify-center`,children:e}),s.jsxs("span",{className:`flex items-center gap-1 text-xs font-bold ${c()}`,children:[l(),Math.abs(n),"%"]})]}),s.jsx("p",{className:"text-3xl font-black text-white mb-1",children:r}),s.jsx("p",{className:"text-sm text-zinc-500 font-medium",children:t})]})},pfe=({customer:e,activeDebts:t,onClose:r,onPaymentRecorded:n})=>{const[a,i]=g.useState(""),[l,c]=g.useState(""),[d,f]=g.useState("CASH"),[m,h]=g.useState(!1),x=t.find(w=>w.id===a),v=x?My(x):0,y=async()=>{var j,S;if(!a){xe.error("Please select a sale to pay");return}const w=parseFloat(l);if(isNaN(w)||w<=0){xe.error("Please enter a valid amount");return}if(w>v+1){xe.error(`Amount exceeds remaining balance of ${Re(v)}`);return}h(!0);try{await ln.sales.recordCreditPayment(a,{amount:w,paymentMethod:d}),xe.success(`Payment of ${Re(w)} recorded successfully`),n(),r()}catch(P){console.error("Payment error:",P),xe.error(((S=(j=P.response)==null?void 0:j.data)==null?void 0:S.message)||"Failed to record payment")}finally{h(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden",children:[s.jsx("div",{className:"bg-emerald-600 text-white px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xr,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold",children:"Record Payment"}),s.jsx("p",{className:"text-emerald-100 text-sm",children:e.name})]})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-emerald-700 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[s.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Total Outstanding"}),s.jsx("p",{className:"text-2xl font-black text-red-700",children:Re(e.totalDebt)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-zinc-700 mb-2",children:"Select Sale to Pay"}),s.jsxs("select",{value:a,onChange:w=>i(w.target.value),className:"w-full px-4 py-3 bg-zinc-50 border border-zinc-300 rounded-xl text-zinc-900 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none",children:[s.jsx("option",{value:"",children:"-- Select a sale --"}),t.map(w=>{const j=My(w);return s.jsxs("option",{value:w.id,children:[w.receiptNumber," - ",Re(j)," remaining (",w.branch.name,")"]},w.id)})]})]}),x&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-amber-700",children:"Remaining Balance:"}),s.jsx("span",{className:"font-bold text-amber-800",children:Re(v)})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-zinc-700 mb-2",children:"Payment Amount (KES)"}),s.jsx("input",{type:"number",value:l,onChange:w=>c(w.target.value),placeholder:"Enter amount",min:"0",max:v,className:"w-full px-4 py-3 bg-zinc-50 border border-zinc-300 rounded-xl text-zinc-900 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none"}),x&&s.jsxs("button",{type:"button",onClick:()=>c(v.toString()),className:"mt-2 text-xs text-emerald-600 hover:text-emerald-700 font-bold",children:["Pay Full Balance (",Re(v),")"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-zinc-700 mb-2",children:"Payment Method"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{type:"button",onClick:()=>f("CASH"),className:`flex-1 px-4 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${d==="CASH"?"bg-emerald-600 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200"}`,children:[s.jsx(xr,{className:"w-4 h-4"}),"Cash"]}),s.jsxs("button",{type:"button",onClick:()=>f("MPESA"),className:`flex-1 px-4 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2 transition-all ${d==="MPESA"?"bg-green-600 text-white":"bg-zinc-100 text-zinc-600 hover:bg-zinc-200"}`,children:[s.jsx(os,{className:"w-4 h-4"}),"M-Pesa"]})]})]})]}),s.jsxs("div",{className:"border-t border-zinc-200 px-6 py-4 flex gap-3",children:[s.jsx("button",{onClick:r,className:"flex-1 px-4 py-3 bg-zinc-100 text-zinc-700 rounded-xl hover:bg-zinc-200 transition-colors font-bold",children:"Cancel"}),s.jsx("button",{onClick:y,disabled:m||!a||!l,className:"flex-1 px-4 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m?s.jsxs(s.Fragment,{children:[s.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tr,{className:"w-4 h-4"}),"Record Payment"]})})]})]})})},xfe=({customer:e,onClose:t,onRecordPayment:r})=>{var l,c,d;const[n,a]=g.useState("overview"),i=Rj(e);return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-5",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center text-2xl font-black",children:e.name.charAt(0).toUpperCase()}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:e.name}),s.jsx("p",{className:"text-indigo-200 text-sm font-mono",children:e.phone}),s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-bold ${i.bgColor} ${i.textColor}`,children:[i.icon,i.label]})})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-6 h-6"})})]})}),s.jsxs("div",{className:"grid grid-cols-4 border-b border-zinc-200",children:[s.jsxs("div",{className:"p-4 text-center border-r border-zinc-200",children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Total Spent"}),s.jsx("p",{className:"text-lg font-black text-emerald-600",children:Re(e.totalSpent)})]}),s.jsxs("div",{className:"p-4 text-center border-r border-zinc-200",children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Outstanding Debt"}),s.jsx("p",{className:`text-lg font-black ${e.totalDebt>0?"text-red-600":"text-zinc-400"}`,children:Re(e.totalDebt)})]}),s.jsxs("div",{className:"p-4 text-center border-r border-zinc-200",children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Total Orders"}),s.jsx("p",{className:"text-lg font-black text-zinc-900",children:((l=e.sales)==null?void 0:l.length)||0})]}),s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("p",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Member Since"}),s.jsx("p",{className:"text-lg font-black text-zinc-900",children:new Date(e.createdAt).toLocaleDateString("en-GB",{month:"short",year:"numeric"})})]})]}),s.jsx("div",{className:"flex border-b border-zinc-200",children:[{id:"overview",label:"Overview",icon:s.jsx(fn,{className:"w-4 h-4"})},{id:"transactions",label:"Transactions",icon:s.jsx(mn,{className:"w-4 h-4"})},{id:"debts",label:"Debts",icon:s.jsx(Or,{className:"w-4 h-4"})}].map(f=>s.jsxs("button",{onClick:()=>a(f.id),className:`flex-1 px-4 py-3 font-bold text-sm flex items-center justify-center gap-2 transition-all ${n===f.id?"text-indigo-600 border-b-2 border-indigo-600 bg-indigo-50":"text-zinc-500 hover:text-zinc-700 hover:bg-zinc-50"}`,children:[f.icon,f.label]},f.id))}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold text-zinc-700 uppercase tracking-wider mb-3 flex items-center gap-2",children:[s.jsx(V$,{className:"w-4 h-4 text-amber-500"}),"Favorite Products"]}),e.frequentItems&&e.frequentItems.length>0?s.jsx("div",{className:"grid grid-cols-3 gap-3",children:e.frequentItems.map((f,m)=>s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3",children:[s.jsx("p",{className:"font-bold text-zinc-900 text-sm truncate",children:f.name}),s.jsxs("p",{className:"text-xs text-amber-600 font-bold",children:[f.count," purchases"]})]},m))}):s.jsx("p",{className:"text-sm text-zinc-500 italic",children:"No purchase history yet"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold text-zinc-700 uppercase tracking-wider mb-3 flex items-center gap-2",children:[s.jsx(Ca,{className:"w-4 h-4 text-blue-500"}),"Recent Activity"]}),e.timeline&&e.timeline.length>0?s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:e.timeline.slice(0,10).map((f,m)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-zinc-50 rounded-xl",children:[s.jsx("div",{className:`p-2 rounded-full ${f.type==="PAYMENT"?"bg-emerald-100 text-emerald-600":f.type==="CREDIT_SALE"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:f.type==="PAYMENT"?s.jsx(P$,{className:"w-4 h-4"}):s.jsx(C$,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-bold text-sm text-zinc-900",children:f.type==="PAYMENT"?"Payment Received":f.type==="CREDIT_SALE"?"Credit Sale":"Cash Sale"}),s.jsxs("p",{className:`font-bold text-sm ${f.type==="PAYMENT"?"text-emerald-600":"text-zinc-900"}`,children:[f.type==="PAYMENT"?"+":"",Re(f.amount)]})]}),s.jsxs("p",{className:"text-xs text-zinc-500",children:[new Date(f.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}),f.receiptNumber&&` - ${f.receiptNumber}`]})]})]},m))}):s.jsx("p",{className:"text-sm text-zinc-500 italic",children:"No activity yet"})]})]}),n==="transactions"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-sm font-bold text-zinc-700 uppercase tracking-wider mb-3",children:["All Transactions (",((c=e.sales)==null?void 0:c.length)||0,")"]}),e.sales&&e.sales.length>0?s.jsx("div",{className:"space-y-2",children:e.sales.map(f=>s.jsxs("div",{className:"border border-zinc-200 rounded-xl p-4 hover:bg-zinc-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-sm font-bold text-zinc-900",children:f.receiptNumber}),f.isCredit&&s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${f.creditStatus==="PAID"?"bg-emerald-100 text-emerald-700":f.creditStatus==="PARTIAL"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:f.creditStatus})]}),s.jsx("span",{className:"font-bold text-zinc-900",children:Re(f.total)})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-zinc-500",children:[s.jsx("span",{children:f.branch.name}),s.jsx("span",{children:new Date(f.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]}),f.items&&f.items.length>0&&s.jsx("div",{className:"mt-2 pt-2 border-t border-zinc-100",children:s.jsx("p",{className:"text-xs text-zinc-500",children:f.items.map(m=>`${m.quantity}x ${m.product.name}`).join(", ")})})]},f.id))}):s.jsx("p",{className:"text-sm text-zinc-500 italic",children:"No transactions yet"})]}),n==="debts"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold text-red-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[s.jsx(tn,{className:"w-4 h-4"}),"Active Debts (",((d=e.activeDebts)==null?void 0:d.length)||0,")"]}),e.activeDebts&&e.activeDebts.length>0?s.jsxs("div",{className:"space-y-3",children:[e.activeDebts.map(f=>{const m=My(f);return s.jsxs("div",{className:"border border-red-200 bg-red-50 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"font-mono text-sm font-bold text-zinc-900",children:f.receiptNumber}),s.jsxs("span",{className:"font-bold text-red-600",children:[Re(m)," remaining"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-zinc-500 mb-3",children:[s.jsx("span",{children:f.branch.name}),s.jsx("span",{children:new Date(f.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${f.creditStatus==="PARTIAL"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:f.creditStatus}),s.jsxs("span",{className:"text-xs text-zinc-500",children:["Original: ",Re(f.total)]})]})]},f.id)}),s.jsxs("button",{onClick:r,className:"w-full px-4 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors font-bold flex items-center justify-center gap-2",children:[s.jsx(xr,{className:"w-4 h-4"}),"Record Payment"]})]}):s.jsxs("div",{className:"flex items-center gap-3 text-emerald-600 p-4 bg-emerald-50 rounded-xl border border-emerald-200",children:[s.jsx(tr,{className:"w-6 h-6"}),s.jsx("span",{className:"font-bold",children:"No outstanding debts"})]})]}),e.settledDebts&&e.settledDebts.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold text-emerald-600 uppercase tracking-wider mb-3 flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),"Settled Debts (",e.settledDebts.length,")"]}),s.jsx("div",{className:"space-y-2",children:e.settledDebts.slice(0,5).map(f=>s.jsx("div",{className:"border border-emerald-200 bg-emerald-50 rounded-xl p-3 opacity-75",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-mono text-sm text-zinc-700",children:f.receiptNumber}),s.jsx("span",{className:"text-sm text-emerald-600 font-bold",children:Re(f.total)})]})},f.id))})]})]})]}),s.jsxs("div",{className:"border-t border-zinc-200 px-6 py-4 flex gap-3 bg-zinc-50",children:[s.jsxs("a",{href:`tel:${e.phone}`,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-bold text-sm flex items-center justify-center gap-2",children:[s.jsx(os,{className:"w-4 h-4"}),"Call"]}),s.jsxs("a",{href:`sms:${e.phone}`,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors font-bold text-sm flex items-center justify-center gap-2",children:[s.jsx(kl,{className:"w-4 h-4"}),"SMS"]}),s.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 bg-zinc-200 text-zinc-700 rounded-xl hover:bg-zinc-300 transition-colors font-bold text-sm",children:"Close"})]})]})})},gfe=({customer:e,onClose:t,onRecordPayment:r,onViewProfile:n})=>{const a=Rj(e),i=()=>{window.location.href=`tel:${e.phone}`},l=()=>{window.location.href=`sms:${e.phone}`},c=()=>{window.location.href=`mailto:?subject=Regarding Customer ${e.name}&body=Customer Phone: ${e.phone}`};return s.jsx(Z.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsx("td",{colSpan:7,className:"p-0 bg-zinc-50",children:s.jsxs("div",{className:"p-6 border-t border-zinc-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-black text-zinc-900",children:"Customer Details"}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-200 rounded-lg transition-colors",children:s.jsx(Ze,{className:"w-5 h-5 text-zinc-600"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-zinc-200",children:[s.jsx("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider mb-3",children:"Status"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${a.bgColor} ${a.textColor} border ${a.borderColor}`,children:[a.icon,s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm",children:a.label}),s.jsx("p",{className:"text-xs opacity-80",children:a.description})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Total Orders"}),s.jsx("p",{className:"text-lg font-bold text-zinc-900",children:e.orderCount})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Avg Order Value"}),s.jsx("p",{className:"text-lg font-bold text-zinc-900",children:Re(e.orderCount>0?e.totalSpent/e.orderCount:0)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Member Since"}),s.jsx("p",{className:"text-sm font-medium text-zinc-700",children:new Date(e.createdAt).toLocaleDateString("en-GB",{month:"short",year:"numeric"})})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-zinc-200",children:[s.jsx("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider mb-3",children:"Contact"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-2 bg-zinc-50 rounded-lg",children:[s.jsx(os,{className:"w-4 h-4 text-zinc-400"}),s.jsx("span",{className:"font-mono text-sm text-zinc-700",children:e.phone})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:i,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-xs font-bold flex items-center justify-center gap-1",children:[s.jsx(os,{className:"w-3 h-3"}),"Call"]}),s.jsxs("button",{onClick:l,className:"px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-xs font-bold flex items-center justify-center gap-1",children:[s.jsx(kl,{className:"w-3 h-3"}),"SMS"]})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-zinc-200",children:[s.jsx("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider mb-3",children:"Outstanding Debt"}),e.totalDebt>0?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Total Owed"}),s.jsx("p",{className:"text-2xl font-black text-red-600",children:Re(e.totalDebt)})]}),s.jsxs("button",{onClick:r,className:"w-full px-3 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors text-xs font-bold flex items-center justify-center gap-1",children:[s.jsx(xr,{className:"w-3 h-3"}),"Record Payment"]})]}):s.jsxs("div",{className:"flex items-center gap-2 text-emerald-600",children:[s.jsx(tr,{className:"w-8 h-8"}),s.jsx("span",{className:"text-sm font-bold",children:"No outstanding debt"})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-xl border border-zinc-200",children:[s.jsx("h4",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider mb-3",children:"Total Spending"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Lifetime Value"}),s.jsx("p",{className:"text-2xl font-black text-emerald-600",children:Re(e.totalSpent)})]}),s.jsxs("button",{onClick:n,className:"w-full px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-xs font-bold flex items-center justify-center gap-1",children:[s.jsx(fn,{className:"w-3 h-3"}),"View Full Profile"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:i,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-bold text-sm flex items-center justify-center gap-2",children:[s.jsx(os,{className:"w-4 h-4"}),"Call Customer"]}),s.jsxs("button",{onClick:l,className:"flex-1 px-4 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors font-bold text-sm flex items-center justify-center gap-2",children:[s.jsx(kl,{className:"w-4 h-4"}),"Send SMS"]}),s.jsxs("button",{onClick:c,className:"flex-1 px-4 py-3 bg-zinc-600 text-white rounded-xl hover:bg-zinc-700 transition-colors font-bold text-sm flex items-center justify-center gap-2",children:[s.jsx($l,{className:"w-4 h-4"}),"Email"]}),s.jsxs("button",{onClick:n,className:"flex-1 px-4 py-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors font-bold text-sm flex items-center justify-center gap-2",children:[s.jsx(fn,{className:"w-4 h-4"}),"Full Profile"]})]})]})})})};function vfe(){var re;const[e,t]=g.useState({totalCustomers:0,activeCustomers:0,totalDebt:0,vipCustomers:0,trends:{customersGrowth:0,activeGrowth:0,debtGrowth:0},branchBreakdown:[]}),[r,n]=g.useState([]),[a,i]=g.useState([]),[l,c]=g.useState(!0),[d,f]=g.useState(!0),[m,h]=g.useState(""),[x,v]=g.useState(""),[y,w]=g.useState(""),[j,S]=g.useState(""),[P,k]=g.useState(1),[E,A]=g.useState(20),[z,O]=g.useState(1),[T,R]=g.useState(0),[I,D]=g.useState(null),[_,F]=g.useState(!1),[W,ne]=g.useState(!1),[Q,V]=g.useState(!1),[q,te]=g.useState(!1),[se,U]=g.useState(null),[X,me]=g.useState(null),[de,ve]=g.useState(!1),[ke,Ee]=g.useState(!1);g.useEffect(()=>{const fe=setTimeout(()=>{v(m),k(1)},300);return()=>clearTimeout(fe)},[m]),g.useEffect(()=>{const fe=Pe=>{Pe.key==="Escape"&&ke&&Ee(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[ke]),g.useEffect(()=>{G()},[]),g.useEffect(()=>{L()},[y]),g.useEffect(()=>{$()},[x,y,j,P,E]);const G=async()=>{try{const fe=await ln.branches.list();i(fe.data||[])}catch(fe){console.error("Failed to fetch branches:",fe),xe.error("Failed to load branches")}},L=async()=>{try{f(!0);const fe={};y&&(fe.branchId=y);const Pe=await ln.customers.stats(fe);t(Pe.data)}catch(fe){console.error("Failed to fetch customer stats:",fe),xe.error("Failed to load customer statistics")}finally{f(!1)}},$=async()=>{try{c(!0);const fe={page:P,limit:E};x&&(fe.search=x),y&&(fe.branchId=y),j&&(fe.status=j);const Pe=await ln.customers.list(fe);n(Pe.data.customers||[]),O(Pe.data.pagination.totalPages||1),R(Pe.data.pagination.total||0)}catch(fe){console.error("Failed to fetch customers:",fe),xe.error("Failed to load customers"),n([])}finally{c(!1)}},ue=async fe=>{try{ve(!0);const Pe=await ln.customers.details(fe);return me(Pe.data),Pe.data}catch(Pe){return console.error("Failed to fetch customer details:",Pe),xe.error("Failed to load customer details"),null}finally{ve(!1)}},ee=async fe=>{U(fe);const Pe=await ue(fe.id);Pe&&(me(Pe),V(!0))},Ce=async fe=>{U(fe);const Pe=await ue(fe.id);Pe&&(me(Pe),te(!0))},ye=()=>{$(),L()},Xe=()=>{if(r.length===0){xe.warning("No data to export");return}const fe=[["Name","Phone","Total Spent","Total Debt","Order Count","Last Visit","Created"],...r.map(he=>[he.name,he.phone,he.totalSpent,he.totalDebt,he.orderCount,new Date(he.lastVisitAt).toLocaleDateString(),new Date(he.createdAt).toLocaleDateString()])].map(he=>he.join(",")).join(`
`),Pe=new Blob([fe],{type:"text/csv"}),Je=window.URL.createObjectURL(Pe),B=document.createElement("a");B.href=Je,B.download=`customers-${new Date().toISOString().split("T")[0]}.csv`,B.click(),window.URL.revokeObjectURL(Je),xe.success("Customer data exported successfully")},Ue=()=>{switch(j){case"active":return"Active Only";case"hasDebt":return"Has Debt";case"vip":return"VIP Customers";case"inactive":return"Inactive";default:return"All Customers"}};return s.jsxs("div",{className:"min-h-screen bg-zinc-950 p-6",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-500/10 border border-blue-500/20 rounded-xl flex items-center justify-center",children:s.jsx(Un,{className:"w-6 h-6 text-blue-500"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black text-white",children:"Customer Intelligence"}),s.jsx("p",{className:"text-sm text-zinc-500",children:"Comprehensive customer analytics across all branches"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(um,{icon:s.jsx(Un,{className:"w-6 h-6 text-blue-500"}),label:"Total Customers",value:d?"...":e.totalCustomers.toLocaleString(),trend:e.trends.customersGrowth,iconColor:"text-blue-500",delay:.1}),s.jsx(um,{icon:s.jsx(hn,{className:"w-6 h-6 text-emerald-500"}),label:"Active Customers",value:d?"...":e.activeCustomers.toLocaleString(),trend:e.trends.activeGrowth,iconColor:"text-emerald-500",delay:.2}),s.jsx(um,{icon:s.jsx(tn,{className:"w-6 h-6 text-red-500"}),label:"Total Outstanding Debt",value:d?"...":Re(e.totalDebt),trend:e.trends.debtGrowth,iconColor:"text-red-500",delay:.3}),s.jsx(um,{icon:s.jsx(JA,{className:"w-6 h-6 text-purple-500"}),label:"VIP Customers",value:d?"...":e.vipCustomers.toLocaleString(),trend:0,iconColor:"text-purple-500",delay:.4})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(gr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-500"}),s.jsx("input",{type:"text",placeholder:"Search by name or phone...",value:m,onChange:fe=>h(fe.target.value),className:"w-full pl-12 pr-4 py-3 bg-zinc-950 border border-zinc-800 rounded-xl text-white placeholder-zinc-600 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>{F(!_),ne(!1)},className:"px-4 py-3 bg-zinc-950 border border-zinc-800 rounded-xl text-white font-medium hover:bg-zinc-800 transition-all flex items-center gap-2 min-w-[180px]",children:[s.jsx(vr,{className:"w-4 h-4 text-zinc-500"}),s.jsx("span",{className:"flex-1 text-left text-sm",children:y&&((re=a.find(fe=>fe.id===y))==null?void 0:re.name)||"All Branches"}),s.jsx(Wr,{className:`w-4 h-4 transition-transform ${_?"rotate-180":""}`})]}),_&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>F(!1)}),s.jsxs(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-full mt-2 right-0 w-64 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl overflow-hidden z-20",children:[s.jsx("button",{onClick:()=>{w(""),F(!1)},className:`w-full px-4 py-3 text-left hover:bg-zinc-800 transition-colors ${y?"text-zinc-400":"bg-zinc-800 text-white"}`,children:"All Branches"}),a.filter(fe=>fe.isActive).map(fe=>s.jsx("button",{onClick:()=>{w(fe.id),F(!1)},className:`w-full px-4 py-3 text-left hover:bg-zinc-800 transition-colors ${y===fe.id?"bg-zinc-800 text-white":"text-zinc-400"}`,children:fe.name},fe.id))]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>{ne(!W),F(!1)},className:"px-4 py-3 bg-zinc-950 border border-zinc-800 rounded-xl text-white font-medium hover:bg-zinc-800 transition-all flex items-center gap-2 min-w-[180px]",children:[s.jsx(Hu,{className:"w-4 h-4 text-zinc-500"}),s.jsx("span",{className:"flex-1 text-left text-sm",children:Ue()}),s.jsx(Wr,{className:`w-4 h-4 transition-transform ${W?"rotate-180":""}`})]}),W&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>ne(!1)}),s.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-full mt-2 right-0 w-64 bg-zinc-900 border border-zinc-700 rounded-xl shadow-2xl overflow-hidden z-20",children:[{value:"",label:"All Customers"},{value:"active",label:"Active Only"},{value:"hasDebt",label:"Has Debt"},{value:"vip",label:"VIP Customers"},{value:"inactive",label:"Inactive"}].map(fe=>s.jsx("button",{onClick:()=>{S(fe.value),ne(!1)},className:`w-full px-4 py-3 text-left hover:bg-zinc-800 transition-colors ${j===fe.value?"bg-zinc-800 text-white":"text-zinc-400"}`,children:fe.label},fe.value))})]})]})]}),s.jsx("div",{className:"flex gap-3",children:s.jsxs("button",{onClick:Xe,className:"px-4 py-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors font-bold text-sm flex items-center gap-2",children:[s.jsx(ez,{className:"w-4 h-4"}),"Export"]})})]})})}),s.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl border border-zinc-200 overflow-hidden transition-all duration-300 ${ke?"fixed inset-4 z-50 max-w-none flex flex-col":"relative"}`,children:[s.jsx("div",{className:"absolute top-4 right-4 z-10",children:s.jsx("button",{onClick:()=>Ee(!ke),className:`group flex items-center gap-2 px-4 py-2 rounded-xl font-bold text-sm transition-all shadow-lg ${ke?"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800":"bg-gradient-to-r from-indigo-600 to-blue-600 text-white hover:from-indigo-700 hover:to-blue-700"}`,title:ke?"Exit Fullscreen (ESC)":"Expand Fullscreen",children:ke?s.jsxs(s.Fragment,{children:[s.jsx(Mo,{className:"w-4 h-4"}),s.jsx("span",{children:"Exit Fullscreen"})]}):s.jsxs(s.Fragment,{children:[s.jsx(To,{className:"w-4 h-4"}),s.jsx("span",{children:"Fullscreen"})]})})}),s.jsx("div",{className:`overflow-x-auto ${ke?"flex-1":""}`,children:l?s.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-zinc-900 mb-4"}),s.jsx("p",{className:"text-zinc-400 font-mono text-xs uppercase tracking-widest",children:"Loading customers..."})]}):r.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-32",children:[s.jsx("div",{className:"bg-zinc-100 p-6 rounded-full mb-6",children:s.jsx(Un,{className:"w-16 h-16 text-zinc-400"})}),s.jsx("p",{className:"text-zinc-900 font-bold text-lg mb-2",children:"No customers found"}),s.jsx("p",{className:"text-zinc-500 text-sm",children:"Try adjusting your filters or search term"}),(m||y||j)&&s.jsx("button",{onClick:()=>{h(""),w(""),S("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-bold",children:"Clear Filters"})]}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-50 border-b border-zinc-200 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-zinc-700 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-zinc-700 uppercase tracking-wider",children:"Branch"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-zinc-700 uppercase tracking-wider",children:"Total Spent"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-zinc-700 uppercase tracking-wider",children:"Debt"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-zinc-700 uppercase tracking-wider",children:"Last Visit"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-zinc-700 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-black text-zinc-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{children:r.map((fe,Pe)=>{const Je=Rj(fe),B=I===fe.id,he=Math.floor((new Date().getTime()-new Date(fe.lastVisitAt).getTime())/(1e3*60*60*24))<=30;return s.jsxs(Se.Fragment,{children:[s.jsxs(Z.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Pe*.02},className:`border-b border-zinc-100 hover:bg-amber-50/50 transition-all cursor-pointer ${B?"bg-amber-50/30":Pe%2===0?"bg-white":"bg-zinc-50/30"}`,onClick:()=>D(B?null:fe.id),children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-zinc-900 text-base",children:fe.name}),ffe(fe)]}),s.jsx("span",{className:"text-xs font-mono text-zinc-500 bg-zinc-100 px-2 py-0.5 rounded w-fit",children:fe.phone})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[fe.primaryBranch?s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-bold border w-fit ${hfe(fe.primaryBranch.name)}`,children:[s.jsx(vr,{className:"w-3 h-3"}),fe.primaryBranch.name]}):s.jsx("span",{className:"text-xs text-zinc-500",children:"No branch"}),s.jsx("span",{className:`text-xs font-bold ${he?"text-emerald-600":"text-zinc-400"}`,children:he?" Active":" Inactive"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:`text-base font-bold ${fe.totalSpent>5e4?"text-emerald-600":"text-zinc-900"}`,children:Re(fe.totalSpent)}),s.jsxs("span",{className:"text-xs text-zinc-500",children:[fe.orderCount," ",fe.orderCount===1?"order":"orders"]})]})}),s.jsx("td",{className:"px-6 py-4",children:fe.totalDebt>0?s.jsx("span",{className:"text-base font-bold text-red-600",children:Re(fe.totalDebt)}):s.jsx("span",{className:"text-sm text-zinc-400",children:""})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-sm font-medium text-zinc-900",children:mfe(fe.lastVisitAt)}),s.jsx("span",{className:"text-xs text-zinc-500",children:new Date(fe.lastVisitAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg ${Je.bgColor} ${Je.textColor} border ${Je.borderColor}`,children:[Je.icon,s.jsx("span",{className:"font-bold text-sm",children:Je.label})]})}),s.jsx("td",{className:"px-6 py-4",onClick:Te=>Te.stopPropagation(),children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("button",{onClick:()=>D(B?null:fe.id),className:"p-2 hover:bg-zinc-200 rounded-lg transition-colors group",title:"View Details",children:B?s.jsx(ru,{className:"w-5 h-5 text-blue-600"}):s.jsx(Wr,{className:"w-5 h-5 text-zinc-600 group-hover:text-blue-600"})}),s.jsx("button",{onClick:()=>xe.info("Edit customer functionality coming soon"),className:"p-2 hover:bg-zinc-200 rounded-lg transition-colors group",title:"Edit Customer",children:s.jsx(B$,{className:"w-4 h-4 text-zinc-600 group-hover:text-amber-600"})})]})})]}),s.jsx(Ve,{children:B&&s.jsx(gfe,{customer:fe,onClose:()=>D(null),onRecordPayment:()=>ee(fe),onViewProfile:()=>Ce(fe)})})]},fe.id)})})]})}),!l&&r.length>0&&s.jsx("div",{className:"border-t border-zinc-200 px-6 py-4 bg-zinc-50",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"text-sm text-zinc-600",children:["Showing"," ",s.jsx("span",{className:"font-bold text-zinc-900",children:(P-1)*E+1})," ","to"," ",s.jsx("span",{className:"font-bold text-zinc-900",children:Math.min(P*E,T)})," ","of"," ",s.jsx("span",{className:"font-bold text-zinc-900",children:T})," ","customers"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>k(fe=>Math.max(1,fe-1)),disabled:P===1,className:"px-3 py-2 bg-white border border-zinc-300 rounded-lg text-zinc-700 hover:bg-zinc-100 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm",children:"Previous"}),Array.from({length:Math.min(5,z)},(fe,Pe)=>{let Je;return z<=5||P<=3?Je=Pe+1:P>=z-2?Je=z-4+Pe:Je=P-2+Pe,s.jsx("button",{onClick:()=>k(Je),className:`px-4 py-2 rounded-lg font-bold text-sm transition-colors ${P===Je?"bg-blue-600 text-white":"bg-white border border-zinc-300 text-zinc-700 hover:bg-zinc-100"}`,children:Je},Je)}),s.jsx("button",{onClick:()=>k(fe=>Math.min(z,fe+1)),disabled:P===z,className:"px-3 py-2 bg-white border border-zinc-300 rounded-lg text-zinc-700 hover:bg-zinc-100 disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm",children:"Next"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{htmlFor:"itemsPerPage",className:"text-sm text-zinc-600 font-medium",children:"Per page:"}),s.jsxs("select",{id:"itemsPerPage",value:E,onChange:fe=>{A(Number(fe.target.value)),k(1)},className:"px-3 py-2 bg-white border border-zinc-300 rounded-lg text-zinc-700 font-medium text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[s.jsx("option",{value:20,children:"20"}),s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"})]})]})]})})]}),s.jsx(Ve,{children:Q&&se&&X&&s.jsx(pfe,{customer:se,activeDebts:X.activeDebts,onClose:()=>{V(!1),U(null),me(null)},onPaymentRecorded:ye})}),s.jsx(Ve,{children:q&&X&&s.jsx(xfe,{customer:X,onClose:()=>{te(!1),U(null),me(null)},onRecordPayment:()=>{te(!1),V(!0)}})}),s.jsx(Ve,{children:de&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl p-8 flex flex-col items-center gap-4 shadow-2xl",children:[s.jsx(vt,{className:"w-10 h-10 text-indigo-600 animate-spin"}),s.jsx("p",{className:"text-zinc-700 font-bold",children:"Loading customer profile..."})]})})}),ke&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>Ee(!1)}),s.jsx(Oo,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{background:"#18181b",border:"1px solid #27272a",color:"#fafafa"},className:"font-sans"}})]})}async function jt(e){var t,r;try{return{data:(await e).data,error:null}}catch(n){const a=((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.message)||n.message||"An error occurred";return console.error("[Procurement Service]",a),{data:null,error:a}}}const vi={getAll:e=>jt(we.get("/procurement/suppliers",{params:e})),getById:e=>jt(we.get(`/procurement/suppliers/${e}`)),create:e=>jt(we.post("/procurement/suppliers",e)),update:(e,t)=>jt(we.put(`/procurement/suppliers/${e}`,t)),delete:e=>jt(we.delete(`/procurement/suppliers/${e}`)),getByLocation:()=>jt(we.get("/procurement/suppliers/by-location")),getCatalog:(e,t)=>jt(we.get(`/procurement/suppliers/${e}/products`,{params:t})),addProduct:(e,t)=>jt(we.post(`/procurement/suppliers/${e}/products`,t))},ou={getAll:e=>jt(we.get("/procurement/supplier-products",{params:e})),getById:e=>jt(we.get(`/procurement/supplier-products/${e}`)),create:e=>jt(we.post("/procurement/supplier-products",e)),update:(e,t)=>jt(we.put(`/procurement/supplier-products/${e}`,t)),delete:e=>jt(we.delete(`/procurement/supplier-products/${e}`)),searchProducts:e=>jt(we.get("/procurement/products/search",{params:{q:e}})),getProductSuppliers:e=>jt(we.get(`/procurement/products/${e}/suppliers`))},dm={getAll:e=>jt(we.get("/procurement/orders",{params:e})),getById:e=>jt(we.get(`/procurement/orders/${e}`)),create:e=>jt(we.post("/procurement/orders",e)),update:(e,t)=>jt(we.put(`/procurement/orders/${e}`,t)),delete:e=>jt(we.delete(`/procurement/orders/${e}`)),markItemReceived:(e,t,r)=>jt(we.patch(`/procurement/orders/${e}/items/${t}`,{is_received:r})),updateItem:(e,t,r)=>jt(we.put(`/procurement/orders/${e}/items/${t}`,r)),updateStatus:(e,t)=>jt(we.patch(`/procurement/orders/${e}/status`,{status:t})),updatePaymentStatus:(e,t)=>jt(we.patch(`/procurement/orders/${e}/payment`,{payment_status:t}))},Hv={getAll:e=>jt(we.get("/procurement/supplier-payments",{params:e})),update:(e,t)=>jt(we.put(`/procurement/supplier-payments/${e}`,t)),getPending:()=>jt(we.get("/procurement/payments/pending"))},bfe={getAll:()=>jt(we.get("/procurement/workers"))},Hi={"Nairobi CBD":{bg:"bg-emerald-500/10",text:"text-emerald-400",border:"border-emerald-500/30"},Dubai:{bg:"bg-amber-500/10",text:"text-amber-400",border:"border-amber-500/30"},Uganda:{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/30"},Other:{bg:"bg-zinc-500/10",text:"text-zinc-400",border:"border-zinc-500/30"}},yfe=["Filters","Brake Parts","Engine Parts","Body Parts","Electrical","Oils & Fluids","Tires","Batteries","Accessories","Other"],wfe=e=>e===null?{bg:"bg-zinc-500/10",text:"text-zinc-500",icon:xo}:e<0?{bg:"bg-red-500/20",text:"text-red-400",icon:vo}:e<15?{bg:"bg-amber-500/20",text:"text-amber-400",icon:vo}:e<25?{bg:"bg-yellow-500/20",text:"text-yellow-400",icon:xo}:e<40?{bg:"bg-emerald-500/20",text:"text-emerald-400",icon:hn}:{bg:"bg-green-500/20",text:"text-green-400",icon:hn};function yA(){const[e,t]=g.useState([]),[r,n]=g.useState(new Set(["Nairobi CBD"])),[a,i]=g.useState(null),[l,c]=g.useState([]),[d,f]=g.useState(!0),[m,h]=g.useState(!1),[x,v]=g.useState(""),[y,w]=g.useState(!1),[j,S]=g.useState(!1),[P,k]=g.useState(null),[E,A]=g.useState(null),[z,O]=g.useState(""),[T,R]=g.useState(!1),[I,D]=g.useState({name:"",location:"Nairobi CBD",branch_name:"",contact_person:"",phone:"",specialties:[],notes:""}),[_,F]=g.useState(""),[W,ne]=g.useState([]),[Q,V]=g.useState(!1),[q,te]=g.useState(null),[se,U]=g.useState(""),[X,me]=g.useState("KES"),de=g.useCallback(async()=>{f(!0);const{data:re}=await vi.getByLocation();if(re&&(t(re),!a&&re.length>0)){const fe=re[0];fe.suppliers.length>0&&i(fe.suppliers[0])}f(!1)},[]),ve=g.useCallback(async re=>{h(!0);const{data:fe}=await vi.getCatalog(re,{search:x||void 0});fe&&c(fe),h(!1)},[x]),ke=g.useCallback(async re=>{if(re.length<2){ne([]);return}V(!0);const{data:fe}=await ou.searchProducts(re);fe&&ne(fe),V(!1)},[]);g.useEffect(()=>{de()},[de]),g.useEffect(()=>{a&&ve(a.id)},[a,ve]),g.useEffect(()=>{const re=setTimeout(()=>{ke(_)},300);return()=>clearTimeout(re)},[_,ke]);const Ee=re=>{n(fe=>{const Pe=new Set(fe);return Pe.has(re)?Pe.delete(re):Pe.add(re),Pe})},G=async()=>{if(R(!0),P){const{data:re}=await vi.update(P.id,I);re&&(de(),i(re))}else{const{data:re}=await vi.create(I);re&&(de(),i(re),n(fe=>new Set(fe).add(re.location)))}R(!1),w(!1),k(null),ye()},L=async re=>{if(!confirm(`Delete supplier "${re.name}"? This cannot be undone.`))return;const{error:fe}=await vi.delete(re.id);fe||(de(),(a==null?void 0:a.id)===re.id&&i(null))},$=async()=>{if(!a||!q||!se)return;R(!0);const{data:re}=await vi.addProduct(a.id,{product_id:q.product.id,wholesale_price:parseFloat(se),currency:X});re&&(ve(a.id),S(!1),te(null),U(""),F(""),ne([])),R(!1)},ue=async re=>{if(!z)return;R(!0);const{data:fe}=await ou.update(re,{wholesale_price:parseFloat(z)});fe&&a&&ve(a.id),R(!1),A(null),O("")},ee=async re=>{if(!confirm("Remove this product from supplier catalog?"))return;const{error:fe}=await ou.delete(re);!fe&&a&&ve(a.id)},Ce=async re=>{const{data:fe}=await ou.update(re.id,{is_available:!re.is_available});fe&&a&&ve(a.id)},ye=()=>{D({name:"",location:"Nairobi CBD",branch_name:"",contact_person:"",phone:"",specialties:[],notes:""})},Xe=re=>{k(re),D({name:re.name,location:re.location,branch_name:re.branch_name,contact_person:re.contact_person,phone:re.phone,specialties:re.specialties,notes:re.notes||""}),w(!0)},Ue=l.filter(re=>{var fe,Pe,Je;return!x||((fe=re.product)==null?void 0:fe.name.toLowerCase().includes(x.toLowerCase()))||((Je=(Pe=re.product)==null?void 0:Pe.part_number)==null?void 0:Je.toLowerCase().includes(x.toLowerCase()))});return s.jsxs("div",{className:"flex gap-6 h-[calc(100vh-200px)] min-h-[600px]",children:[s.jsxs("div",{className:"w-80 flex-shrink-0 bg-zinc-900/50 border border-zinc-800/50 rounded-xl overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-zinc-800/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"font-semibold text-zinc-200",children:"Suppliers"}),s.jsx("button",{onClick:()=>{ye(),k(null),w(!0)},className:"p-1.5 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg transition-colors",children:s.jsx(Tr,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"flex gap-1 flex-wrap",children:e.map(re=>s.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${Hi[re.location].bg} ${Hi[re.location].text}`,children:[re.location,": ",re.count]},re.location))})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:d?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(vt,{className:"w-6 h-6 text-zinc-500 animate-spin"})}):s.jsx("div",{className:"space-y-1",children:e.map(re=>s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>Ee(re.location),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-left transition-colors ${Hi[re.location].bg} hover:opacity-80`,children:[r.has(re.location)?s.jsx(Wr,{className:"w-4 h-4 text-zinc-400"}):s.jsx(Xs,{className:"w-4 h-4 text-zinc-400"}),s.jsx(hm,{className:`w-4 h-4 ${Hi[re.location].text}`}),s.jsx("span",{className:`text-sm font-medium ${Hi[re.location].text}`,children:re.location}),s.jsx("span",{className:"ml-auto text-xs text-zinc-500",children:re.count})]}),s.jsx(Ve,{children:r.has(re.location)&&s.jsx(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsx("div",{className:"pl-4 py-1 space-y-0.5",children:re.suppliers.map(fe=>s.jsxs("button",{onClick:()=>i(fe),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-left transition-colors group ${(a==null?void 0:a.id)===fe.id?"bg-blue-500/20 border border-blue-500/30":"hover:bg-zinc-800/50"}`,children:[s.jsx(Sl,{className:"w-4 h-4 text-zinc-500"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm truncate ${(a==null?void 0:a.id)===fe.id?"text-blue-400":"text-zinc-300"}`,children:fe.name}),s.jsx("p",{className:"text-xs text-zinc-500 truncate",children:fe.branch_name})]}),s.jsx("span",{className:"text-xs text-zinc-600 group-hover:text-zinc-400",children:fe.product_count||0})]},fe.id))})})})]},re.location))})})]}),s.jsx("div",{className:"flex-1 bg-zinc-900/50 border border-zinc-800/50 rounded-xl overflow-hidden flex flex-col",children:a?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 border-b border-zinc-800/50",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:a.name}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${Hi[a.location].bg} ${Hi[a.location].text}`,children:a.location})]}),s.jsx("p",{className:"text-sm text-zinc-400 mt-1",children:a.branch_name}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-zinc-500",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Qs,{className:"w-3 h-3"}),a.contact_person]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(os,{className:"w-3 h-3"}),a.phone]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>Xe(a),className:"p-2 text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800 rounded-lg transition-colors",children:s.jsx(ab,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>L(a),className:"p-2 text-zinc-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",children:s.jsx(vu,{className:"w-4 h-4"})})]})]}),a.specialties.length>0&&s.jsx("div",{className:"flex gap-1 mt-3 flex-wrap",children:a.specialties.map(re=>s.jsx("span",{className:"text-xs px-2 py-0.5 bg-zinc-800 text-zinc-400 rounded",children:re},re))})]}),s.jsxs("div",{className:"p-4 border-b border-zinc-800/50 flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsx("input",{type:"text",value:x,onChange:re=>v(re.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-2 bg-zinc-800/50 border border-zinc-700/50 rounded-lg text-sm text-zinc-200 placeholder-zinc-500 focus:outline-none focus:border-blue-500/50"})]}),s.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 rounded-lg transition-colors",children:[s.jsx(Tr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Add Product"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:m?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(vt,{className:"w-6 h-6 text-zinc-500 animate-spin"})}):Ue.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-zinc-500",children:[s.jsx(ct,{className:"w-12 h-12 mb-3 opacity-50"}),s.jsx("p",{children:"No products in this supplier's catalog"}),s.jsx("button",{onClick:()=>S(!0),className:"mt-3 text-sm text-blue-400 hover:underline",children:"Add your first product"})]}):s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-800/30 sticky top-0",children:s.jsxs("tr",{className:"text-left text-xs text-zinc-500 uppercase",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Product"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Category"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Buying Price"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Selling Price"}),s.jsx("th",{className:"px-4 py-3 font-medium text-center",children:"Margin"}),s.jsx("th",{className:"px-4 py-3 font-medium text-center",children:"In Stock"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-800/50",children:Ue.map(re=>{var Je,B,he;const fe=wfe(re.margin_percent),Pe=fe.icon;return s.jsxs("tr",{className:"hover:bg-zinc-800/30 group",children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("p",{className:"text-sm text-zinc-200",children:(Je=re.product)==null?void 0:Je.name}),((B=re.product)==null?void 0:B.part_number)&&s.jsx("p",{className:"text-xs text-zinc-500",children:re.product.part_number})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-xs text-zinc-400",children:((he=re.product)==null?void 0:he.category)||"-"})}),s.jsx("td",{className:"px-4 py-3",children:E===re.id?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{type:"number",value:z,onChange:Te=>O(Te.target.value),className:"w-24 px-2 py-1 bg-zinc-800 border border-zinc-600 rounded text-sm text-zinc-200 focus:outline-none focus:border-blue-500",autoFocus:!0}),s.jsx("button",{onClick:()=>ue(re.id),disabled:T,className:"p-1 text-emerald-400 hover:bg-emerald-500/20 rounded",children:s.jsx(zr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(null),className:"p-1 text-zinc-400 hover:bg-zinc-700 rounded",children:s.jsx(Ze,{className:"w-4 h-4"})})]}):s.jsxs("button",{onClick:()=>{A(re.id),O(re.wholesale_price.toString())},className:"flex items-center gap-1 text-sm text-zinc-200 hover:text-blue-400 transition-colors",children:[s.jsx(Jr,{className:"w-3 h-3"}),re.currency," ",re.wholesale_price.toLocaleString(),s.jsx(ab,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 ml-1"})]})}),s.jsx("td",{className:"px-4 py-3",children:re.selling_price!==null?s.jsxs("span",{className:"text-sm text-zinc-300",children:["KES ",re.selling_price.toLocaleString()]}):s.jsx("span",{className:"text-xs text-zinc-600 italic",children:"Not set"})}),s.jsx("td",{className:"px-4 py-3 text-center",children:re.margin_percent!==null?s.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full ${fe.bg}`,children:[s.jsx(Pe,{className:`w-3.5 h-3.5 ${fe.text}`}),s.jsxs("span",{className:`text-sm font-medium ${fe.text}`,children:[re.margin_percent.toFixed(1),"%"]})]}):s.jsx("span",{className:"text-xs text-zinc-600",children:""})}),s.jsx("td",{className:"px-4 py-3 text-center",children:s.jsx("button",{onClick:()=>Ce(re),className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors ${re.is_available?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:re.is_available?s.jsx(zr,{className:"w-4 h-4"}):s.jsx(Ze,{className:"w-4 h-4"})})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsx("button",{onClick:()=>ee(re.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",children:s.jsx(vu,{className:"w-4 h-4"})})})]},re.id)})})]})})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-zinc-500",children:[s.jsx(Sl,{className:"w-16 h-16 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg",children:"Select a supplier"}),s.jsx("p",{className:"text-sm",children:"Click on a supplier from the left panel to view their catalog"})]})}),s.jsx(Ve,{children:y&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>w(!1),children:s.jsxs(Z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:re=>re.stopPropagation(),className:"w-full max-w-lg bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-zinc-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:P?"Edit Supplier":"Add Supplier"}),s.jsx("button",{onClick:()=>w(!1),className:"p-1 text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800 rounded",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-4 space-y-4 max-h-[60vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Supplier Name *"}),s.jsx("input",{type:"text",value:I.name,onChange:re=>D({...I,name:re.target.value}),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500",placeholder:"e.g., Premier Motor Spares"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Location *"}),s.jsxs("select",{value:I.location,onChange:re=>D({...I,location:re.target.value}),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500",children:[s.jsx("option",{value:"Nairobi CBD",children:"Nairobi CBD"}),s.jsx("option",{value:"Dubai",children:"Dubai"}),s.jsx("option",{value:"Uganda",children:"Uganda"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Branch/Shop Name *"}),s.jsx("input",{type:"text",value:I.branch_name,onChange:re=>D({...I,branch_name:re.target.value}),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500",placeholder:"e.g., Kirinyaga Road Shop"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Contact Person *"}),s.jsx("input",{type:"text",value:I.contact_person,onChange:re=>D({...I,contact_person:re.target.value}),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500",placeholder:"e.g., John Kamau"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Phone *"}),s.jsx("input",{type:"text",value:I.phone,onChange:re=>D({...I,phone:re.target.value}),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500",placeholder:"e.g., 0712345678"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Specialties"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:yfe.map(re=>s.jsx("button",{type:"button",onClick:()=>{const fe=I.specialties,Pe=fe.includes(re)?fe.filter(Je=>Je!==re):[...fe,re];D({...I,specialties:Pe})},className:`px-2 py-1 text-xs rounded-lg transition-colors ${I.specialties.includes(re)?"bg-blue-500/20 text-blue-400 border border-blue-500/50":"bg-zinc-800 text-zinc-400 border border-zinc-700 hover:border-zinc-600"}`,children:re},re))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Notes"}),s.jsx("textarea",{value:I.notes,onChange:re=>D({...I,notes:re.target.value}),rows:2,className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500 resize-none",placeholder:"Any additional notes..."})]})]}),s.jsxs("div",{className:"p-4 border-t border-zinc-800 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-zinc-400 hover:text-zinc-200 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:G,disabled:T||!I.name||!I.branch_name||!I.contact_person||!I.phone,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-zinc-700 disabled:text-zinc-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[T&&s.jsx(vt,{className:"w-4 h-4 animate-spin"}),P?"Save Changes":"Add Supplier"]})]})]})})}),s.jsx(Ve,{children:j&&a&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>S(!1),children:s.jsxs(Z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:re=>re.stopPropagation(),className:"w-full max-w-lg bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-zinc-800 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold text-zinc-100",children:["Add Product to ",a.name]}),s.jsx("button",{onClick:()=>S(!1),className:"p-1 text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800 rounded",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Search Product"}),s.jsxs("div",{className:"relative",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsx("input",{type:"text",value:_,onChange:re=>F(re.target.value),className:"w-full pl-10 pr-4 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500",placeholder:"Search by product name or part number..."}),Q&&s.jsx(vt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500 animate-spin"})]}),W.length>0&&!q&&s.jsx("div",{className:"mt-2 max-h-48 overflow-y-auto bg-zinc-800/50 border border-zinc-700 rounded-lg",children:W.map(re=>{var fe;return s.jsxs("button",{onClick:()=>{if(te(re),F(re.product.name),re.suppliers.length>0){const Pe=re.suppliers.find(Je=>Je.is_best_price);Pe&&U(Pe.price.toString())}},className:"w-full p-3 text-left hover:bg-zinc-700/50 border-b border-zinc-700/50 last:border-0",children:[s.jsx("p",{className:"text-sm text-zinc-200",children:re.product.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[re.product.part_number&&s.jsx("span",{className:"text-xs text-zinc-500",children:re.product.part_number}),re.suppliers.length>0&&s.jsxs("span",{className:"text-xs text-emerald-400",children:["Best: KES ",(fe=re.suppliers.find(Pe=>Pe.is_best_price))==null?void 0:fe.price.toLocaleString()]})]})]},re.product.id)})})]}),q&&s.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-zinc-200",children:q.product.name}),s.jsx("p",{className:"text-xs text-zinc-500",children:q.product.part_number})]}),s.jsx("button",{onClick:()=>{te(null),F(""),U("")},className:"p-1 text-zinc-400 hover:text-zinc-200",children:s.jsx(Ze,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Buying Price *"}),s.jsx("input",{type:"number",value:se,onChange:re=>U(re.target.value),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500",placeholder:"0.00"})]}),s.jsxs("div",{className:"w-24",children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Currency"}),s.jsxs("select",{value:X,onChange:re=>me(re.target.value),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500",children:[s.jsx("option",{value:"KES",children:"KES"}),s.jsx("option",{value:"USD",children:"USD"}),s.jsx("option",{value:"AED",children:"AED"}),s.jsx("option",{value:"UGX",children:"UGX"})]})]})]})]}),s.jsxs("div",{className:"p-4 border-t border-zinc-800 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 text-zinc-400 hover:text-zinc-200 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:$,disabled:T||!q||!se,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-zinc-700 disabled:text-zinc-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[T&&s.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Add to Catalog"]})]})]})})})]})}const jfe=["Pending","In Progress","Completed","Cancelled"],Nfe=["Unpaid","Partial","Paid"],Sfe=["Normal","Urgent"],kfe=[{name:"Kiruri",color:"emerald",icon:""},{name:"Thairo",color:"blue",icon:""}],Pfe=e=>e===null?{bg:"bg-zinc-500/10",text:"text-zinc-500",icon:xo,label:"N/A"}:e<0?{bg:"bg-red-500/20",text:"text-red-400",icon:vo,label:"Loss"}:e<15?{bg:"bg-amber-500/20",text:"text-amber-400",icon:vo,label:"Low"}:e<25?{bg:"bg-yellow-500/20",text:"text-yellow-400",icon:xo,label:"OK"}:e<40?{bg:"bg-emerald-500/20",text:"text-emerald-400",icon:hn,label:"Good"}:{bg:"bg-green-500/20",text:"text-green-400",icon:hn,label:"Great"},ll={"Nairobi CBD":{bg:"bg-emerald-500/10",text:"text-emerald-400"},Dubai:{bg:"bg-amber-500/10",text:"text-amber-400"},Uganda:{bg:"bg-blue-500/10",text:"text-blue-400"},Other:{bg:"bg-zinc-500/10",text:"text-zinc-400"}},Cfe=e=>{const t={};return e.forEach(r=>{t[r.supplier_id]||(t[r.supplier_id]={supplierId:r.supplier_id,supplierName:r.supplierName||"Unknown Supplier",supplierLocation:r.supplierLocation||"Other",items:[],subtotal:0}),t[r.supplier_id].items.push(r),t[r.supplier_id].subtotal+=r.quantity*r.unit_price}),Object.values(t)};function Efe(){var Kr;const[e,t]=g.useState([]),[r,n]=g.useState(!0),[a,i]=g.useState(""),[l,c]=g.useState("all"),[d,f]=g.useState("all"),[m,h]=g.useState("created_at"),[x,v]=g.useState(!1),[y,w]=g.useState(null),[j,S]=g.useState(null),[P,k]=g.useState([]),[E,A]=g.useState([]),[z,O]=g.useState(""),[T,R]=g.useState("Normal"),[I,D]=g.useState(""),[_,F]=g.useState(!1),[W,ne]=g.useState("product"),[Q,V]=g.useState(""),[q,te]=g.useState([]),[se,U]=g.useState(!1),[X,me]=g.useState([]),[de,ve]=g.useState(null),[ke,Ee]=g.useState([]),[G,L]=g.useState(!1),[$,ue]=g.useState(""),[ee,Ce]=g.useState(new Set),ye=g.useCallback(async()=>{n(!0);const{data:J}=await dm.getAll({search:a||void 0,status:l!=="all"?l:void 0,payment_status:d!=="all"?d:void 0,sort_by:m,sort_order:"desc"});J&&t(J),n(!1)},[a,l,d,m]);g.useEffect(()=>{ye()},[ye]),g.useEffect(()=>{if(!Q.trim()||Q.length<2){te([]);return}const J=setTimeout(async()=>{U(!0);const{data:Ae}=await ou.searchProducts(Q);Ae&&te(Ae),U(!1)},300);return()=>clearTimeout(J)},[Q]),g.useEffect(()=>{W==="supplier"&&X.length===0&&vi.getAll().then(({data:J})=>{J&&me(J)})},[W,X.length]),g.useEffect(()=>{de&&(L(!0),vi.getCatalog(de.id,{available_only:!0}).then(({data:J})=>{J&&Ee(J),L(!1)}))},[de]);const Xe=async()=>{const{data:J}=await bfe.getAll();J&&k(J),A([]),O(""),R("Normal"),D(""),V(""),te([]),ve(null),Ee([]),ne("product"),v(!0)},Ue=(J,Ae)=>{const $e=J.suppliers[Ae];A(it=>[...it,{product_id:J.product.id,supplier_id:$e.supplier.id,quantity:1,unit_price:$e.price,productName:J.product.name,supplierName:$e.supplier.name,supplierLocation:$e.supplier.location}]),V(""),te([])},re=J=>{de&&A(Ae=>{var $e;return[...Ae,{product_id:J.product_id,supplier_id:de.id,quantity:1,unit_price:J.wholesale_price,productName:($e=J.product)==null?void 0:$e.name,supplierName:de.name,supplierLocation:de.location}]})},fe=(J,Ae)=>{A($e=>$e.map((it,At)=>At===J?{...it,quantity:Math.max(1,Ae)}:it))},Pe=J=>{A(Ae=>Ae.filter(($e,it)=>it!==J))},Je=Cfe(E),B=E.reduce((J,Ae)=>J+Ae.quantity,0),he=E.reduce((J,Ae)=>J+Ae.quantity*Ae.unit_price,0),Te=async()=>{if(E.length===0)return;F(!0);const J={assigned_to:z||void 0,priority:T,notes:I,items:E.map($e=>({product_id:$e.product_id,supplier_id:$e.supplier_id,quantity:$e.quantity,unit_price:$e.unit_price}))},{data:Ae}=await dm.create(J);Ae&&(t($e=>[Ae,...$e]),v(!1)),F(!1)},qe=async J=>{const{data:Ae}=await dm.delete(J);Ae!=null&&Ae.success&&t($e=>$e.filter(it=>it.id!==J)),S(null)},Be=async J=>{const{data:Ae}=await dm.getById(J.id);Ae&&(w(Ae),Ae.items_by_supplier&&Ce(new Set(Ae.items_by_supplier.map($e=>$e.supplier.id))))},nt=J=>{Ce(Ae=>{const $e=new Set(Ae);return $e.has(J)?$e.delete(J):$e.add(J),$e})},He=J=>{switch(J){case"Pending":return"bg-amber-500/20 text-amber-400";case"In Progress":return"bg-blue-500/20 text-blue-400";case"Completed":return"bg-emerald-500/20 text-emerald-400";case"Cancelled":return"bg-zinc-500/20 text-zinc-400";default:return"bg-zinc-500/20 text-zinc-400"}},bt=J=>{switch(J){case"Unpaid":return"bg-red-500/20 text-red-400";case"Partial":return"bg-amber-500/20 text-amber-400";case"Paid":return"bg-emerald-500/20 text-emerald-400";default:return"bg-zinc-500/20 text-zinc-400"}},Vt=J=>new Date(J).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),Nt=ke.filter(J=>{var Ae,$e,it;return!$||((Ae=J.product)==null?void 0:Ae.name.toLowerCase().includes($.toLowerCase()))||((it=($e=J.product)==null?void 0:$e.part_number)==null?void 0:it.toLowerCase().includes($.toLowerCase()))});return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(vt,{className:"w-8 h-8 text-zinc-500 animate-spin"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsx("input",{type:"text",placeholder:"Search orders...",value:a,onChange:J=>i(J.target.value),className:"w-full pl-10 pr-4 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-zinc-100 focus:outline-none focus:border-blue-500/50"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("select",{value:l,onChange:J=>c(J.target.value),className:"px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-zinc-100 text-sm focus:outline-none focus:border-blue-500/50",children:[s.jsx("option",{value:"all",children:"All Status"}),jfe.map(J=>s.jsx("option",{value:J,children:J},J))]}),s.jsxs("select",{value:d,onChange:J=>f(J.target.value),className:"px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-zinc-100 text-sm focus:outline-none focus:border-blue-500/50",children:[s.jsx("option",{value:"all",children:"All Payments"}),Nfe.map(J=>s.jsx("option",{value:J,children:J},J))]}),s.jsxs("select",{value:m,onChange:J=>h(J.target.value),className:"px-3 py-2 bg-zinc-900 border border-zinc-800 rounded-lg text-zinc-100 text-sm focus:outline-none focus:border-blue-500/50",children:[s.jsx("option",{value:"created_at",children:"Sort by Date"}),s.jsx("option",{value:"total_amount",children:"Sort by Amount"})]}),s.jsxs("button",{onClick:Xe,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[s.jsx(Tr,{className:"w-4 h-4"}),"Create List"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(J=>{var Ae;return s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-zinc-900/50 border border-zinc-800/50 rounded-xl p-4 hover:border-zinc-700/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-medium text-zinc-100",children:J.order_number}),J.priority==="Urgent"&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-red-500/20 text-red-400 rounded",children:"Urgent"})]}),s.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:Vt(J.created_at)})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>Be(J),className:"p-1.5 text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800 rounded transition-colors",children:s.jsx(fn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>S(J.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-zinc-800 rounded transition-colors",children:s.jsx(vu,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[s.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${He(J.status)}`,children:J.status}),s.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${bt(J.payment_status)}`,children:J.payment_status})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[J.assigned_worker&&s.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[s.jsx(Qs,{className:"w-4 h-4"}),J.assigned_worker.name]}),s.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[s.jsx(ct,{className:"w-4 h-4"}),J.items_count??((Ae=J.items)==null?void 0:Ae.length)??0," items"]}),s.jsxs("div",{className:"flex items-center justify-between text-zinc-100 font-medium pt-2 border-t border-zinc-800/50",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["KES ",J.total_amount.toLocaleString()]})]})]})]},J.id)})}),e.length===0&&s.jsxs("div",{className:"text-center py-12 text-zinc-500",children:[s.jsx(Os,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No shopping lists found"}),s.jsx("button",{onClick:Xe,className:"mt-3 text-sm text-blue-400 hover:underline",children:"Create your first list"})]}),s.jsx(Ve,{children:x&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>v(!1),children:s.jsxs(Z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",onClick:J=>J.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-zinc-800 flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:"Create Shopping List"}),s.jsx("button",{onClick:()=>v(!1),className:"text-zinc-500 hover:text-zinc-300",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Assign to"}),s.jsxs("div",{className:"flex gap-3",children:[kfe.map(J=>{var At;const Ae=((At=P.find(vn=>vn.name.toLowerCase().includes(J.name.toLowerCase())))==null?void 0:At.id)||"",$e=z===Ae&&Ae!=="",it=J.color==="emerald"?{active:"bg-emerald-500/20 border-emerald-500/50 ring-2 ring-emerald-500/30",text:"text-emerald-400",hover:"hover:border-emerald-500/30"}:{active:"bg-blue-500/20 border-blue-500/50 ring-2 ring-blue-500/30",text:"text-blue-400",hover:"hover:border-blue-500/30"};return s.jsxs("button",{onClick:()=>O($e?"":Ae),className:`flex-1 relative flex flex-col items-center gap-2 p-4 rounded-xl border transition-all ${$e?it.active:`bg-zinc-800/50 border-zinc-700 ${it.hover}`}`,children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${$e?it.active:"bg-zinc-700/50"}`,children:J.name==="Kiruri"?"":""}),s.jsx("span",{className:`font-semibold text-lg ${$e?it.text:"text-zinc-200"}`,children:J.name}),$e&&s.jsx("div",{className:`absolute top-2 right-2 w-5 h-5 rounded-full flex items-center justify-center ${J.color==="emerald"?"bg-emerald-500":"bg-blue-500"}`,children:s.jsx(zr,{className:"w-3 h-3 text-white"})})]},J.name)}),s.jsxs("button",{onClick:()=>O(""),className:`flex-1 flex flex-col items-center gap-2 p-4 rounded-xl border transition-all ${z===""?"bg-zinc-500/20 border-zinc-500/50 ring-2 ring-zinc-500/30":"bg-zinc-800/50 border-zinc-700 hover:border-zinc-600"}`,children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${z===""?"bg-zinc-500/20":"bg-zinc-700/50"}`,children:""}),s.jsx("span",{className:`font-semibold text-lg ${z===""?"text-zinc-300":"text-zinc-400"}`,children:"Unassigned"}),z===""&&s.jsx("div",{className:"absolute top-2 right-2 w-5 h-5 rounded-full bg-zinc-500 flex items-center justify-center",children:s.jsx(zr,{className:"w-3 h-3 text-white"})})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Priority"}),s.jsx("div",{className:"flex gap-2",children:Sfe.map(J=>s.jsxs("button",{onClick:()=>R(J),className:`flex-1 px-4 py-3 rounded-lg text-sm font-medium transition-all ${T===J?J==="Urgent"?"bg-red-500/20 text-red-400 border border-red-500/50 ring-2 ring-red-500/20":"bg-blue-500/20 text-blue-400 border border-blue-500/50 ring-2 ring-blue-500/20":"bg-zinc-800 text-zinc-400 border border-zinc-700 hover:border-zinc-600"}`,children:[J==="Urgent"&&s.jsx(St,{className:"w-4 h-4 inline mr-2"}),J]},J))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{className:"text-sm text-zinc-400",children:"Add Items"}),s.jsxs("div",{className:"flex gap-1 p-0.5 bg-zinc-800 rounded-lg",children:[s.jsx("button",{onClick:()=>ne("product"),className:`px-3 py-1 text-xs rounded-md transition-colors ${W==="product"?"bg-blue-500 text-white":"text-zinc-400 hover:text-zinc-200"}`,children:"Search Product"}),s.jsx("button",{onClick:()=>ne("supplier"),className:`px-3 py-1 text-xs rounded-md transition-colors ${W==="supplier"?"bg-blue-500 text-white":"text-zinc-400 hover:text-zinc-200"}`,children:"Browse Supplier"})]})]}),W==="product"&&s.jsxs("div",{className:"relative",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsx("input",{type:"text",placeholder:"Search products to add...",value:Q,onChange:J=>V(J.target.value),className:"w-full pl-10 pr-4 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-100 focus:outline-none focus:border-blue-500"}),se&&s.jsx(vt,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500 animate-spin"}),q.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-zinc-800 border border-zinc-700 rounded-lg shadow-xl z-10 max-h-64 overflow-y-auto",children:q.map(J=>s.jsxs("div",{className:"p-3 border-b border-zinc-700/50 last:border-0",children:[s.jsx("p",{className:"text-sm font-medium text-zinc-200",children:J.product.name}),J.product.part_number&&s.jsx("p",{className:"text-xs text-zinc-500 mt-0.5",children:J.product.part_number}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:J.suppliers.map((Ae,$e)=>s.jsxs("button",{onClick:()=>Ue(J,$e),className:`text-xs px-2 py-1 rounded transition-colors ${Ae.is_best_price?"bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30":"bg-zinc-700 text-zinc-300 hover:bg-zinc-600"}`,children:[Ae.supplier.name,": ",Ae.currency," ",Ae.price.toLocaleString(),Ae.is_best_price&&" (Best)"]},Ae.supplier.id))})]},J.product.id))})]}),W==="supplier"&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex gap-2 flex-wrap",children:["Nairobi CBD","Dubai","Uganda","Other"].map(J=>{const Ae=X.filter($e=>$e.location===J);return Ae.length===0?null:s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx("p",{className:`text-xs font-medium mb-1 ${ll[J].text}`,children:J}),s.jsxs("select",{value:(de==null?void 0:de.location)===J?de.id:"",onChange:$e=>{const it=X.find(At=>At.id===$e.target.value);ve(it||null),ue("")},className:`w-full px-3 py-2 bg-zinc-800 border rounded-lg text-sm text-zinc-100 focus:outline-none focus:border-blue-500 ${(de==null?void 0:de.location)===J?ll[J].text+" border-current":"border-zinc-700"}`,children:[s.jsx("option",{value:"",children:"Select..."}),Ae.map($e=>s.jsx("option",{value:$e.id,children:$e.name},$e.id))]})]},J)})}),de&&s.jsxs("div",{className:"bg-zinc-800/30 border border-zinc-700/50 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-3 border-b border-zinc-700/50 flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500"}),s.jsx("input",{type:"text",placeholder:"Quick filter...",value:$,onChange:J=>ue(J.target.value),className:"w-full pl-10 pr-4 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-sm text-zinc-100 focus:outline-none focus:border-blue-500"})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-zinc-500",children:[s.jsx("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-400 rounded",children:"Good"}),s.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded",children:"OK"}),s.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-400 rounded",children:"Avoid"})]})]}),s.jsx("div",{className:"max-h-72 overflow-y-auto p-2",children:G?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(vt,{className:"w-6 h-6 text-zinc-500 animate-spin"})}):Nt.length===0?s.jsxs("div",{className:"text-center py-8 text-zinc-500",children:[s.jsx(ct,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No products in catalog"})]}):s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Nt.map(J=>{var At,vn;const Ae=Pfe(J.margin_percent),$e=Ae.icon,it=J.margin_percent!==null&&J.margin_percent<15;return s.jsxs("button",{onClick:()=>re(J),className:`relative p-3 rounded-lg border text-left transition-all hover:scale-[1.02] active:scale-[0.98] ${it?"bg-red-500/5 border-red-500/30 hover:border-red-500/50":`${Ae.bg} border-zinc-700/50 hover:border-zinc-600`}`,children:[s.jsxs("div",{className:`absolute top-2 right-2 flex items-center gap-1 px-2 py-0.5 rounded-full ${Ae.bg}`,children:[s.jsx($e,{className:`w-3 h-3 ${Ae.text}`}),s.jsx("span",{className:`text-xs font-semibold ${Ae.text}`,children:J.margin_percent!==null?`${J.margin_percent.toFixed(0)}%`:"N/A"})]}),s.jsx("p",{className:"text-sm font-medium text-zinc-200 pr-16 truncate",children:(At=J.product)==null?void 0:At.name}),((vn=J.product)==null?void 0:vn.part_number)&&s.jsx("p",{className:"text-xs text-zinc-500 truncate",children:J.product.part_number}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-zinc-500",children:"Buy: "}),s.jsxs("span",{className:"text-zinc-300 font-medium",children:[J.currency," ",J.wholesale_price.toLocaleString()]})]}),J.selling_price!==null&&s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:"text-zinc-500",children:"Sell: "}),s.jsx("span",{className:"text-emerald-400 font-medium",children:J.selling_price.toLocaleString()})]})]}),it&&s.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs text-red-400",children:[s.jsx(St,{className:"w-3 h-3"}),s.jsx("span",{children:"Low profit margin"})]}),s.jsx("div",{className:"absolute bottom-2 right-2 w-6 h-6 rounded-full bg-blue-500/20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Tr,{className:"w-4 h-4 text-blue-400"})})]},J.id)})})}),!G&&Nt.length>0&&s.jsxs("div",{className:"p-2 border-t border-zinc-700/50 flex items-center justify-between text-xs text-zinc-500",children:[s.jsxs("span",{children:[Nt.length," products"]}),s.jsxs("span",{children:[Nt.filter(J=>J.margin_percent!==null&&J.margin_percent>=25).length," profitable |"," ",s.jsxs("span",{className:"text-amber-400",children:[Nt.filter(J=>J.margin_percent!==null&&J.margin_percent<15).length," low margin"]})]})]})]})]})]}),E.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-sm text-zinc-400",children:"Items by Supplier"}),Je.map(J=>s.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700/50 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"p-3 bg-zinc-800/80 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sl,{className:"w-4 h-4 text-zinc-400"}),s.jsx("span",{className:"font-medium text-zinc-200",children:J.supplierName}),s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${ll[J.supplierLocation].bg} ${ll[J.supplierLocation].text}`,children:J.supplierLocation})]}),s.jsxs("span",{className:"text-sm font-medium text-zinc-200",children:["KES ",J.subtotal.toLocaleString()]})]}),s.jsx("div",{className:"divide-y divide-zinc-700/30",children:J.items.map((Ae,$e)=>{const it=E.indexOf(Ae);return s.jsxs("div",{className:"p-2 flex items-center gap-3",children:[s.jsx("span",{className:"flex-1 text-sm text-zinc-300",children:Ae.productName}),s.jsx("input",{type:"number",min:1,value:Ae.quantity,onChange:At=>fe(it,Number(At.target.value)),className:"w-16 px-2 py-1 bg-zinc-700 border border-zinc-600 rounded text-center text-sm text-zinc-100"}),s.jsxs("span",{className:"text-xs text-zinc-400 w-24 text-right",children:["KES ",(Ae.quantity*Ae.unit_price).toLocaleString()]}),s.jsx("button",{onClick:()=>Pe(it),className:"p-1 text-zinc-500 hover:text-red-400",children:s.jsx(Ze,{className:"w-4 h-4"})})]},$e)})})]},J.supplierId))]}),s.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex justify-between text-sm text-zinc-400 mb-2",children:[s.jsx("span",{children:"Total Items"}),s.jsx("span",{children:B})]}),s.jsxs("div",{className:"flex justify-between text-sm text-zinc-400 mb-2",children:[s.jsx("span",{children:"Suppliers"}),s.jsx("span",{children:Je.length})]}),s.jsxs("div",{className:"flex justify-between text-lg font-medium text-zinc-100 pt-2 border-t border-zinc-700",children:[s.jsx("span",{children:"Total Amount"}),s.jsxs("span",{children:["KES ",he.toLocaleString()]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Notes"}),s.jsx("textarea",{rows:2,value:I,onChange:J=>D(J.target.value),className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-100 resize-none focus:outline-none focus:border-blue-500",placeholder:"Any instructions for the worker..."})]})]}),s.jsxs("div",{className:"p-4 border-t border-zinc-800 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-zinc-400 hover:text-zinc-200 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:Te,disabled:E.length===0||_,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-zinc-700 disabled:text-zinc-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[_&&s.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Create List"]})]})]})})}),s.jsx(Ve,{children:y&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>w(null),children:s.jsxs(Z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-zinc-900 border border-zinc-800 rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",onClick:J=>J.stopPropagation(),children:[s.jsxs("div",{className:"p-4 border-b border-zinc-800",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:y.order_number}),y.priority==="Urgent"&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-red-500/20 text-red-400 rounded",children:"Urgent"})]}),s.jsx("p",{className:"text-sm text-zinc-500 mt-1",children:Vt(y.created_at)})]}),s.jsx("button",{onClick:()=>w(null),className:"text-zinc-500 hover:text-zinc-300",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.jsx("span",{className:`px-3 py-1 text-sm rounded ${He(y.status)}`,children:y.status}),s.jsx("span",{className:`px-3 py-1 text-sm rounded ${bt(y.payment_status)}`,children:y.payment_status}),y.assigned_worker&&s.jsxs("span",{className:"px-3 py-1 text-sm bg-zinc-800 text-zinc-300 rounded flex items-center gap-1",children:[s.jsx(Qs,{className:"w-3 h-3"}),y.assigned_worker.name]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(Kr=y.items_by_supplier)==null?void 0:Kr.map(J=>{var Ae,$e,it,At,vn;return s.jsxs("div",{className:"bg-zinc-800/50 border border-zinc-700/50 rounded-lg overflow-hidden",children:[s.jsxs("button",{onClick:()=>nt(J.supplier.id),className:"w-full p-4 flex items-center justify-between hover:bg-zinc-800/80 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[ee.has(J.supplier.id)?s.jsx(Wr,{className:"w-4 h-4 text-zinc-400"}):s.jsx(Xs,{className:"w-4 h-4 text-zinc-400"}),s.jsx(Sl,{className:"w-5 h-5 text-zinc-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-zinc-200",children:J.supplier.name}),s.jsx("p",{className:"text-xs text-zinc-500",children:J.supplier.branch_name})]}),s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${ll[J.supplier.location].bg} ${ll[J.supplier.location].text}`,children:J.supplier.location})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium text-zinc-200",children:["KES ",J.expected_subtotal.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-zinc-500",children:[J.items_purchased,"/",J.items_total," purchased"]})]})]}),s.jsx(Ve,{children:ee.has(J.supplier.id)&&s.jsxs(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[s.jsx("div",{className:"border-t border-zinc-700/50 divide-y divide-zinc-700/30",children:J.items.map(et=>{var ft;return s.jsxs("div",{className:"p-3 flex items-center gap-3",children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${et.is_purchased?"bg-emerald-500/20 text-emerald-400":"bg-zinc-700 text-zinc-500"}`,children:et.is_purchased?s.jsx(zr,{className:"w-4 h-4"}):s.jsx(ct,{className:"w-4 h-4"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-zinc-200",children:(ft=et.product)==null?void 0:ft.name}),et.worker_notes&&s.jsxs("p",{className:"text-xs text-amber-400 mt-0.5 flex items-center gap-1",children:[s.jsx(kl,{className:"w-3 h-3"}),et.worker_notes]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm text-zinc-200",children:[et.quantity," x KES ",et.expected_price.toLocaleString()]}),et.actual_price&&et.actual_price!==et.expected_price&&s.jsxs("p",{className:`text-xs ${et.actual_price>et.expected_price?"text-red-400":"text-emerald-400"}`,children:["Actual: KES ",et.actual_price.toLocaleString()]})]})]},et.id)})}),((Ae=y.supplier_payments)==null?void 0:Ae.find(et=>et.supplier_id===J.supplier.id))&&s.jsxs("div",{className:"p-3 bg-zinc-800/50 border-t border-zinc-700/50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-4 h-4 text-zinc-400"}),s.jsx("span",{className:"text-sm text-zinc-400",children:"Payment:"}),s.jsx("span",{className:`px-2 py-0.5 text-xs rounded ${bt((($e=y.supplier_payments.find(et=>et.supplier_id===J.supplier.id))==null?void 0:$e.payment_status)||"Unpaid")}`,children:(it=y.supplier_payments.find(et=>et.supplier_id===J.supplier.id))==null?void 0:it.payment_status})]}),((At=y.supplier_payments.find(et=>et.supplier_id===J.supplier.id))==null?void 0:At.receipt_image_url)&&s.jsxs("a",{href:((vn=y.supplier_payments.find(et=>et.supplier_id===J.supplier.id))==null?void 0:vn.receipt_image_url)||"",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-blue-400 hover:underline",children:[s.jsx(mn,{className:"w-3 h-3"}),"View Receipt"]})]})]})})]},J.supplier.id)}),s.jsx("div",{className:"bg-zinc-800/50 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between text-lg font-medium text-zinc-100",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["KES ",y.total_amount.toLocaleString()]})]})}),y.notes&&s.jsxs("div",{className:"p-3 bg-zinc-800/30 rounded-lg",children:[s.jsx("p",{className:"text-xs text-zinc-500 mb-1",children:"Notes"}),s.jsx("p",{className:"text-sm text-zinc-300",children:y.notes})]})]}),s.jsx("div",{className:"p-4 border-t border-zinc-800 flex justify-end",children:s.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 text-zinc-400 hover:text-zinc-200 transition-colors",children:"Close"})})]})})}),s.jsx(Ve,{children:j&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>S(null),children:s.jsxs(Z.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 w-full max-w-sm",onClick:J=>J.stopPropagation(),children:[s.jsx("h3",{className:"text-lg font-semibold text-zinc-100 mb-2",children:"Delete Shopping List"}),s.jsx("p",{className:"text-zinc-400 mb-6",children:"Are you sure you want to delete this list? This action cannot be undone."}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>S(null),className:"px-4 py-2 text-zinc-400 hover:text-zinc-200 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>qe(j),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors",children:"Delete"})]})]})})})]})}const wA={"Nairobi CBD":{bg:"bg-emerald-500/10",text:"text-emerald-400"},Dubai:{bg:"bg-amber-500/10",text:"text-amber-400"},Uganda:{bg:"bg-blue-500/10",text:"text-blue-400"},Other:{bg:"bg-zinc-500/10",text:"text-zinc-400"}},Afe=["Cash","M-Pesa","Bank Transfer"];function zfe(){var A;const[e,t]=g.useState(null),[r,n]=g.useState(!0),[a,i]=g.useState(new Set),[l,c]=g.useState(null),[d,f]=g.useState(null),[m,h]=g.useState("Cash"),[x,v]=g.useState(""),[y,w]=g.useState(!1),j=g.useCallback(async()=>{n(!0);const{data:z}=await Hv.getPending();z&&(t(z),i(new Set(z.suppliers.map(O=>O.supplier.id)))),n(!1)},[]);g.useEffect(()=>{j()},[j]);const S=z=>{i(O=>{const T=new Set(O);return T.has(z)?T.delete(z):T.add(z),T})},P=async z=>{c(z.id);const{data:O}=await Hv.update(z.id,{payment_status:"Paid",payment_method:m,notes:x||void 0});O&&(j(),f(null),h("Cash"),v("")),c(null)},k=async z=>{c(z.id);const{data:O}=await Hv.update(z.id,{payment_status:"Paid"});O&&j(),c(null)},E=z=>new Date(z).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"});return r?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(vt,{className:"w-8 h-8 text-zinc-500 animate-spin"})}):!e||e.suppliers.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-zinc-500",children:[s.jsx("div",{className:"w-20 h-20 bg-emerald-500/10 rounded-full flex items-center justify-center mb-4",children:s.jsx(zr,{className:"w-10 h-10 text-emerald-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-zinc-200 mb-2",children:"All Caught Up!"}),s.jsx("p",{children:"No pending payments to suppliers"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-zinc-900/50 border border-zinc-800/50 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500/10 rounded-lg flex items-center justify-center",children:s.jsx(Jr,{className:"w-5 h-5 text-red-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-zinc-400",children:"Total Pending"}),s.jsxs("p",{className:"text-2xl font-bold text-red-400",children:["KES ",e.grand_total.toLocaleString()]})]})]})}),s.jsx("div",{className:"bg-zinc-900/50 border border-zinc-800/50 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-500/10 rounded-lg flex items-center justify-center",children:s.jsx(Sl,{className:"w-5 h-5 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-zinc-400",children:"Suppliers Owed"}),s.jsx("p",{className:"text-2xl font-bold text-amber-400",children:e.total_suppliers})]})]})}),s.jsx("div",{className:"bg-zinc-900/50 border border-zinc-800/50 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500/10 rounded-lg flex items-center justify-center",children:s.jsx(Hs,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-zinc-400",children:"Open Orders"}),s.jsx("p",{className:"text-2xl font-bold text-blue-400",children:e.suppliers.reduce((z,O)=>z+O.payments.length,0)})]})]})})]}),s.jsx("div",{className:"space-y-4",children:e.suppliers.map(z=>s.jsxs("div",{className:"bg-zinc-900/50 border border-zinc-800/50 rounded-xl overflow-hidden",children:[s.jsxs("button",{onClick:()=>S(z.supplier.id),className:"w-full p-4 flex items-center justify-between hover:bg-zinc-800/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[a.has(z.supplier.id)?s.jsx(Wr,{className:"w-5 h-5 text-zinc-400"}):s.jsx(Xs,{className:"w-5 h-5 text-zinc-400"}),s.jsx("div",{className:"w-10 h-10 bg-zinc-800 rounded-lg flex items-center justify-center",children:s.jsx(Sl,{className:"w-5 h-5 text-zinc-400"})}),s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold text-zinc-100",children:z.supplier.name}),s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${wA[z.supplier.location].bg} ${wA[z.supplier.location].text}`,children:z.supplier.location})]}),s.jsx("p",{className:"text-sm text-zinc-500",children:z.supplier.branch_name})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-lg font-bold text-red-400",children:["KES ",z.total_pending.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-zinc-500",children:[z.payments.length," ",z.payments.length===1?"order":"orders"]})]})]}),s.jsx(Ve,{children:a.has(z.supplier.id)&&s.jsx(Z.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsx("div",{className:"border-t border-zinc-800/50",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-zinc-800/30",children:s.jsxs("tr",{className:"text-left text-xs text-zinc-500 uppercase",children:[s.jsx("th",{className:"px-4 py-3 font-medium",children:"Order"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Date"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Expected"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Actual"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:"Receipt"}),s.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-zinc-800/50",children:z.payments.map(O=>{var T;return s.jsxs("tr",{className:"hover:bg-zinc-800/30",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("p",{className:"text-sm text-zinc-200",children:(T=O.order)==null?void 0:T.order_number})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("p",{className:"text-sm text-zinc-400",children:E(O.created_at)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("p",{className:"text-sm text-zinc-200",children:["KES ",O.expected_amount.toLocaleString()]})}),s.jsx("td",{className:"px-4 py-3",children:O.actual_amount?s.jsxs("p",{className:`text-sm ${O.actual_amount>O.expected_amount?"text-red-400":"text-emerald-400"}`,children:["KES ",O.actual_amount.toLocaleString(),O.actual_amount!==O.expected_amount&&s.jsxs("span",{className:"text-xs ml-1",children:["(",O.actual_amount>O.expected_amount?"+":"",(O.actual_amount-O.expected_amount).toLocaleString(),")"]})]}):s.jsx("p",{className:"text-sm text-zinc-500",children:"-"})}),s.jsx("td",{className:"px-4 py-3",children:O.receipt_image_url?s.jsxs("a",{href:O.receipt_image_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-blue-400 hover:underline",children:[s.jsx(mn,{className:"w-4 h-4"}),"View"]}):s.jsx("span",{className:"text-sm text-zinc-500",children:"No receipt"})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs("button",{onClick:()=>f(O),className:"px-3 py-1.5 bg-emerald-500/20 hover:bg-emerald-500/30 text-emerald-400 text-sm rounded-lg transition-colors flex items-center gap-1",children:[s.jsx(zr,{className:"w-3 h-3"}),"Mark Paid"]}),s.jsx("button",{onClick:()=>k(O),disabled:l===O.id,className:"p-1.5 text-zinc-400 hover:text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors",title:"Quick pay (no details)",children:l===O.id?s.jsx(vt,{className:"w-4 h-4 animate-spin"}):s.jsx(Jr,{className:"w-4 h-4"})})]})})]},O.id)})})]})})})})]},z.supplier.id))}),s.jsx(Ve,{children:d&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>f(null),children:s.jsxs(Z.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},onClick:z=>z.stopPropagation(),className:"w-full max-w-md bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"p-4 border-b border-zinc-800 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Mark Payment as Paid"}),s.jsx("button",{onClick:()=>f(null),className:"p-1 text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800 rounded",children:s.jsx(Ze,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"p-3 bg-zinc-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-zinc-400",children:"Order"}),s.jsx("span",{className:"text-sm text-zinc-200",children:(A=d.order)==null?void 0:A.order_number})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsx("span",{className:"text-sm text-zinc-400",children:"Amount"}),s.jsxs("span",{className:"text-lg font-bold text-emerald-400",children:["KES ",(d.actual_amount||d.expected_amount).toLocaleString()]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"Payment Method"}),s.jsx("div",{className:"flex gap-2",children:Afe.map(z=>s.jsx("button",{onClick:()=>h(z),className:`flex-1 px-3 py-2 rounded-lg text-sm transition-colors ${m===z?"bg-blue-500/20 text-blue-400 border border-blue-500/50":"bg-zinc-800 text-zinc-400 border border-zinc-700 hover:border-zinc-600"}`,children:z},z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-zinc-400 mb-1",children:"Notes (optional)"}),s.jsx("textarea",{value:x,onChange:z=>v(z.target.value),rows:2,className:"w-full px-3 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-200 focus:outline-none focus:border-blue-500 resize-none",placeholder:"Any payment notes..."})]})]}),s.jsxs("div",{className:"p-4 border-t border-zinc-800 flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 text-zinc-400 hover:text-zinc-200 transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:()=>P(d),disabled:y,className:"px-4 py-2 bg-emerald-500 hover:bg-emerald-600 disabled:bg-zinc-700 disabled:text-zinc-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[y&&s.jsx(vt,{className:"w-4 h-4 animate-spin"}),"Confirm Payment"]})]})]})})})]})}const Ofe=[{id:"suppliers-products",label:"Suppliers & Products",shortLabel:"Suppliers",icon:Un,description:"Manage suppliers and their product catalogs"},{id:"shopping-lists",label:"Shopping Lists",shortLabel:"Lists",icon:Os,description:"Create and track procurement orders"},{id:"payments",label:"Payments",shortLabel:"Pay",icon:Or,description:"Track and manage supplier payments"}];function Tfe(){const[e,t]=g.useState("suppliers-products"),[r,n]=g.useState(!1),[a,i]=g.useState(0),l=()=>{n(!0),i(d=>d+1),setTimeout(()=>n(!1),1e3)},c=()=>{switch(e){case"suppliers-products":return s.jsx(yA,{},a);case"shopping-lists":return s.jsx(Efe,{},a);case"payments":return s.jsx(zfe,{},a);default:return s.jsx(yA,{},a)}};return s.jsxs("div",{className:"min-h-screen bg-zinc-950 text-zinc-100",children:[s.jsx("div",{className:"border-b border-zinc-800/50 bg-gradient-to-b from-zinc-900/80 to-zinc-950 backdrop-blur-sm sticky top-0 z-20",children:s.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"py-4 flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500/20 to-violet-500/20 border border-blue-500/30 flex items-center justify-center",children:s.jsx(ct,{className:"w-5 h-5 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-zinc-100",children:"Procurement"}),s.jsx("p",{className:"text-xs text-zinc-500",children:"Manage suppliers, create shopping lists, and track payments"})]})]})}),s.jsxs("button",{onClick:l,disabled:r,className:"flex items-center gap-2 px-3 py-2 bg-zinc-800/50 hover:bg-zinc-800 border border-zinc-700/50 rounded-lg text-sm text-zinc-400 hover:text-zinc-200 transition-all disabled:opacity-50",children:[s.jsx(rn,{className:`w-4 h-4 ${r?"animate-spin":""}`}),s.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]}),s.jsx("div",{className:"flex gap-1 -mb-px overflow-x-auto scrollbar-hide pb-px",children:Ofe.map(d=>{const f=d.icon,m=e===d.id;return s.jsxs("button",{onClick:()=>t(d.id),className:`
                    relative flex items-center gap-2 px-4 py-3 text-sm font-medium
                    transition-all duration-200 whitespace-nowrap rounded-t-lg
                    ${m?"text-blue-400 bg-zinc-900/50":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-900/30"}
                  `,children:[s.jsx(f,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:d.label}),s.jsx("span",{className:"sm:hidden",children:d.shortLabel}),m&&s.jsx(Z.div,{layoutId:"activeTabIndicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-500 to-violet-500",transition:{type:"spring",stiffness:500,damping:30}})]},d.id)})})]})}),s.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsx(Ve,{mode:"wait",children:s.jsx(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:c()},e)})})]})}const Pn={OWNER:{label:"Owner",icon:qu,color:"amber",gradient:"from-amber-500 to-yellow-500",bgGlow:"bg-amber-500/20",borderColor:"border-amber-500/30",textColor:"text-amber-400",hex:"#f59e0b"},ADMIN:{label:"Administrator",icon:Xy,color:"violet",gradient:"from-violet-500 to-purple-500",bgGlow:"bg-violet-500/20",borderColor:"border-violet-500/30",textColor:"text-violet-400",hex:"#8b5cf6"},MANAGER:{label:"Branch Manager",icon:Fh,color:"emerald",gradient:"from-emerald-500 to-green-500",bgGlow:"bg-emerald-500/20",borderColor:"border-emerald-500/30",textColor:"text-emerald-400",hex:"#10b981"}},HR=e=>new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),GR=e=>{if(!e)return"Never logged in";const t=new Date(e),n=new Date().getTime()-t.getTime(),a=Math.floor(n/(1e3*60)),i=Math.floor(n/(1e3*60*60)),l=Math.floor(n/(1e3*60*60*24));return a<5?"Just now":a<60?`${a} min ago`:i<24?`${i}h ago`:l<7?`${l}d ago`:t.toLocaleDateString("en-KE",{month:"short",day:"numeric",year:"numeric"})},Mfe=e=>new Date(e).toLocaleDateString("en-KE",{month:"long",day:"numeric",year:"numeric"}),Ife=e=>{let t=0;return e.length>=6&&t++,e.length>=8&&t++,/[A-Z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,t},YR=({password:e})=>{const t=Ife(e),r=["Very Weak","Weak","Fair","Good","Strong"],n=["bg-red-500","bg-orange-500","bg-yellow-500","bg-emerald-400","bg-emerald-500"];return s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(a=>s.jsx(Z.div,{initial:{scaleX:0},animate:{scaleX:t>=a?1:.3},className:`h-1.5 flex-1 rounded-full origin-left transition-colors ${t>=a?n[t-1]:"bg-slate-700"}`},a))}),e.length>0&&s.jsx("p",{className:`text-xs font-medium ${t>=4?"text-emerald-400":t>=2?"text-yellow-400":"text-red-400"}`,children:r[Math.max(0,t-1)]||"Too Short"})]})};function Dfe({isActive:e,onToggle:t,disabled:r}){const n=g.useRef(null),a=G3(0),c=160-48-8,d=vV(a,[0,c],e?["rgba(239, 68, 68, 0.1)","rgba(239, 68, 68, 0.3)"]:["rgba(34, 197, 94, 0.1)","rgba(34, 197, 94, 0.3)"]),f=()=>{a.get()>c*.7?(ag(a,c,{type:"spring",stiffness:300,damping:30}),setTimeout(()=>{t(),ag(a,0,{type:"spring",stiffness:300,damping:30})},200)):ag(a,0,{type:"spring",stiffness:300,damping:30})};return s.jsxs(Z.div,{ref:n,style:{background:d},className:`
        relative w-40 h-11 rounded-full border overflow-hidden
        ${e?"border-red-500/30":"border-green-500/30"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsx("span",{className:`text-[10px] font-bold tracking-wide uppercase ${e?"text-red-400/60":"text-green-400/60"}`,children:e?"Slide to Suspend":"Slide to Activate"})}),s.jsx(Z.div,{drag:r?!1:"x",dragConstraints:{left:0,right:c},dragElastic:0,onDragEnd:f,style:{x:a},whileDrag:{scale:1.05},className:`
          absolute left-1 top-1 w-9 h-9 rounded-full
          flex items-center justify-center cursor-grab active:cursor-grabbing
          ${e?"bg-gradient-to-br from-green-500 to-emerald-500 shadow-lg shadow-green-500/30":"bg-gradient-to-br from-red-500 to-rose-500 shadow-lg shadow-red-500/30"}
        `,children:e?s.jsx(ss,{className:"w-4 h-4 text-white"}):s.jsx(vl,{className:"w-4 h-4 text-white"})})]})}function Rfe({isOpen:e,onClose:t,user:r,onSuccess:n}){const[a,i]=g.useState(""),[l,c]=g.useState(""),[d,f]=g.useState(""),[m,h]=g.useState(!1),[x,v]=g.useState(!1),[y,w]=g.useState(!1),[j,S]=g.useState(!1),[P,k]=g.useState(null),E=()=>{const D="ABCDEFGHJKMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789!@#$%";let _="";for(let F=0;F<12;F++)_+=D.charAt(Math.floor(Math.random()*D.length));c(_),f(_),k(_)},A=D=>{navigator.clipboard.writeText(D),xe.success("Password copied to clipboard")},z=async()=>{var D,_;if(r){if(!a){xe.error("Please enter your current password for verification");return}if(l.length<6){xe.error("Password must be at least 6 characters");return}if(l!==d){xe.error("Passwords do not match");return}S(!0);try{await we.put(`/admin/users/${r.id}/password`,{currentPassword:a,newPassword:l}),xe.success(`Password updated for ${r.name}`,{description:P?"Make sure to share the new password securely":void 0}),n(),O()}catch(F){xe.error(((_=(D=F.response)==null?void 0:D.data)==null?void 0:_.error)||"Failed to update password")}finally{S(!1)}}},O=()=>{i(""),c(""),f(""),h(!1),v(!1),w(!1),k(null),t()};if(!e||!r)return null;const T=Pn[r.role],R=l===d&&d.length>0,I=a.length>0&&l.length>=6&&R;return s.jsx(Ve,{children:s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:O,children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:D=>D.stopPropagation(),className:`w-full max-w-md max-h-[90vh] overflow-y-auto bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900
            rounded-2xl border border-slate-700/50 shadow-2xl`,children:[s.jsx("div",{className:"relative p-4 border-b border-slate-700/50 bg-slate-800/30",children:s.jsxs("div",{className:"relative flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${T.bgGlow} border ${T.borderColor}`,children:s.jsx(po,{className:`w-5 h-5 ${T.textColor}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-lg font-bold text-white",children:"Reset Password"}),s.jsxs("p",{className:"text-xs text-slate-400 truncate",children:["For ",s.jsx("span",{className:`font-semibold ${T.textColor}`,children:r.name})," (",r.email,")"]})]}),s.jsx("button",{onClick:O,className:"p-1.5 rounded-lg hover:bg-slate-700/50 text-slate-400 hover:text-white transition-colors",children:s.jsx(Ze,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-300",children:"Your Password (Verification)"}),s.jsxs("div",{className:"relative",children:[s.jsx(T$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:m?"text":"password",value:a,onChange:D=>i(D.target.value),placeholder:"Enter your password",className:`w-full pl-10 pr-10 py-2.5 rounded-lg bg-slate-800/50 border border-slate-700/50
                    text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50
                    font-mono text-sm`}),s.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:m?s.jsx(bl,{className:"w-3.5 h-3.5"}):s.jsx(fn,{className:"w-3.5 h-3.5"})})]})]}),s.jsxs("div",{className:"relative py-1",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-slate-700/50"})}),s.jsx("div",{className:"relative flex justify-center text-[10px]",children:s.jsx("span",{className:"bg-slate-800 px-2 text-slate-500",children:"New Password"})})]}),s.jsxs(Z.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:E,className:`w-full flex items-center justify-center gap-2 px-3 py-2 rounded-lg
                bg-gradient-to-r from-amber-500/10 to-yellow-500/10 border border-amber-500/30
                text-amber-400 font-medium text-sm hover:from-amber-500/20 hover:to-yellow-500/20 transition-all`,children:[s.jsx(Qy,{className:"w-3.5 h-3.5"}),"Generate Secure Password"]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-300",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(wi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:x?"text":"password",value:l,onChange:D=>{c(D.target.value),k(null)},placeholder:"Enter new password",className:`w-full pl-10 pr-16 py-2.5 rounded-lg bg-slate-800/50 border border-slate-700/50
                    text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50
                    font-mono text-sm`}),s.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[P&&s.jsx("button",{type:"button",onClick:()=>A(l),className:"p-1 rounded hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:s.jsx(QA,{className:"w-3.5 h-3.5"})}),s.jsx("button",{type:"button",onClick:()=>v(!x),className:"p-1 rounded hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:x?s.jsx(bl,{className:"w-3.5 h-3.5"}):s.jsx(fn,{className:"w-3.5 h-3.5"})})]})]}),s.jsx(YR,{password:l})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"block text-xs font-medium text-slate-300",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(wi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:y?"text":"password",value:d,onChange:D=>f(D.target.value),placeholder:"Confirm new password",className:`w-full pl-10 pr-10 py-2.5 rounded-lg bg-slate-800/50 border
                    text-white placeholder-slate-500 focus:outline-none font-mono text-sm
                    ${d.length>0?R?"border-emerald-500/50 focus:border-emerald-500":"border-red-500/50 focus:border-red-500":"border-slate-700/50 focus:border-amber-500/50"}`}),s.jsx("button",{type:"button",onClick:()=>w(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:y?s.jsx(bl,{className:"w-3.5 h-3.5"}):s.jsx(fn,{className:"w-3.5 h-3.5"})})]}),d.length>0&&s.jsxs(Z.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:`flex items-center gap-1 text-[11px] font-medium ${R?"text-emerald-400":"text-red-400"}`,children:[R?s.jsx(zr,{className:"w-3 h-3"}):s.jsx(Ze,{className:"w-3 h-3"}),R?"Passwords match":"Passwords do not match"]})]})]}),s.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-800/30 flex items-center justify-end gap-3",children:[s.jsx("button",{onClick:O,className:"px-4 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700/50 transition-colors text-sm font-medium",children:"Cancel"}),s.jsxs(Z.button,{whileHover:{scale:I?1.02:1},whileTap:{scale:I?.98:1},disabled:!I||j,onClick:z,className:`flex items-center gap-2 px-5 py-2 rounded-lg font-bold text-sm transition-all
                ${I?"bg-gradient-to-r from-amber-500 to-yellow-500 text-white shadow-lg shadow-amber-500/30 hover:shadow-amber-500/50":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:[j?s.jsx(rn,{className:"w-4 h-4 animate-spin"}):s.jsx(po,{className:"w-4 h-4"}),j?"Updating...":"Update Password"]})]})]})})})}function _fe({isOpen:e,onClose:t,user:r,branches:n,onUserUpdated:a,onResetPassword:i}){const[l,c]=g.useState(!1),[d,f]=g.useState(!1),[m,h]=g.useState(null),[x,v]=g.useState(""),[y,w]=g.useState(!1),[j,S]=g.useState(null),[P,k]=g.useState({name:"",email:"",phone:"",role:"MANAGER",branchId:""});g.useEffect(()=>{r&&(S(r),k({name:r.name,email:r.email,phone:r.phone||"",role:r.role,branchId:r.branchId||""}))},[r]);const E=async()=>{var _,F,W;if(j){f(!0);try{const Q=(await we.put(`/admin/users/${j.id}`,P)).data.data,V={...j,name:Q.name,email:Q.email,phone:Q.phone,role:Q.role,branch:Q.branch,branchId:((_=Q.branch)==null?void 0:_.id)||null,isActive:Q.isActive};S(V),a(V),xe.success("User updated successfully"),c(!1)}catch(ne){xe.error(((W=(F=ne.response)==null?void 0:F.data)==null?void 0:W.error)||"Failed to update user")}finally{f(!1)}}},A=(_,F)=>{h(_),v(F)},z=()=>{h(null),v("")},O=async _=>{var F,W;if(j){if(_==="email"&&!x.includes("@")){xe.error("Please enter a valid email address");return}if(_==="name"&&x.trim().length<2){xe.error("Name must be at least 2 characters");return}w(!0);try{const Q=(await we.put(`/admin/users/${j.id}`,{[_]:x})).data.data,V={...j,[_]:x,name:Q.name??j.name,email:Q.email??j.email,phone:Q.phone??j.phone,branch:Q.branch??j.branch};S(V),k(q=>({...q,[_]:x})),a(V),xe.success(`${_.charAt(0).toUpperCase()+_.slice(1)} updated successfully`),h(null),v("")}catch(ne){xe.error(((W=(F=ne.response)==null?void 0:F.data)==null?void 0:W.error)||`Failed to update ${_}`)}finally{w(!1)}}},T=()=>{c(!1),h(null),v(""),t()};if(!e||!j)return null;const R=j,I=Pn[R.role],D=I.icon;return s.jsx(Ve,{children:s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:T,children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:_=>_.stopPropagation(),className:`w-full max-w-2xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900
            rounded-2xl border border-slate-700/50 shadow-2xl overflow-hidden`,children:[s.jsxs("div",{className:"relative p-6 border-b border-slate-700/50",children:[s.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:`linear-gradient(135deg, ${I.hex}20 0%, transparent 50%)`}}),s.jsxs("div",{className:"relative flex items-start gap-5",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`w-20 h-20 rounded-2xl ${I.bgGlow} border-2 ${I.borderColor} flex items-center justify-center`,children:s.jsx("span",{className:`text-2xl font-black ${I.textColor}`,children:R.name.split(" ").map(_=>_[0]).join("").slice(0,2)})}),s.jsx("div",{className:`absolute -bottom-2 -right-2 p-2 rounded-xl bg-gradient-to-br ${I.gradient} shadow-lg`,children:s.jsx(D,{className:"w-4 h-4 text-white"})}),s.jsx("div",{className:`absolute -top-1 -right-1 w-5 h-5 rounded-full border-2 border-slate-900 ${R.isActive?"bg-emerald-500":"bg-red-500"}`,children:R.isActive?s.jsx(zr,{className:"w-3 h-3 text-white m-0.5"}):s.jsx(Ze,{className:"w-3 h-3 text-white m-0.5"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-3 mb-1",children:m==="name"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"text",value:x,onChange:_=>v(_.target.value),className:`text-xl font-bold px-2 py-1 rounded-lg bg-slate-700 border border-slate-600
                          text-white focus:outline-none focus:border-amber-500/50`,autoFocus:!0}),s.jsx("button",{onClick:()=>O("name"),disabled:y,className:"p-1.5 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30",children:y?s.jsx(rn,{className:"w-4 h-4 animate-spin"}):s.jsx(zr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:z,className:"p-1.5 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30",children:s.jsx(Ze,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:R.name}),!l&&s.jsx(Z.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A("name",R.name),className:"p-1.5 rounded-lg hover:bg-slate-700/50 text-slate-400 hover:text-amber-400 transition-colors",title:"Edit name",children:s.jsx(Ux,{className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx("span",{className:`px-2.5 py-1 rounded-full font-bold text-xs ${I.bgGlow} ${I.textColor} border ${I.borderColor}`,children:I.label}),R.branch&&s.jsxs("span",{className:"flex items-center gap-1.5 text-slate-400",children:[s.jsx(vr,{className:"w-3.5 h-3.5"}),R.branch.name]}),s.jsxs("span",{className:`flex items-center gap-1.5 ${R.isActive?"text-emerald-400":"text-red-400"}`,children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${R.isActive?"bg-emerald-400":"bg-red-400"}`}),R.isActive?"Active":"Suspended"]})]})]}),s.jsx("button",{onClick:T,className:"p-2 rounded-lg hover:bg-slate-700/50 text-slate-400 hover:text-white transition-colors",children:s.jsx(Ze,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"p-6",children:l?s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",value:P.name,onChange:_=>k({...P,name:_.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700/50
                          text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(N$,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"email",value:P.email,onChange:_=>k({...P,email:_.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700/50
                          text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(os,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"tel",value:P.phone,onChange:_=>k({...P,phone:_.target.value}),placeholder:"Optional",className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700/50
                          text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50`})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Role"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["MANAGER","ADMIN","OWNER"].map(_=>{const F=Pn[_],W=F.icon;return s.jsxs("button",{type:"button",onClick:()=>k({...P,role:_}),className:`p-2 rounded-xl border text-center transition-all
                              ${P.role===_?`${F.bgGlow} ${F.borderColor} ${F.textColor}`:"bg-slate-800/50 border-slate-700/50 text-slate-400 hover:border-slate-600"}`,children:[s.jsx(W,{className:"w-4 h-4 mx-auto mb-1"}),s.jsx("span",{className:"text-xs font-bold",children:F.label.split(" ")[0]})]},_)})})]})]}),P.role==="MANAGER"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Assigned Branch"}),s.jsxs("div",{className:"relative",children:[s.jsx(vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsxs("select",{value:P.branchId,onChange:_=>k({...P,branchId:_.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700/50
                          text-white focus:outline-none focus:border-amber-500/50 appearance-none`,children:[s.jsx("option",{value:"",children:"Select Branch..."}),n.map(_=>s.jsx("option",{value:_.id,children:_.name},_.id))]})]})]})]}):s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Contact Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-800/30 border border-slate-700/30 group",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:s.jsx($l,{className:"w-4 h-4 text-blue-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Email"}),m==="email"?s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"email",value:x,onChange:_=>v(_.target.value),className:`flex-1 px-2 py-1 text-sm rounded-lg bg-slate-700 border border-slate-600
                                text-white focus:outline-none focus:border-amber-500/50`,autoFocus:!0}),s.jsx("button",{onClick:()=>O("email"),disabled:y,className:"p-1 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30",children:y?s.jsx(rn,{className:"w-3.5 h-3.5 animate-spin"}):s.jsx(zr,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:z,className:"p-1 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30",children:s.jsx(Ze,{className:"w-3.5 h-3.5"})})]}):s.jsx("p",{className:"text-sm font-medium text-white truncate",children:R.email})]}),m!=="email"&&s.jsx(Z.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A("email",R.email),className:"p-1.5 rounded-lg opacity-0 group-hover:opacity-100 hover:bg-slate-700/50 text-slate-400 hover:text-amber-400 transition-all",children:s.jsx(Ux,{className:"w-3.5 h-3.5"})})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-800/30 border border-slate-700/30 group",children:[s.jsx("div",{className:"p-2 rounded-lg bg-emerald-500/10",children:s.jsx(os,{className:"w-4 h-4 text-emerald-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Phone"}),m==="phone"?s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("input",{type:"tel",value:x,onChange:_=>v(_.target.value),placeholder:"Enter phone number",className:`flex-1 px-2 py-1 text-sm rounded-lg bg-slate-700 border border-slate-600
                                text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50`,autoFocus:!0}),s.jsx("button",{onClick:()=>O("phone"),disabled:y,className:"p-1 rounded-lg bg-emerald-500/20 text-emerald-400 hover:bg-emerald-500/30",children:y?s.jsx(rn,{className:"w-3.5 h-3.5 animate-spin"}):s.jsx(zr,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:z,className:"p-1 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30",children:s.jsx(Ze,{className:"w-3.5 h-3.5"})})]}):s.jsx("p",{className:"text-sm font-medium text-white",children:R.phone||"Not provided"})]}),m!=="phone"&&s.jsx(Z.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A("phone",R.phone||""),className:"p-1.5 rounded-lg opacity-0 group-hover:opacity-100 hover:bg-slate-700/50 text-slate-400 hover:text-amber-400 transition-all",children:s.jsx(Ux,{className:"w-3.5 h-3.5"})})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[s.jsx("div",{className:"p-2 rounded-lg bg-violet-500/10",children:s.jsx(zn,{className:"w-4 h-4 text-violet-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Last Login"}),s.jsx("p",{className:"text-sm font-medium text-white",children:GR(R.lastLoginAt)})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-800/30 border border-slate-700/30",children:[s.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:s.jsx(Ca,{className:"w-4 h-4 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500",children:"Member Since"}),s.jsx("p",{className:"text-sm font-medium text-white",children:Mfe(R.createdAt)})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Today's Performance"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(mn,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Sales"})]}),s.jsx("p",{className:"text-2xl font-black text-white",children:R.todaySalesCount})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xr,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Volume"})]}),s.jsx("p",{className:"text-xl font-bold text-white",children:HR(R.todaySalesVolume)})]})]}),R.activeReversalRequests>0&&s.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-amber-500/10 to-orange-600/5 border border-amber-500/30",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-amber-500/20",children:s.jsx(St,{className:"w-5 h-5 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-amber-300",children:"Risk Alert"}),s.jsxs("p",{className:"text-xs text-amber-400/70",children:[R.activeReversalRequests," pending reversal request",R.activeReversalRequests>1?"s":""]})]})]})}),s.jsxs("div",{className:"pt-4 border-t border-slate-700/30",children:[s.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Quick Actions"}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{T(),i(R)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl
                          bg-slate-800/80 border border-slate-700/50 text-slate-300
                          hover:bg-slate-700/80 hover:text-white transition-all text-sm font-medium`,children:[s.jsx(po,{className:"w-4 h-4"}),"Reset Password"]})})]})]})]})}),s.jsx("div",{className:"p-6 border-t border-slate-700/50 bg-slate-800/30 flex items-center justify-between",children:l?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2.5 rounded-xl text-slate-400 hover:text-white hover:bg-slate-700/50 transition-colors font-medium",children:"Cancel"}),s.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},disabled:d,onClick:E,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl font-bold
                    bg-gradient-to-r from-amber-500 to-yellow-500 text-white shadow-lg shadow-amber-500/30`,children:[d?s.jsx(rn,{className:"w-4 h-4 animate-spin"}):s.jsx(zr,{className:"w-4 h-4"}),d?"Saving...":"Save Changes"]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[s.jsx(Hy,{className:"w-3.5 h-3.5"}),s.jsxs("span",{className:"font-mono",children:[R.id.slice(0,8),"..."]})]}),s.jsx("button",{onClick:T,className:"px-6 py-2.5 rounded-xl font-medium bg-slate-700 hover:bg-slate-600 text-white transition-colors",children:"Close"})]})})]})})})}function Lfe({user:e,onStatusToggle:t,onResetPassword:r,onViewDetails:n,currentUserId:a}){const i=Pn[e.role],l=i.icon,c=e.id===a,d=e.activeReversalRequests>0;return s.jsxs(Z.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},whileHover:{y:-4},transition:{type:"spring",stiffness:300,damping:25},className:`
        group relative rounded-2xl overflow-hidden
        bg-gradient-to-br from-slate-900/90 via-slate-800/70 to-slate-900/90
        backdrop-blur-xl border ${i.borderColor}
        shadow-xl shadow-black/20 hover:shadow-2xl
        ${e.isActive?"":"opacity-70"}
      `,children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",style:{background:`linear-gradient(135deg, ${i.hex}10 0%, transparent 40%, transparent 60%, ${i.hex}10 100%)`}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 via-transparent to-white/5 pointer-events-none"}),d&&e.isActive&&s.jsx(Z.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"absolute top-3 right-3 z-10",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-amber-500 rounded-full blur-md animate-pulse"}),s.jsx("div",{className:"relative bg-amber-500/20 border border-amber-500/50 rounded-full p-1.5",children:s.jsx(Yy,{className:"w-4 h-4 text-amber-400"})})]})}),s.jsx("div",{className:`absolute top-3 ${d?"right-12":"right-3"}`,children:s.jsxs("div",{className:`
          flex items-center gap-1.5 px-2 py-1 rounded-full text-[10px] font-bold uppercase tracking-wide
          ${e.isActive?"bg-emerald-500/10 border border-emerald-500/30 text-emerald-400":"bg-red-500/10 border border-red-500/30 text-red-400"}
        `,children:[s.jsxs("span",{className:"relative flex h-1.5 w-1.5",children:[e.isActive&&s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:`relative inline-flex rounded-full h-1.5 w-1.5 ${e.isActive?"bg-emerald-400":"bg-red-400"}`})]}),e.isActive?"Online":"Offline"]})}),s.jsxs("div",{className:"relative p-5",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Z.div,{whileHover:{scale:1.05},className:"relative rounded-xl overflow-hidden p-0.5",style:{background:`linear-gradient(135deg, ${i.hex}40, ${i.hex}10)`},children:s.jsx("div",{className:"w-14 h-14 rounded-xl bg-slate-800 flex items-center justify-center",children:s.jsx("span",{className:`text-xl font-black ${i.textColor}`,children:e.name.split(" ").map(f=>f[0]).join("").slice(0,2)})})}),s.jsx("div",{className:`
              absolute -bottom-1 -right-1 p-1.5 rounded-lg
              bg-gradient-to-br ${i.gradient}
              shadow-lg shadow-${i.color}-500/30
            `,children:s.jsx(l,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-base font-bold text-white truncate mb-1",children:e.name}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`
                text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide
                bg-gradient-to-r ${i.gradient} text-white
              `,children:i.label}),e.branch&&s.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[s.jsx(vr,{className:"w-3 h-3"}),e.branch.name]})]})]})]}),s.jsxs("div",{className:"space-y-1.5 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[s.jsx($l,{className:"w-3 h-3 text-slate-500"}),s.jsx("span",{className:"truncate",children:e.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[s.jsx(zn,{className:"w-3 h-3 text-slate-500"}),s.jsxs("span",{children:["Last seen: ",GR(e.lastLoginAt)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[s.jsxs("div",{className:"relative p-3 rounded-xl bg-slate-800/40 border border-slate-700/30 overflow-hidden group/stat",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent opacity-0 group-hover/stat:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-blue-500/10",children:s.jsx(mn,{className:"w-3 h-3 text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wide",children:"Sales"}),s.jsx("p",{className:"text-lg font-black text-white leading-none",children:e.todaySalesCount})]})]})]}),s.jsxs("div",{className:"relative p-3 rounded-xl bg-slate-800/40 border border-slate-700/30 overflow-hidden group/stat",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover/stat:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-emerald-500/10",children:s.jsx(xr,{className:"w-3 h-3 text-emerald-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wide",children:"Volume"}),s.jsx("p",{className:"text-sm font-bold text-white leading-none",children:HR(e.todaySalesVolume)})]})]})]})]}),d&&s.jsx(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-2.5 rounded-xl bg-amber-500/10 border border-amber-500/30",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(St,{className:"w-3.5 h-3.5 text-amber-400 flex-shrink-0"}),s.jsxs("p",{className:"text-[11px] text-amber-300",children:[s.jsx("span",{className:"font-bold",children:e.activeReversalRequests})," pending reversal",e.activeReversalRequests>1?"s":""]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[s.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(e),className:`flex items-center justify-center gap-1.5 px-2 py-2 rounded-xl
              bg-slate-800/80 border border-slate-700/50 text-slate-300
              hover:bg-slate-700/80 hover:text-white hover:border-slate-600 transition-all text-xs font-medium`,children:[s.jsx(fn,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"truncate",children:"Details"})]}),s.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(e),className:`flex items-center justify-center gap-1.5 px-2 py-2 rounded-xl
              bg-slate-800/80 border border-slate-700/50 text-slate-300
              hover:bg-amber-500/10 hover:text-amber-400 hover:border-amber-500/30 transition-all text-xs font-medium`,children:[s.jsx(po,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"truncate",children:"Reset Pass"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Dfe,{isActive:e.isActive,onToggle:()=>t(e.id,!e.isActive),disabled:c})}),c&&s.jsx("p",{className:"text-[10px] text-center text-slate-500 mt-2",children:"Cannot modify your own status"})]})]})}const $fe=[{id:1,label:"Identity",icon:Qs,description:"Basic information"},{id:2,label:"Assignment",icon:vr,description:"Role & branch"},{id:3,label:"Credentials",icon:po,description:"Access setup"}];function Ffe({isOpen:e,onClose:t,onSuccess:r,branches:n}){const[a,i]=g.useState(1),[l,c]=g.useState(!1),[d,f]=g.useState(!1),[m,h]=g.useState(null),[x,v]=g.useState({name:"",email:"",phone:"",password:"",role:"MANAGER",branchId:""}),y=()=>{const k="ABCDEFGHJKMNPQRSTUVWXYZabcdefghjkmnpqrstuvwxyz23456789!@#$%";let E="";for(let A=0;A<12;A++)E+=k.charAt(Math.floor(Math.random()*k.length));v({...x,password:E}),h(E),f(!0)},w=()=>{x.password&&(navigator.clipboard.writeText(x.password),xe.success("Password copied to clipboard"))},j=async()=>{var k,E;c(!0);try{await we.post("/admin/users",x),xe.success("Agent deployed successfully",{description:`${x.name} has been onboarded to the system`}),r(),S()}catch(A){xe.error(((E=(k=A.response)==null?void 0:k.data)==null?void 0:E.error)||"Failed to deploy agent")}finally{c(!1)}},S=()=>{i(1),v({name:"",email:"",phone:"",password:"",role:"MANAGER",branchId:""}),h(null),f(!1),t()},P=()=>a===1?x.name.trim().length>=2&&x.email.includes("@"):a===2?x.role&&(x.role!=="MANAGER"||x.branchId):a===3?x.password.length>=6:!0;return e?s.jsx(Ve,{children:s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:S,children:s.jsxs(Z.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:k=>k.stopPropagation(),className:`w-full max-w-lg bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900
            rounded-2xl border border-slate-700/50 shadow-2xl overflow-hidden`,children:[s.jsxs("div",{className:"relative p-5 border-b border-slate-700/50 bg-slate-800/30",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-40 h-20 bg-gradient-to-b from-amber-500/20 to-transparent blur-3xl pointer-events-none"}),s.jsxs("div",{className:"relative flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-amber-500/20 to-yellow-500/10 border border-amber-500/30",children:s.jsx(bu,{className:"w-5 h-5 text-amber-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-white",children:"Recruit Onboarding Protocol"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Deploy new agent to the system"})]})]}),s.jsx("button",{onClick:S,className:"p-1.5 rounded-lg hover:bg-slate-700/50 text-slate-400 hover:text-white transition-colors",children:s.jsx(Ze,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("div",{className:"relative h-1 bg-slate-700 rounded-full overflow-hidden mb-3",children:s.jsx(Z.div,{initial:{width:0},animate:{width:`${(a-1)/2*100}%`},transition:{duration:.3,ease:"easeInOut"},className:"absolute inset-y-0 left-0 bg-gradient-to-r from-amber-500 to-yellow-500"})}),s.jsx("div",{className:"flex justify-between",children:$fe.map(k=>{const E=k.icon,A=a>=k.id,z=a===k.id;return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Z.div,{animate:{scale:z?1.1:1,boxShadow:z?"0 0 20px rgba(245, 158, 11, 0.3)":"none"},className:`
                          w-9 h-9 rounded-full flex items-center justify-center mb-1.5 transition-all
                          ${A?"bg-gradient-to-br from-amber-500 to-yellow-500 text-white":"bg-slate-700 text-slate-400 border border-slate-600"}
                        `,children:A&&k.id<a?s.jsx(zr,{className:"w-4 h-4"}):s.jsx(E,{className:"w-4 h-4"})}),s.jsx("span",{className:`text-[10px] font-medium ${A?"text-amber-400":"text-slate-500"}`,children:k.label})]},k.id)})})]})]}),s.jsx("div",{className:"p-5",children:s.jsxs(Ve,{mode:"wait",children:[a===1&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Qs,{className:"w-5 h-5 text-amber-400"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"Agent Identity"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1.5",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",value:x.name,onChange:k=>v({...x,name:k.target.value}),placeholder:"John Doe",className:`w-full pl-10 pr-4 py-2.5 rounded-lg bg-slate-800/50 border border-slate-700/50
                            text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1.5",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(os,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"tel",value:x.phone,onChange:k=>v({...x,phone:k.target.value}),placeholder:"0712345678",className:`w-full pl-10 pr-4 py-2.5 rounded-lg bg-slate-800/50 border border-slate-700/50
                            text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50`})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1.5",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx($l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"email",value:x.email,onChange:k=>v({...x,email:k.target.value}),placeholder:"john@pram.co.ke",className:`w-full pl-10 pr-4 py-2.5 rounded-lg bg-slate-800/50 border border-slate-700/50
                            text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50`})]})]})]})]},"step1"),a===2&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(vr,{className:"w-5 h-5 text-amber-400"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"Mission Assignment"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-2",children:"Deployment Station"}),s.jsxs("div",{className:"relative",children:[s.jsx(vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsxs("select",{value:x.branchId,onChange:k=>v({...x,branchId:k.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-lg bg-slate-800/50 border border-slate-700/50
                          text-white focus:outline-none focus:border-amber-500/50 appearance-none`,children:[s.jsx("option",{value:"",children:"Select Branch..."}),n.map(k=>s.jsx("option",{value:k.id,children:k.name},k.id))]}),s.jsx(Xs,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 rotate-90"})]}),s.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:x.role==="MANAGER"?"Required for Branch Managers":"Optional for Admins/Owners"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-2",children:"Clearance Level"}),s.jsx("div",{className:"grid grid-cols-3 gap-2",children:["MANAGER","ADMIN","OWNER"].map(k=>{const E=Pn[k],A=E.icon;return s.jsxs(Z.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v({...x,role:k}),className:`
                              p-3 rounded-xl border text-center transition-all
                              ${x.role===k?`${E.bgGlow} ${E.borderColor} ${E.textColor}`:"bg-slate-800/50 border-slate-700/50 text-slate-400 hover:border-slate-600"}
                            `,children:[s.jsx(A,{className:"w-5 h-5 mx-auto mb-1.5"}),s.jsx("span",{className:"text-xs font-bold block",children:E.label.split(" ")[0]})]},k)})})]}),s.jsx("div",{className:`p-3 rounded-lg border ${Pn[x.role].bgGlow} ${Pn[x.role].borderColor}`,children:s.jsxs("p",{className:`text-xs ${Pn[x.role].textColor}`,children:[x.role==="MANAGER"&&"Branch Manager: Full access to assigned branch dashboard and sales operations.",x.role==="ADMIN"&&"Administrator: Access to all branches, inventory management, and user control.",x.role==="OWNER"&&"Owner: Complete system access including financial reports and system settings."]})})]},"step2"),a===3&&s.jsxs(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(po,{className:"w-5 h-5 text-amber-400"}),s.jsx("h3",{className:"text-lg font-bold text-white",children:"Access Credentials"})]}),s.jsx("div",{className:"p-3 rounded-lg bg-slate-800/50 border border-slate-700/50 mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg ${Pn[x.role].bgGlow} flex items-center justify-center`,children:s.jsx("span",{className:`text-sm font-black ${Pn[x.role].textColor}`,children:x.name.split(" ").map(k=>k[0]).join("").slice(0,2)||"??"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:x.name||"Agent Name"}),s.jsx("p",{className:"text-xs text-slate-400 truncate",children:x.email||"email@example.com"})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-[10px] font-bold ${Pn[x.role].bgGlow} ${Pn[x.role].textColor} border ${Pn[x.role].borderColor}`,children:x.role})]})}),s.jsxs(Z.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:y,className:`w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg
                      bg-gradient-to-r from-amber-500/10 to-yellow-500/10 border border-amber-500/30
                      text-amber-400 font-medium text-sm hover:from-amber-500/20 hover:to-yellow-500/20 transition-all`,children:[s.jsx(Qy,{className:"w-4 h-4"}),"Auto-Generate Secure Password"]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-slate-400 mb-1.5",children:"Initial Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(wi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:d?"text":"password",value:x.password,onChange:k=>{v({...x,password:k.target.value}),h(null)},placeholder:"Min 6 characters",className:`w-full pl-10 pr-20 py-2.5 rounded-lg bg-slate-800/50 border border-slate-700/50
                          text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50 font-mono text-sm`}),s.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[m&&s.jsx("button",{type:"button",onClick:w,className:"p-1 rounded hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",title:"Copy password",children:s.jsx(QA,{className:"w-3.5 h-3.5"})}),s.jsx("button",{type:"button",onClick:()=>f(!d),className:"p-1 rounded hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:d?s.jsx(bl,{className:"w-3.5 h-3.5"}):s.jsx(fn,{className:"w-3.5 h-3.5"})})]})]}),s.jsx(YR,{password:x.password})]}),m&&s.jsx(Z.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-lg bg-emerald-500/10 border border-emerald-500/30",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ss,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"}),s.jsx("p",{className:"text-xs text-emerald-300",children:"Secure password generated. Remember to share it securely with the new agent."})]})})]},"step3")]})}),s.jsxs("div",{className:"p-4 border-t border-slate-700/50 bg-slate-800/30 flex items-center justify-between",children:[s.jsx("button",{onClick:a>1?()=>i(a-1):S,className:"px-4 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700/50 transition-colors text-sm font-medium",children:a>1?"Back":"Cancel"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-slate-500",children:["Step ",a," of 3"]}),s.jsx(Z.button,{whileHover:{scale:P()?1.02:1},whileTap:{scale:P()?.98:1},disabled:!P()||l,onClick:a<3?()=>i(a+1):j,className:`
                  flex items-center gap-2 px-5 py-2 rounded-lg font-bold text-sm transition-all
                  ${P()?"bg-gradient-to-r from-amber-500 to-yellow-500 text-white shadow-lg shadow-amber-500/30 hover:shadow-amber-500/50":"bg-slate-700 text-slate-500 cursor-not-allowed"}
                `,children:l?s.jsx(rn,{className:"w-4 h-4 animate-spin"}):a<3?s.jsxs(s.Fragment,{children:["Continue",s.jsx(Xs,{className:"w-4 h-4"})]}):s.jsxs(s.Fragment,{children:[s.jsx(bu,{className:"w-4 h-4"}),"Deploy Agent"]})})]})]})]})})}):null}function Bfe(){var _;const[e,t]=g.useState([]),[r,n]=g.useState([]),[a,i]=g.useState(!0),[l,c]=g.useState(""),[d,f]=g.useState("ALL"),[m,h]=g.useState("ALL"),[x,v]=g.useState(!1),[y,w]=g.useState(null),[j,S]=g.useState(!1),[P,k]=g.useState(!1),E=((_=JSON.parse(localStorage.getItem("user")||"{}"))==null?void 0:_.id)||"",A=async()=>{i(!0);try{const[F,W]=await Promise.all([we.get("/admin/users"),we.get("/admin/branches")]);t(F.data.data),n(W.data.data)}catch{xe.error("Failed to load users")}finally{i(!1)}};g.useEffect(()=>{A()},[]);const z=async(F,W)=>{var ne,Q;try{await we.patch(`/admin/users/${F}/status`,{isActive:W}),xe.success(`User ${W?"activated":"suspended"} successfully`),A()}catch(V){xe.error(((Q=(ne=V.response)==null?void 0:ne.data)==null?void 0:Q.error)||"Failed to update user status")}},O=F=>{w(F),S(!0)},T=F=>{w(F),k(!0)},R=F=>{w(F),t(W=>W.map(ne=>ne.id===F.id?F:ne))},I=e.filter(F=>{const W=F.name.toLowerCase().includes(l.toLowerCase())||F.email.toLowerCase().includes(l.toLowerCase()),ne=d==="ALL"||F.role===d,Q=m==="ALL"||m==="ACTIVE"&&F.isActive||m==="SUSPENDED"&&!F.isActive;return W&&ne&&Q}),D={OWNER:I.filter(F=>F.role==="OWNER"),ADMIN:I.filter(F=>F.role==="ADMIN"),MANAGER:I.filter(F=>F.role==="MANAGER")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-black text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-amber-500/20 to-yellow-500/20 border border-amber-500/30",children:s.jsx(Gu,{className:"w-6 h-6 text-amber-400"})}),"Access Control"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Manage user access and monitor operational intelligence"})]}),s.jsxs(Z.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>v(!0),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-bold
            bg-gradient-to-r from-amber-500 to-yellow-500 text-white
            shadow-lg shadow-amber-500/30 hover:shadow-amber-500/50 transition-all`,children:[s.jsx(Tr,{className:"w-5 h-5"}),"Draft Recruit"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-[240px]",children:[s.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500"}),s.jsx("input",{type:"text",value:l,onChange:F=>c(F.target.value),placeholder:"Search by name or email...",className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700/50
              text-white placeholder-slate-500 focus:outline-none focus:border-amber-500/50`})]}),s.jsxs("select",{value:d,onChange:F=>f(F.target.value),className:`px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700/50
            text-white focus:outline-none focus:border-amber-500/50`,children:[s.jsx("option",{value:"ALL",children:"All Roles"}),s.jsx("option",{value:"OWNER",children:"Owner"}),s.jsx("option",{value:"ADMIN",children:"Admin"}),s.jsx("option",{value:"MANAGER",children:"Manager"})]}),s.jsxs("select",{value:m,onChange:F=>h(F.target.value),className:`px-4 py-2.5 rounded-xl bg-slate-800/50 border border-slate-700/50
            text-white focus:outline-none focus:border-amber-500/50`,children:[s.jsx("option",{value:"ALL",children:"All Status"}),s.jsx("option",{value:"ACTIVE",children:"Active"}),s.jsx("option",{value:"SUSPENDED",children:"Suspended"})]}),s.jsx(Z.button,{whileHover:{scale:1.05,rotate:180},whileTap:{scale:.95},onClick:A,className:"p-2.5 rounded-xl bg-slate-800/50 border border-slate-700/50 text-slate-400 hover:text-white",children:s.jsx(rn,{className:`w-5 h-5 ${a?"animate-spin":""}`})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Un,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-sm text-slate-400",children:"Total Users"})]}),s.jsx("p",{className:"text-2xl font-black text-white",children:e.length})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ss,{className:"w-4 h-4 text-emerald-400"}),s.jsx("span",{className:"text-sm text-slate-400",children:"Active"})]}),s.jsx("p",{className:"text-2xl font-black text-emerald-400",children:e.filter(F=>F.isActive).length})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(W$,{className:"w-4 h-4 text-red-400"}),s.jsx("span",{className:"text-sm text-slate-400",children:"Suspended"})]}),s.jsx("p",{className:"text-2xl font-black text-red-400",children:e.filter(F=>!F.isActive).length})]}),s.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(St,{className:"w-4 h-4 text-amber-400"}),s.jsx("span",{className:"text-sm text-slate-400",children:"Risk Flags"})]}),s.jsx("p",{className:"text-2xl font-black text-amber-400",children:e.filter(F=>F.activeReversalRequests>0).length})]})]}),a?s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx(rn,{className:"w-8 h-8 text-amber-400 animate-spin"})}):I.length===0?s.jsxs("div",{className:"text-center py-20",children:[s.jsx(Un,{className:"w-12 h-12 text-slate-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-400",children:"No users found matching your filters"})]}):s.jsx("div",{className:"space-y-8",children:Object.entries(D).map(([F,W])=>{if(W.length===0)return null;const ne=Pn[F];return s.jsxs("div",{children:[s.jsxs("h2",{className:`text-lg font-bold ${ne.textColor} mb-4 flex items-center gap-2`,children:[s.jsx(ne.icon,{className:"w-5 h-5"}),ne.label,"s (",W.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:s.jsx(Ve,{children:W.map(Q=>s.jsx(Lfe,{user:Q,onStatusToggle:z,onResetPassword:O,onViewDetails:T,currentUserId:E},Q.id))})})]},F)})}),s.jsx(Ffe,{isOpen:x,onClose:()=>v(!1),onSuccess:A,branches:r}),s.jsx(Rfe,{isOpen:j,onClose:()=>{S(!1),w(null)},user:y,onSuccess:A}),s.jsx(_fe,{isOpen:P,onClose:()=>{k(!1),w(null)},user:y,branches:r,onUserUpdated:R,onResetPassword:O})]})}const Ji={OWNER:{label:"Owner",description:"Supreme authority with full system access",icon:qu,color:"amber",gradient:"from-amber-500 to-yellow-500",bgGlow:"bg-amber-500/20",borderColor:"border-amber-500/30",textColor:"text-amber-400",shadowColor:"shadow-amber-500/30"},ADMIN:{label:"Admin",description:"Enterprise-wide management and oversight",icon:Xy,color:"violet",gradient:"from-violet-500 to-purple-500",bgGlow:"bg-violet-500/20",borderColor:"border-violet-500/30",textColor:"text-violet-400",shadowColor:"shadow-violet-500/30"},MANAGER:{label:"Manager",description:"Branch-level operations and sales",icon:Fh,color:"emerald",gradient:"from-emerald-500 to-green-500",bgGlow:"bg-emerald-500/20",borderColor:"border-emerald-500/30",textColor:"text-emerald-400",shadowColor:"shadow-emerald-500/30"}},Gv=[{name:"Dashboard & Intelligence",icon:$h,permissions:[{key:"command_center",label:"Command Center",icon:bu,owner:"full",admin:"full",manager:"none",description:"Global business intelligence dashboard"},{key:"branch_dashboard",label:"Branch Dashboard",icon:hn,owner:"full",admin:"full",manager:"full",description:"Branch-specific performance metrics"}]},{name:"Sales Operations",icon:mn,permissions:[{key:"pos",label:"Point of Sale",icon:mn,owner:"full",admin:"full",manager:"full",description:"Process sales transactions"},{key:"sales_history",label:"View Sales History",icon:Hs,owner:"full",admin:"full",manager:"partial",description:"Manager: Own branch only"},{key:"reversals",label:"Process Reversals",icon:St,owner:"full",admin:"partial",manager:"none",description:"Admin: Requires Owner approval"},{key:"discounts",label:"Apply Discounts",icon:Or,owner:"full",admin:"full",manager:"partial",description:"Manager: Up to 10% limit"}]},{name:"Inventory Management",icon:ct,permissions:[{key:"global_inventory",label:"Global Inventory",icon:lu,owner:"full",admin:"full",manager:"none",description:"View and manage all branches"},{key:"branch_inventory",label:"Branch Inventory",icon:ct,owner:"full",admin:"full",manager:"partial",description:"Manager: View only"},{key:"stock_allocation",label:"Stock Allocation",icon:gu,owner:"full",admin:"full",manager:"none",description:"Transfer stock between branches"},{key:"add_products",label:"Add Products",icon:Tr,owner:"full",admin:"full",manager:"none",description:"Create new product records"}]},{name:"Procurement",icon:bo,permissions:[{key:"create_orders",label:"Create Orders",icon:Tr,owner:"full",admin:"full",manager:"none",description:"Create procurement orders"},{key:"approve_payments",label:"Approve Payments",icon:Or,owner:"full",admin:"partial",manager:"none",description:"Admin: Up to KES 100K"},{key:"manage_suppliers",label:"Manage Suppliers",icon:vr,owner:"full",admin:"full",manager:"none",description:"Add/edit supplier records"}]},{name:"Staff Control",icon:Un,permissions:[{key:"view_users",label:"View Users",icon:fn,owner:"full",admin:"full",manager:"none",description:"View user list and stats"},{key:"create_users",label:"Create Users",icon:Tr,owner:"full",admin:"partial",manager:"none",description:"Admin: Managers only"},{key:"suspend_users",label:"Suspend Users",icon:wi,owner:"full",admin:"partial",manager:"none",description:"Admin: Managers only"},{key:"reset_passwords",label:"Reset Passwords",icon:D$,owner:"full",admin:"partial",manager:"none",description:"Admin: Managers only"}]},{name:"System Settings",icon:go,permissions:[{key:"branch_settings",label:"Branch Settings",icon:vr,owner:"full",admin:"full",manager:"none",description:"Manage branch configuration"},{key:"audit_logs",label:"Audit Logs",icon:Hs,owner:"full",admin:"full",manager:"none",description:"View system activity logs"},{key:"system_config",label:"System Configuration",icon:go,owner:"full",admin:"none",manager:"none",description:"Global system settings"}]}];function Yv({status:e,description:t}){const n={full:{icon:zr,label:"Full Access",bg:"bg-emerald-500/20",border:"border-emerald-500/30",text:"text-emerald-400"},partial:{icon:St,label:"Limited",bg:"bg-amber-500/20",border:"border-amber-500/30",text:"text-amber-400"},none:{icon:Ze,label:"No Access",bg:"bg-red-500/10",border:"border-red-500/20",text:"text-red-400/60"}}[e],a=n.icon;return s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:`
        flex items-center justify-center gap-1.5 px-3 py-1.5 rounded-lg
        ${n.bg} ${n.border} border ${n.text} text-xs font-bold
        transition-all cursor-help
      `,children:[s.jsx(a,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:n.label})]}),t&&s.jsxs("div",{className:`absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-3 py-2 rounded-lg
          bg-slate-800 border border-slate-700 text-xs text-slate-300 whitespace-nowrap
          opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-10
          shadow-xl`,children:[t,s.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-slate-800"})]})]})}function Xv({role:e,isExpanded:t,onToggle:r,children:n,level:a}){const i=Ji[e],l=i.icon;return s.jsxs("div",{className:"relative",children:[a>0&&s.jsx("div",{className:"absolute -top-8 left-1/2 w-0.5 h-8 bg-gradient-to-b from-slate-600 to-slate-700"}),s.jsxs(Z.div,{whileHover:{scale:1.02,y:-2},className:`
          relative rounded-2xl overflow-hidden cursor-pointer
          bg-gradient-to-br from-slate-900/90 via-slate-800/80 to-slate-900/90
          backdrop-blur-xl border ${i.borderColor}
          shadow-lg ${i.shadowColor}
          transition-all
        `,onClick:r,children:[s.jsx("div",{className:`absolute inset-0 ${i.bgGlow} opacity-20`}),s.jsx("div",{className:"relative p-5",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`
              p-3 rounded-xl bg-gradient-to-br ${i.gradient}
              shadow-lg ${i.shadowColor}
            `,children:s.jsx(l,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`text-lg font-black ${i.textColor}`,children:i.label}),s.jsx("p",{className:"text-sm text-slate-400",children:i.description})]}),n&&s.jsx(Z.div,{animate:{rotate:t?90:0},className:"text-slate-500",children:s.jsx(Xs,{className:"w-5 h-5"})})]})})]}),s.jsx(Ve,{children:t&&n&&s.jsxs(Z.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 relative",children:[s.jsx("div",{className:"absolute top-0 left-1/2 w-0.5 h-full bg-slate-700"}),s.jsx("div",{className:"pt-8",children:n})]})})]})}function Vfe({role:e,isSelected:t,onSelect:r}){const n=Ji[e],a=n.icon;return s.jsx(Z.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:r,className:`
        relative w-full rounded-xl overflow-hidden text-left transition-all
        ${t?`bg-gradient-to-br ${n.bgGlow} border-2 ${n.borderColor}`:"bg-slate-800/50 border border-slate-700/50 hover:border-slate-600"}
      `,children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`
            p-2 rounded-lg
            ${t?`bg-gradient-to-br ${n.gradient}`:"bg-slate-700"}
          `,children:s.jsx(a,{className:`w-5 h-5 ${t?"text-white":"text-slate-400"}`})}),s.jsxs("div",{children:[s.jsx("h4",{className:`font-bold ${t?n.textColor:"text-white"}`,children:n.label}),s.jsx("p",{className:"text-xs text-slate-400 truncate",children:n.description})]})]})})})}function Ufe(){const[e,t]=g.useState(new Set(["OWNER","ADMIN"])),[r,n]=g.useState("ADMIN"),[a,i]=g.useState("tree"),l=c=>{t(d=>{const f=new Set(d);return f.has(c)?f.delete(c):f.add(c),f})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-black text-white flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl bg-gradient-to-br from-violet-500/20 to-purple-500/20 border border-violet-500/30",children:s.jsx(Yy,{className:"w-6 h-6 text-violet-400"})}),"User Roles"]}),s.jsx("p",{className:"text-slate-400 mt-1",children:"Role hierarchy and permission capabilities"})]}),s.jsxs("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[s.jsxs("button",{onClick:()=>i("tree"),className:`
              px-4 py-2 rounded-lg text-sm font-bold transition-all
              ${a==="tree"?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-slate-400 hover:text-white"}
            `,children:[s.jsx(gu,{className:"w-4 h-4 inline-block mr-2"}),"Hierarchy"]}),s.jsxs("button",{onClick:()=>i("matrix"),className:`
              px-4 py-2 rounded-lg text-sm font-bold transition-all
              ${a==="matrix"?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-slate-400 hover:text-white"}
            `,children:[s.jsx(lu,{className:"w-4 h-4 inline-block mr-2"}),"Matrix"]})]})]}),s.jsx(Ve,{mode:"wait",children:a==="tree"?s.jsxs(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-8",children:[s.jsxs("div",{className:"p-6 rounded-2xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("h2",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(gu,{className:"w-5 h-5 text-violet-400"}),"Role Hierarchy"]}),s.jsx("div",{className:"flex flex-col items-center space-y-4",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx(Xv,{role:"OWNER",level:0,isExpanded:e.has("OWNER"),onToggle:()=>l("OWNER"),children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-sm",children:s.jsx(Xv,{role:"ADMIN",level:1,isExpanded:e.has("ADMIN"),onToggle:()=>l("ADMIN"),children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-full max-w-xs",children:s.jsx(Xv,{role:"MANAGER",level:2,isExpanded:!1,onToggle:()=>{}})})})})})})})})}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-700/50",children:[s.jsx("p",{className:"text-sm text-slate-400 mb-3",children:"Hierarchy Flow"}),s.jsx("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:Object.entries(Ji).map(([c,d],f)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${d.gradient}`}),s.jsx("span",{className:`text-sm font-medium ${d.textColor}`,children:d.label}),f<2&&s.jsx(j$,{className:"w-4 h-4 text-slate-600 ml-2"})]},c))})]})]}),s.jsxs("div",{className:"p-6 rounded-2xl bg-slate-800/30 border border-slate-700/50",children:[s.jsxs("h2",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(lu,{className:"w-5 h-5 text-violet-400"}),"Capability Matrix"]}),s.jsx("div",{className:"grid grid-cols-3 gap-4 mb-6",children:Object.keys(Ji).map(c=>s.jsx(Vfe,{role:c,isSelected:r===c,onSelect:()=>n(c)},c))}),s.jsx("div",{className:"space-y-6",children:Gv.map(c=>{const d=c.icon;return s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-3 flex items-center gap-2",children:[s.jsx(d,{className:"w-4 h-4 text-slate-500"}),c.name]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:c.permissions.map(f=>{const m=f.icon,h=r.toLowerCase(),x=f[h],y={full:{bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400"},partial:{bg:"bg-amber-500/10",border:"border-amber-500/20",text:"text-amber-400"},none:{bg:"bg-slate-800/50",border:"border-slate-700/30",text:"text-slate-500"}}[x];return s.jsxs("div",{className:`
                                flex items-center gap-3 p-3 rounded-xl
                                ${y.bg} border ${y.border}
                                ${x==="none"?"opacity-50":""}
                              `,children:[s.jsx(m,{className:`w-4 h-4 ${y.text}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:`text-sm font-medium ${y.text}`,children:f.label}),f.description&&x!=="none"&&s.jsx("p",{className:"text-xs text-slate-500 truncate",children:f.description})]}),s.jsx("div",{className:`
                                w-2 h-2 rounded-full
                                ${x==="full"?"bg-emerald-400":x==="partial"?"bg-amber-400":"bg-slate-600"}
                              `})]},f.key)})})]},c.name)})})]})]},"tree"):s.jsx(Z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"overflow-x-auto",children:s.jsxs("div",{className:"p-6 rounded-2xl bg-slate-800/30 border border-slate-700/50 min-w-[800px]",children:[s.jsxs("h2",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(lu,{className:"w-5 h-5 text-violet-400"}),"Full Permission Matrix"]}),s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-700/50",children:[s.jsx("th",{className:"py-4 px-4 text-left text-sm font-bold text-slate-400",children:"Permission"}),Object.keys(Ji).map(c=>{const d=Ji[c],f=d.icon;return s.jsx("th",{className:"py-4 px-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${d.gradient}`,children:s.jsx(f,{className:"w-5 h-5 text-white"})}),s.jsx("span",{className:`text-sm font-bold ${d.textColor}`,children:d.label})]})},c)})]})}),s.jsx("tbody",{children:Gv.map(c=>s.jsxs(s.Fragment,{children:[s.jsx("tr",{className:"bg-slate-800/30",children:s.jsx("td",{colSpan:4,className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(c.icon,{className:"w-4 h-4 text-violet-400"}),s.jsx("span",{className:"text-sm font-bold text-violet-300",children:c.name})]})})},`cat-${c.name}`),c.permissions.map((d,f)=>s.jsxs("tr",{className:`
                            border-b border-slate-700/30
                            ${f%2===0?"bg-slate-800/10":""}
                          `,children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(d.icon,{className:"w-4 h-4 text-slate-500"}),s.jsx("span",{className:"text-sm text-slate-300",children:d.label})]})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx(Yv,{status:d.owner,description:d.description})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx(Yv,{status:d.admin,description:d.description})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx(Yv,{status:d.manager,description:d.description})})]},d.key))]}))})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-700/50 flex items-center justify-center gap-6",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded bg-emerald-500/20 border border-emerald-500/30",children:[s.jsx(zr,{className:"w-3 h-3 text-emerald-400"}),s.jsx("span",{className:"text-xs text-emerald-400",children:"Full Access"})]})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded bg-amber-500/20 border border-amber-500/30",children:[s.jsx(St,{className:"w-3 h-3 text-amber-400"}),s.jsx("span",{className:"text-xs text-amber-400",children:"Limited"})]})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded bg-red-500/10 border border-red-500/20",children:[s.jsx(Ze,{className:"w-3 h-3 text-red-400/60"}),s.jsx("span",{className:"text-xs text-red-400/60",children:"No Access"})]})})]})]})},"matrix")}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(Ji).map(([c,d])=>{const f=d.icon,m=c.toLowerCase(),h=Gv.flatMap(w=>w.permissions),x=h.filter(w=>w[m]==="full").length,v=h.filter(w=>w[m]==="partial").length,y=h.filter(w=>w[m]==="none").length;return s.jsxs(Z.div,{whileHover:{y:-4},className:`
                p-5 rounded-xl border ${d.borderColor}
                bg-gradient-to-br from-slate-900/80 to-slate-800/60
              `,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${d.gradient}`,children:s.jsx(f,{className:"w-5 h-5 text-white"})}),s.jsx("h3",{className:`font-bold ${d.textColor}`,children:d.label})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"p-2 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[s.jsx("p",{className:"text-lg font-bold text-emerald-400",children:x}),s.jsx("p",{className:"text-xs text-slate-500",children:"Full"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[s.jsx("p",{className:"text-lg font-bold text-amber-400",children:v}),s.jsx("p",{className:"text-xs text-slate-500",children:"Limited"})]}),s.jsxs("div",{className:"p-2 rounded-lg bg-red-500/10 border border-red-500/20",children:[s.jsx("p",{className:"text-lg font-bold text-red-400/60",children:y}),s.jsx("p",{className:"text-xs text-slate-500",children:"None"})]})]})]},c)})})]})}function jA(){var i;const e=Mn(),t=sa(),r=(i=e.state)==null?void 0:i.intendedPath,a=(l=>{if(!l)return"This Feature";const c=l.split("/").filter(Boolean);return c[c.length-1].split("-").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" ")})(r);return s.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center p-4",children:s.jsxs(Z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-2xl w-full",children:[s.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-8 shadow-2xl",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"w-20 h-20 bg-amber-500/10 border-2 border-amber-500/20 rounded-2xl flex items-center justify-center",children:s.jsx(O$,{className:"w-10 h-10 text-amber-500"})})}),s.jsx("h1",{className:"text-3xl font-black text-white text-center mb-3",children:"Coming Soon"}),s.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 mb-6",children:[s.jsx("p",{className:"text-sm text-zinc-500 text-center mb-1",children:"Requested Feature:"}),s.jsx("p",{className:"text-xl font-bold text-amber-400 text-center",children:a})]}),s.jsx("p",{className:"text-zinc-400 text-center mb-8 leading-relaxed",children:"This feature is currently under development and will be available soon. We're working hard to bring you the best admin experience."}),r&&s.jsxs("div",{className:"bg-zinc-950 border border-zinc-800 rounded-lg px-4 py-3 mb-8",children:[s.jsx("p",{className:"text-xs text-zinc-600 mb-1",children:"Intended Route:"}),s.jsx("code",{className:"text-sm text-zinc-400 font-mono",children:r})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:()=>t(-1),className:`
                flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg
                bg-zinc-800 border border-zinc-700 text-zinc-300
                hover:bg-zinc-700 hover:border-zinc-600 hover:text-white
                transition-all font-semibold text-sm
              `,children:[s.jsx(qA,{className:"w-4 h-4"}),"Go Back"]}),s.jsxs("button",{onClick:()=>t("/admin/command-center"),className:`
                flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg
                bg-amber-500/10 border border-amber-500/20 text-amber-400
                hover:bg-amber-500/20 hover:border-amber-500/30 hover:text-amber-300
                transition-all font-semibold text-sm
              `,children:[s.jsx(I$,{className:"w-4 h-4"}),"Command Center"]})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-zinc-800",children:s.jsx("p",{className:"text-xs text-zinc-600 text-center",children:"Need this feature urgently? Contact your system administrator."})})]}),s.jsxs("div",{className:"absolute inset-0 -z-10 overflow-hidden pointer-events-none",children:[s.jsx(Z.div,{animate:{scale:[1,1.2,1],opacity:[.03,.05,.03]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 left-1/4 w-96 h-96 bg-amber-500 rounded-full blur-3xl"}),s.jsx(Z.div,{animate:{scale:[1,1.3,1],opacity:[.02,.04,.02]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-violet-500 rounded-full blur-3xl"})]})]})})}const Am={POS:{icon:mn,color:"#10b981",gradient:"from-emerald-500/20 to-emerald-500/5",description:"Point of Sale & Receipt Configuration"},TAX:{icon:S$,color:"#f59e0b",gradient:"from-amber-500/20 to-amber-500/5",description:"VAT, Tax Rates & Compliance"},INVENTORY:{icon:ct,color:"#3b82f6",gradient:"from-blue-500/20 to-blue-500/5",description:"Stock Management & Thresholds"},SECURITY:{icon:Gu,color:"#ef4444",gradient:"from-red-500/20 to-red-500/5",description:"Access Control & Authentication"},BUSINESS:{icon:vr,color:"#8b5cf6",gradient:"from-violet-500/20 to-violet-500/5",description:"Company Information & Branding"},NOTIFICATIONS:{icon:Ky,color:"#06b6d4",gradient:"from-cyan-500/20 to-cyan-500/5",description:"Alerts, Reports & Communications"}},Wfe=({color:e})=>s.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:s.jsx("div",{className:"absolute -top-1/2 -left-1/2 w-full h-full opacity-30",style:{background:`radial-gradient(circle at center, ${e}40, transparent 70%)`,animation:"pulse 4s ease-in-out infinite"}})}),Kfe=()=>s.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-zinc-900/80 border border-zinc-700/50 rounded-full backdrop-blur-sm",children:[s.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}),s.jsx("span",{className:"text-xs font-bold text-emerald-400 uppercase tracking-wider",children:"Neural Core Active"}),s.jsx(ZA,{className:"w-4 h-4 text-emerald-500"})]}),qfe=({category:e,settings:t,isActive:r,onClick:n,changesCount:a})=>{const i=Am[e]||{icon:go,color:"#71717a",gradient:"from-zinc-500/20 to-zinc-500/5",description:"System Settings"},l=i.icon;return s.jsxs(Z.button,{onClick:n,whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`relative overflow-hidden p-5 rounded-2xl text-left transition-all duration-300 ${r?"bg-zinc-800/80 border-2 shadow-lg":"bg-zinc-900/60 border border-zinc-800/50 hover:border-zinc-700/50"}`,style:{borderColor:r?i.color:void 0,boxShadow:r?`0 0 30px -10px ${i.color}40`:void 0},children:[r&&s.jsx(Wfe,{color:i.color}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i.gradient} opacity-50`}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl",style:{backgroundColor:`${i.color}15`},children:s.jsx(l,{className:"w-5 h-5",style:{color:i.color}})}),a>0&&s.jsxs("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold text-white",style:{backgroundColor:i.color},children:[a," unsaved"]})]}),s.jsx("h3",{className:"text-sm font-bold text-white mb-1",children:e}),s.jsx("p",{className:"text-[11px] text-zinc-500 line-clamp-1",children:i.description}),s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-zinc-800/50",children:[s.jsxs("span",{className:"text-[10px] text-zinc-600",children:[t.length," settings"]}),s.jsx(Xs,{className:`w-4 h-4 transition-transform ${r?"rotate-90":""}`,style:{color:r?i.color:"#52525b"}})]})]})]})},Hfe=({setting:e,value:t,onChange:r,categoryColor:n})=>{const[a,i]=g.useState(!1),l=e.key.toLowerCase().includes("password")||e.key.toLowerCase().includes("secret")||e.key.toLowerCase().includes("pin"),d=(()=>{const f=e.key.toLowerCase();return f.includes("email")?$l:f.includes("phone")?kl:f.includes("receipt")?mn:f.includes("vat")||f.includes("tax")?L$:f.includes("price")||f.includes("amount")||f.includes("threshold")?Jr:f.includes("time")||f.includes("minutes")||f.includes("days")?zn:f.includes("password")||f.includes("pin")?po:f.includes("user")||f.includes("staff")?Un:f.includes("stock")||f.includes("inventory")?ct:f.includes("print")?Es:f.includes("report")?Hs:f.includes("currency")?nb:Hy})();return e.dataType==="boolean"?s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative bg-zinc-900/60 border border-zinc-800/50 rounded-xl p-4 hover:border-zinc-700/50 transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${n}10`},children:s.jsx(d,{className:"w-4 h-4",style:{color:n}})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-sm font-semibold text-white",children:e.label}),e.description&&s.jsx("p",{className:"text-xs text-zinc-500 mt-0.5 line-clamp-1",children:e.description})]})]}),s.jsxs("button",{onClick:()=>r(e.key,!t),disabled:e.isLocked,className:`relative w-14 h-7 rounded-full transition-all duration-300 ${t?"bg-gradient-to-r shadow-lg":"bg-zinc-800"} ${e.isLocked?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,style:{background:t?`linear-gradient(to right, ${n}, ${n}cc)`:void 0,boxShadow:t?`0 0 15px ${n}40`:void 0},children:[s.jsx(Z.div,{animate:{x:t?28:4},transition:{type:"spring",stiffness:500,damping:30},className:`absolute top-1 w-5 h-5 rounded-full shadow-md ${t?"bg-white":"bg-zinc-600"}`}),t&&s.jsx(zr,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-white/80"})]})]}),e.isLocked&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(wi,{className:"w-3 h-3 text-zinc-600"})})]}):e.dataType==="number"?s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative bg-zinc-900/60 border border-zinc-800/50 rounded-xl p-4 hover:border-zinc-700/50 transition-all",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg mt-1",style:{backgroundColor:`${n}10`},children:s.jsx(d,{className:"w-4 h-4",style:{color:n}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:e.label}),e.description&&s.jsx("p",{className:"text-xs text-zinc-500 mb-3",children:e.description}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",value:t??"",onChange:f=>r(e.key,f.target.value===""?"":Number(f.target.value)),disabled:e.isLocked,className:`w-full px-4 py-2.5 bg-zinc-950 border border-zinc-700 rounded-lg text-white font-mono text-sm focus:outline-none focus:ring-2 transition-all ${e.isLocked?"opacity-50 cursor-not-allowed":""}`,style:{"--tw-ring-color":n}}),e.key.includes("rate")&&s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:"%"}),(e.key.includes("threshold")||e.key.includes("amount"))&&s.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 text-sm",children:"KES"})]})]})]}),e.isLocked&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(wi,{className:"w-3 h-3 text-zinc-600"})})]}):s.jsxs(Z.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"group relative bg-zinc-900/60 border border-zinc-800/50 rounded-xl p-4 hover:border-zinc-700/50 transition-all",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg mt-1",style:{backgroundColor:`${n}10`},children:s.jsx(d,{className:"w-4 h-4",style:{color:n}})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:e.label}),e.description&&s.jsx("p",{className:"text-xs text-zinc-500 mb-3",children:e.description}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:l&&!a?"password":"text",value:t??"",onChange:f=>r(e.key,f.target.value),disabled:e.isLocked,className:`w-full px-4 py-2.5 bg-zinc-950 border border-zinc-700 rounded-lg text-white text-sm focus:outline-none focus:ring-2 transition-all ${e.isLocked?"opacity-50 cursor-not-allowed":""} ${l?"pr-10 font-mono":""}`,style:{"--tw-ring-color":n}}),l&&s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300",children:a?s.jsx(bl,{className:"w-4 h-4"}):s.jsx(fn,{className:"w-4 h-4"})})]})]})]}),e.isLocked&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(wi,{className:"w-3 h-3 text-zinc-600"})})]})},Gfe=({settings:e})=>{const t=new Date;return s.jsxs(Z.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl p-6 shadow-2xl max-w-[300px] mx-auto font-mono text-[11px] text-black",children:[s.jsxs("div",{className:"text-center border-b border-dashed border-zinc-300 pb-4 mb-4",children:[e.show_logo_on_receipt&&s.jsx("div",{className:"w-12 h-12 bg-zinc-200 rounded-lg mx-auto mb-2 flex items-center justify-center",children:s.jsx(vr,{className:"w-6 h-6 text-zinc-500"})}),s.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:e.receipt_header||"PRAM AUTO SPARES"}),s.jsx("p",{className:"text-zinc-600 text-[10px] mt-1",children:e.company_phone||"+254 700 000 000"}),e.kra_pin&&s.jsxs("p",{className:"text-zinc-500 text-[9px]",children:["KRA PIN: ",e.kra_pin]})]}),s.jsxs("div",{className:"space-y-1 mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-600",children:"Receipt:"}),s.jsxs("span",{className:"font-bold",children:[e.receipt_prefix||"RCP","-0001"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-600",children:"Date:"}),s.jsx("span",{children:t.toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-600",children:"Time:"}),s.jsx("span",{children:t.toLocaleTimeString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-zinc-600",children:"Cashier:"}),s.jsx("span",{children:"Josea"})]})]}),s.jsxs("div",{className:"border-t border-dashed border-zinc-300 pt-3 mb-3",children:[s.jsxs("div",{className:"flex justify-between text-[10px] font-bold uppercase text-zinc-500 mb-2",children:[s.jsx("span",{children:"Item"}),s.jsx("span",{children:"Total"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Brake Pad Set"}),s.jsx("p",{className:"text-zinc-500 text-[9px]",children:"2 x 1,500.00"})]}),s.jsx("span",{className:"font-bold",children:"3,000.00"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Oil Filter"}),s.jsx("p",{className:"text-zinc-500 text-[9px]",children:"1 x 800.00"})]}),s.jsx("span",{className:"font-bold",children:"800.00"})]})]})]}),s.jsxs("div",{className:"border-t border-dashed border-zinc-300 pt-3 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:"3,800.00"})]}),e.vat_enabled&&e.show_vat_breakdown&&s.jsxs("div",{className:"flex justify-between text-zinc-600",children:[s.jsxs("span",{children:["VAT (",e.vat_rate||16,"%):"]}),s.jsx("span",{children:e.prices_include_vat?"Incl.":"608.00"})]}),s.jsxs("div",{className:"flex justify-between font-bold text-sm pt-2 border-t border-zinc-200",children:[s.jsx("span",{children:"TOTAL:"}),s.jsx("span",{children:"KES 3,800.00"})]})]}),s.jsxs("div",{className:"text-center mt-4 pt-4 border-t border-dashed border-zinc-300",children:[s.jsx("p",{className:"text-zinc-600 text-[10px]",children:e.receipt_footer||"Thank you for your business!"}),s.jsx("div",{className:"mt-3 mx-auto w-32 h-8 bg-zinc-200 flex items-center justify-center text-[8px] text-zinc-500",children:"[BARCODE]"})]})]})},Yfe=()=>s.jsx("div",{className:"min-h-screen bg-black p-6 animate-pulse",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 bg-zinc-800 rounded-lg w-48"}),s.jsx("div",{className:"h-4 bg-zinc-800/50 rounded w-64"})]}),s.jsx("div",{className:"h-10 bg-zinc-800 rounded-full w-40"})]}),s.jsx("div",{className:"grid grid-cols-6 gap-4 mb-8",children:[1,2,3,4,5,6].map(e=>s.jsx("div",{className:"bg-zinc-900 rounded-2xl p-5 h-36"},e))}),s.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[s.jsx("div",{className:"col-span-8 bg-zinc-900 rounded-2xl p-6 h-[500px]"}),s.jsx("div",{className:"col-span-4 bg-zinc-900 rounded-2xl p-6 h-[500px]"})]})]})});function Xfe(){const[e,t]=g.useState({}),[r,n]=g.useState(!0),[a,i]=g.useState(!1),[l,c]=g.useState("POS"),[d,f]=g.useState({}),[m,h]=g.useState(!1),x=async()=>{var O,T;try{const R=await we.get("/settings");R.data.success&&(t(R.data.data),R.data.totalSettings===0&&await v())}catch(R){console.error("Failed to fetch settings:",R),xe.error("Failed to load settings",{description:((T=(O=R.response)==null?void 0:O.data)==null?void 0:T.message)||"Please try again"})}finally{n(!1)}},v=async()=>{try{const O=await we.post("/settings/initialize");O.data.success&&(xe.success("Settings initialized",{description:`Created ${O.data.created} default settings`}),await x())}catch(O){console.error("Failed to initialize settings:",O)}};g.useEffect(()=>{x()},[]);const y=g.useMemo(()=>{const O={};return Object.values(e).flat().forEach(T=>{O[T.key]=d[T.key]??T.value}),O},[e,d]),w=(O,T)=>{f(R=>({...R,[O]:T}))},j=O=>(e[O]||[]).filter(R=>d[R.key]!==void 0&&d[R.key]!==R.value).length,S=Object.keys(d).filter(O=>{const T=Object.values(e).flat().find(R=>R.key===O);return T&&d[O]!==T.value}).length,P=async()=>{var T,R,I;if(S===0){xe.info("No changes to save");return}i(!0);const O=xe.loading("Saving configuration...",{description:`Updating ${S} settings`});try{const D=Object.entries(d).filter(([F])=>{const W=Object.values(e).flat().find(ne=>ne.key===F);return W&&d[F]!==W.value}).map(([F,W])=>({category:Object.keys(e).find(ne=>e[ne].some(Q=>Q.key===F)),key:F,value:W})),_=await we.put("/settings",{settings:D});xe.dismiss(O),_.data.success&&(xe.success("Configuration saved!",{description:`Updated ${((T=_.data.updated)==null?void 0:T.length)||S} settings`}),f({}),await x())}catch(D){xe.dismiss(O),xe.error("Failed to save",{description:((I=(R=D.response)==null?void 0:R.data)==null?void 0:I.message)||"Please try again"})}finally{i(!1)}},k=()=>{f({}),xe.info("Changes discarded")},E=async()=>{var T,R;i(!0);const O=xe.loading("Resetting to defaults...");try{const I=await we.post(`/settings/reset/${l}`);xe.dismiss(O),I.data.success&&(xe.success("Reset complete",{description:`${l} settings restored to defaults`}),h(!1),f({}),await x())}catch(I){xe.dismiss(O),xe.error("Reset failed",{description:((R=(T=I.response)==null?void 0:T.data)==null?void 0:R.message)||"Only owners can reset settings"})}finally{i(!1)}};if(r)return s.jsx(Yfe,{});const A=Am[l]||Am.POS,z=e[l]||[];return s.jsxs("div",{className:"min-h-screen bg-black",children:[s.jsx("div",{className:"sticky top-0 z-20 bg-black/80 backdrop-blur-xl border-b border-zinc-800/50",children:s.jsx("div",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx(ZA,{className:"w-7 h-7 text-emerald-500"}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"System Configuration"}),s.jsx("span",{className:"px-2.5 py-1 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-xs font-bold text-emerald-400 uppercase tracking-wider",children:"Neural Core"})]}),s.jsx("p",{className:"text-sm text-zinc-500",children:"Central configuration hub for all system parameters"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[S>0&&s.jsxs(Z.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center gap-2 px-3 py-1.5 bg-amber-500/10 border border-amber-500/20 rounded-full",children:[s.jsx(St,{className:"w-4 h-4 text-amber-400"}),s.jsxs("span",{className:"text-xs font-bold text-amber-400",children:[S," unsaved"]})]}),s.jsx(Kfe,{})]})]})})}),s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsx("div",{className:"grid grid-cols-6 gap-4 mb-6",children:Object.keys(Am).map(O=>s.jsx(qfe,{category:O,settings:e[O]||[],isActive:l===O,onClick:()=>c(O),changesCount:j(O)},O))}),s.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[s.jsx(Z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"col-span-8",children:s.jsxs("div",{className:"bg-zinc-900/60 backdrop-blur-sm border border-zinc-800/50 rounded-2xl overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-zinc-800/50",style:{background:`linear-gradient(to right, ${A.color}10, transparent)`},children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl",style:{backgroundColor:`${A.color}15`},children:(()=>{const O=A.icon;return s.jsx(O,{className:"w-5 h-5",style:{color:A.color}})})()}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-bold text-white",children:[l," Settings"]}),s.jsx("p",{className:"text-xs text-zinc-500",children:A.description})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-3 py-2 bg-zinc-800/50 hover:bg-zinc-800 border border-zinc-700/50 rounded-lg text-zinc-400 hover:text-white text-xs font-medium transition-colors",children:[s.jsx(Pl,{className:"w-3.5 h-3.5"}),"Reset"]})})]})}),s.jsx("div",{className:"p-6 space-y-4 max-h-[600px] overflow-y-auto custom-scrollbar",children:z.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(lu,{className:"w-12 h-12 text-zinc-700 mx-auto mb-3"}),s.jsx("p",{className:"text-zinc-500",children:"No settings configured"}),s.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-emerald-500/10 border border-emerald-500/20 rounded-lg text-emerald-400 text-sm font-medium hover:bg-emerald-500/20 transition-colors",children:"Initialize Defaults"})]}):z.map(O=>s.jsx(Hfe,{setting:O,value:d[O.key]??O.value,onChange:w,categoryColor:A.color},O.key))}),s.jsx("div",{className:"px-6 py-4 border-t border-zinc-800/50 bg-zinc-950/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-600",children:[s.jsx(Wy,{className:"w-4 h-4"}),s.jsxs("span",{children:[z.length," settings in category"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[S>0&&s.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2.5 bg-zinc-800 hover:bg-zinc-700 rounded-xl text-zinc-300 text-sm font-medium transition-colors",children:[s.jsx(Ze,{className:"w-4 h-4"}),"Discard"]}),s.jsxs("button",{onClick:P,disabled:S===0||a,className:`flex items-center gap-2 px-6 py-2.5 rounded-xl text-white text-sm font-bold transition-all ${S>0?"bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 shadow-lg shadow-emerald-500/20":"bg-zinc-800 text-zinc-500 cursor-not-allowed"}`,children:[a?s.jsx(rn,{className:"w-4 h-4 animate-spin"}):s.jsx(nz,{className:"w-4 h-4"}),a?"Saving...":"Save Changes"]})]})]})})]})},l),s.jsx("div",{className:"col-span-4",children:s.jsxs("div",{className:"bg-zinc-900/60 backdrop-blur-sm border border-zinc-800/50 rounded-2xl overflow-hidden sticky top-24",children:[s.jsx("div",{className:"px-6 py-4 border-b border-zinc-800/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-violet-500/10",children:s.jsx(fn,{className:"w-4 h-4 text-violet-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-white",children:"Live Preview"}),s.jsx("p",{className:"text-xs text-zinc-500",children:"Receipt preview with your settings"})]})]})}),s.jsx("div",{className:"p-6 bg-gradient-to-b from-zinc-950/50 to-zinc-900/30",children:s.jsx(Gfe,{settings:y})}),s.jsx("div",{className:"px-6 py-4 border-t border-zinc-800/50 bg-zinc-950/30",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs text-zinc-500",children:[s.jsx(Es,{className:"w-4 h-4"}),s.jsxs("span",{children:[y.thermal_printer_width||80,"mm thermal paper"]})]})})]})})]})]}),s.jsx(Ve,{children:m&&s.jsx(Z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>h(!1),children:s.jsx(Z.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:O=>O.stopPropagation(),className:"bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-red-500/10",children:s.jsx(St,{className:"w-6 h-6 text-red-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:"Reset to Defaults"}),s.jsx("p",{className:"text-sm text-zinc-500",children:"This action cannot be undone"})]})]}),s.jsxs("p",{className:"text-zinc-400 text-sm mb-6",children:["Are you sure you want to reset all ",s.jsx("span",{className:"font-bold text-white",children:l})," settings to their default values? Any custom configurations will be lost."]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>h(!1),className:"flex-1 px-4 py-2.5 bg-zinc-800 hover:bg-zinc-700 rounded-xl text-white text-sm font-medium transition-colors",children:"Cancel"}),s.jsx("button",{onClick:E,disabled:a,className:"flex-1 px-4 py-2.5 bg-red-600 hover:bg-red-500 rounded-xl text-white text-sm font-bold transition-colors",children:a?"Resetting...":"Reset to Defaults"})]})]})})})}),s.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #3f3f46;
          border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #52525b;
        }
        @keyframes pulse {
          0%, 100% { transform: scale(1); opacity: 0.3; }
          50% { transform: scale(1.5); opacity: 0.1; }
        }
      `})]})}function Qfe({children:e}){return rt(r=>r.isAuthenticated)?s.jsx(s.Fragment,{children:e}):s.jsx(xu,{to:"/login",replace:!0})}function Zfe(){return s.jsxs(Q8,{children:[s.jsx(Oo,{position:"top-right",expand:!1,richColors:!0,theme:"dark",toastOptions:{style:{background:"#09090b",border:"1px solid #27272a",color:"#fafafa"},className:"font-sans"}}),s.jsxs(C8,{children:[s.jsx(wt,{path:"/login",element:s.jsx(dq,{})}),s.jsxs(wt,{path:"/",element:s.jsx(Qfe,{children:s.jsx(vW,{})}),children:[s.jsx(wt,{index:!0,element:s.jsx(KK,{})}),s.jsx(wt,{path:"pos",element:s.jsx(ZK,{})}),s.jsx(wt,{path:"sales",element:s.jsx(JK,{})}),s.jsx(wt,{path:"inventory",element:s.jsx(tq,{})}),s.jsx(wt,{path:"customers",element:s.jsx(nq,{})}),s.jsx(wt,{path:"restock",element:s.jsx(aq,{})}),s.jsx(wt,{path:"debts",element:s.jsx(uq,{})}),s.jsx(wt,{path:"transfers",element:s.jsx("div",{className:"p-8 text-white",children:"Transfers (Coming Soon)"})}),s.jsx(wt,{path:"credits",element:s.jsx("div",{className:"p-8 text-white",children:"Credits (Coming Soon)"})}),s.jsx(wt,{path:"*",element:s.jsx(xu,{to:"/",replace:!0})})]}),s.jsx(wt,{element:s.jsx(BK,{}),children:s.jsxs(wt,{path:"/admin",element:s.jsx(FK,{}),children:[s.jsx(wt,{index:!0,element:s.jsx(xu,{to:"/admin/command-center",replace:!0})}),s.jsx(wt,{path:"command-center",element:s.jsx(Hde,{})}),s.jsx(wt,{path:"inventory",element:s.jsx(Zde,{})}),s.jsx(wt,{path:"allocation",element:s.jsx(efe,{})}),s.jsx(wt,{path:"orders",element:s.jsx(dfe,{})}),s.jsx(wt,{path:"audit",element:s.jsx(rfe,{})}),s.jsx(wt,{path:"customers",element:s.jsx(vfe,{})}),s.jsx(wt,{path:"procurement",element:s.jsx(Tfe,{})}),s.jsx(wt,{path:"staff",element:s.jsx(Bfe,{})}),s.jsx(wt,{path:"roles",element:s.jsx(Ufe,{})}),s.jsx(wt,{path:"settings",element:s.jsx(Xfe,{})}),s.jsx(wt,{path:"coming-soon",element:s.jsx(jA,{})}),s.jsx(wt,{path:"*",element:s.jsx(jA,{})})]})})]})]})}tL.createRoot(document.getElementById("root")).render(s.jsxs(Se.StrictMode,{children:[s.jsx(Zfe,{}),s.jsx(Oo,{position:"top-right",richColors:!0,closeButton:!0})]}));
